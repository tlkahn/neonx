(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,a){"use strict";var n=a(4),o=a(5),s=a(285),i=a.n(s),r=function(){function e(t){Object(n.a)(this,e),this.db=new i.a({filename:"./db/".concat(t,".db"),autoload:!0})}return Object(o.a)(e,[{key:"find",value:function(e){var t=this;return new Promise(function(a,n){t.db.find(e||{},function(e,t){e&&n(e),a(t)})})}},{key:"insert",value:function(e){var t=this;return new Promise(function(a,n){t.db.insert(e,function(e){e&&n(e),a()})})}},{key:"remove",value:function(e){var t=this;return new Promise(function(a,n){t.db.remove(e,function(e){e&&n(e),a()})})}}]),e}();t.a=r},276:function(e,t,a){},278:function(e,t,a){},284:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return d});var n=a(3),o=a(15),s=a.n(o),i=a(20),r=a(4),c=a(5),l=(a(96),a(50)),u=a.n(l),p=a(169),m=a(73),d=function(){function t(e){Object(r.a)(this,t),this.__address=e.address,this.__network=e.network,this.__wif="",this.__password="",this.__pwdHash="",this.__phone="",t.__store||(t.__store=new p.a(t.Defaults.DBFileName))}return Object(c.a)(t,[{key:"encrypt",value:function(a){var n=e.alloc(16,0),o=u.a.createCipheriv(t.Defaults.Encryption,a.slice(0,24),n);return this.__wif=o.update(this.__wif,"utf8","hex")+o.final("hex"),this}},{key:"readDecrypted",value:function(){var a=Object(i.a)(s.a.mark(function a(n){var o=this;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(){var a=Object(i.a)(s.a.mark(function a(i,r){var c,l;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t0=n,!a.t0){a.next=5;break}return a.next=4,o.matches(n);case 4:a.t0=a.sent;case 5:if(!a.t0){a.next=11;break}c=e.alloc(16,0),l=u.a.createDecipheriv(t.Defaults.Encryption,o.pwdHash.slice(0,24),c),i(l.update(o.__wif,"hex","utf8")+l.final("utf8")),a.next=12;break;case 11:r({error:"password not match"});case 12:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},{key:"hash",value:function(){var e=Object(i.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.hash(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"matches",value:function(){var e=Object(i.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hash(t);case 2:return a=e.sent,e.abrupt("return",a===this.__pwdHash||a===this.pwdHash);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t,a,n){throw"needs implementation"}},{key:"erase",value:function(){this.constructor.store.remove({address:this.address})}},{key:"toObject",value:function(){var e={name:this.name,address:this.address,wif:this.wif,network:this.network,coinType:this.coinType};return this.__password&&(e.password=this.__password),this.__pwdHash&&(e.pwdHash=this.__pwdHash),this.__phone&&(e.phone=this.__phone),e}},{key:"coinType",get:function(){return this.__coinType}},{key:"coins",get:function(){throw"needs implementation"}},{key:"name",get:function(){return this.__name}},{key:"address",get:function(){return this.__address}},{key:"network",get:function(){return this.__network}},{key:"wif",get:function(){return this.__wif}},{key:"phone",get:function(){return this.__phone}}],[{key:"generate",value:function(){throw"needs implementation"}},{key:"find",value:function(e){var t=this,a=this;return new Promise(function(o,r){t.store.find(Object(n.a)({},e)).then(function(){var e=Object(i.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.map(function(e){return new a(e)}),o(n);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(e){r(e)})})}},{key:"create",value:function(e,t,a,n,o,s){throw"needs implementation"}},{key:"store",get:function(){return t.__store||(t.__store=new p.a(t.Defaults.DBFileName)),this.__store}}]),t}();d.Defaults={Encryption:"aes-192-cbc",Path:"m/44'/0'/0'/0/0",DBFileName:"wallets-v38"}}).call(this,a(12).Buffer)},295:function(e,t,a){e.exports=a(671)},300:function(e,t,a){},307:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},338:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},345:function(e,t){},347:function(e,t){},378:function(e,t){},379:function(e,t){},632:function(e,t,a){},633:function(e,t,a){},634:function(e,t,a){},650:function(e,t,a){},651:function(e,t,a){},652:function(e,t,a){},653:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},656:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){},661:function(e,t,a){},662:function(e,t,a){},663:function(e,t,a){},665:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){},668:function(e,t,a){},669:function(e,t,a){},671:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(41),i=a.n(s),r=(a(300),a(4)),c=a(5),l=a(7),u=a(6),p=a(8),m=a(13),d=a(1),h=(a(307),a(308),a(309),a(75)),f=a(280),g=(a(310),function(e){return function(t,a){t({type:"GOTO_CONVERSATION",payload:{id:e}})}}),v=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Object(f.a)(".conversation-snippet",20)}},{key:"gotoMessages",value:function(){var e=this.props.data.id;"undefined"!==typeof this.props.goToConversation&&this.props.goToConversation(e);var t=new CustomEvent("openSideMenu",this.props.data);document.dispatchEvent(t)}},{key:"render",value:function(){var e=this.props.data,t=e.photo,a=e.name,n=e.text;return o.a.createElement("div",{className:"conversation-list-item",onClick:this.gotoMessages.bind(this)},o.a.createElement("img",{className:"conversation-photo",src:t,alt:"conversation"}),o.a.createElement("div",{className:"conversation-info"},o.a.createElement("h1",{className:"conversation-title"},a),o.a.createElement("p",{className:"conversation-snippet"},n)))}}]),t}(n.Component),y=Object(m.b)(null,{goToConversation:g,sendCryptos:function(e,t,a,n,o){return function(s,i){s({type:"SEND_CRYPTO_STARTED",payload:{crypto:e,amount:t,account:a,recipient:n,messageText:o}}),setTimeout(function(){s({type:"SEND_CRYPTO_SUCCESS",payload:{crypto:e,amount:t,account:a,recipient:n,messageText:o}})},2e3)}}})(v),b=(a(96),a(311),a(3)),E={searchMessageText:""},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_MESSAGE_TEXT":return Object(b.a)({},e,{searchMessageText:t.payload.searchText});default:return e}},O=function(e){return e.searchMessageText.searchMessageText},C={conversationId:null,latestMessage:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_LOCATION":return Object(b.a)({},e,{conversationId:t.payload.conversationId,latestMessage:t.payload.message});default:return e}},j=function(e){var t=e.sendLocation;return{conversationId:t.conversationId,latestMessage:t.latestMessage}},S={sendCryptoStarted:!1,sendCryptoSuccess:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_CRYPTO_STARTED":return Object(b.a)({},e,{sendCryptoStarted:!0,crypto:t.payload.crypto,amount:t.payload.amount,account:t.payload.account,recipient:t.payload.recipient,messageText:t.payload.messageText});case"SEND_CRYPTO_SUCCESS":return Object(b.a)({},e,{sendCryptoSuccess:!0,sendCryptoStarted:!1,crypto:t.payload.crypto,amount:t.payload.amount,account:t.payload.account,recipient:t.payload.recipient,messageText:t.payload.messageText});default:return e}},_=function(e){var t=e.sendCryptos,a=t.crypto,n=t.amount,o=t.account,s=t.recipient,i=t.messageText;return e.sendCryptos.sendCryptoStarted?{status:"started",crypto:a,amount:n,account:o,recipient:s,messageText:i}:e.sendCryptos.sendCryptoSuccess?{status:"success",crypto:a,amount:n,account:o,recipient:s,messageText:i}:void 0},I={conversationId:null,latestMessage:null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_TEXT":return Object(b.a)({},e,{conversationId:t.payload.conversationId,latestMessage:t.payload.message,timestamp:t.payload.timestamp});default:return e}},D=function(e){var t=e.sendText;return{conversationId:t.conversationId,latestMessage:t.latestMessage,timestamp:t.timestamp}},x="apple",B=a(49),P=a.n(B),M="https://warm-depths-29783.herokuapp.com",L={text:"text",crypto:"crypto",location:"location",image:"image"},A="ropsten",U="https://ethgasstation.info/json/ethgasAPI.json",R=21e3,F="0xe3D9bDBd165bbefbb7B6A889C3B5781730286252",H="".concat(M,"/users/"),Y=function(e){return P.a.get("".concat(H).concat(e,".json")).then(function(e){return e.data})};var W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAY1BMVEX///9gYGBbW1tXV1eSkpJdXV2/v79TU1Pi4uL8/PxSUlLx8fH5+flkZGT19fVqamrq6uqFhYWMjIzU1NSoqKhvb2+5ubnMzMzExMTb29t0dHSxsbF+fn6jo6NpaWmamppJSUkq+eqCAAAH2UlEQVR4nO2dCWKjOgyGExuHsIY17GHuf8oJ7UymTRrLxgLBe/4O0PLHi6zF8uFgsVgsFovFYrFYLBaLxWKxWCwWi8Xy/yFOmqoYRift2/JyKds+zZyxq5ok8Kg/zZgwqLoxbSPG2R3xD8Y4Z1HbO0UehNRfOZuwKlLh8ruw4xsmpa7ohzqh/tYZ5F3v38W90/ZNJ+N+VDTUX6zFuYiYmrp/Klk0NDuZr8m1P3IteQ+R7XCm/nqY3Jkl749IfnQ2rrHqXTZX3ifMTytqFW/x6ps7e/i+DKQbnail/Eh8KvU2F4lG3ufUcl6pyvnL7weNwtmYiUwcjPn5Fca6DdkOr+CG+8tP8GgzW04VcXx9x2k5jpsYxsDB2mBe4e0GrGPTLjBBH4jjlVrgFXuHeYanpDM1SN1l9d1hR0K7kV+WnKF/ERGZ+a/fu7a4Eo9Ep7jT8jP0r0ReUAjs/LUE3vlFsKWOy1j5n+Hj6vq8bI095iFwWF+gs+oIri/wMKy2ydzxCbaZVQXybn2B3ZprkBHsovWaa5BCYD5T4Eeq4iN9MaUsFD0ul+A0k0TaRzUxhe1FOhbXU13leV7Vp87pIzjoL9x6fYFeqrkI7+puWfFT6iWuiixyJSqFoAhjFHoCBS/HPH6bJfTiynkboxMkcZpcSyCL0iqA/mRQ9eKnvyoEhdMU6vhLnBeKvmvjvOYChE+SbtNYhFwUGinsYPS//3YiIolBnZQNBYsKcHp+p0m/rkd2IRGYXBTnqOCZfmzFO0WPGSJKmiiiqkvIZoYAk5b/naI0wadGcQT9dPb3DR8zlV00ZzgWrWLZgclBqzqKI+uJBKptM+xitsk3EacSGB9VhpAZJxqSlEjgoVMZQt5SfZ45QaQiMKX+TANUhpA51F9pQFDCq5DRZokMucJDKMqN1RZoEcLnNSE2kK6dzwn2Kdx91RY+Aw8hRUwMkTOYZmJ7thMHpeDMrhfhIQQDiBRhTUwqKE3Bsp3X3DvQJGV7toSHKcoNCSTJsiMCOoYspv5EQ1Jgn6EplEAkBg7dVGEjPKAAFCPIsuMCuhV7H8JDLx9Dtn6pCzIhMEndDVbV6wHl06I9O/YfAAGa/U9S6MjmbqaefjZALJ9Tf5858iHcdQDxk0Du3vN9By8mcrlvyLRtRZI5eGQISQTAsdA/k55/MTx8BGMsD9GIUvsPnjHrGjlC9ERuLERGqxDB9/bkzuGM2k9cheZbeSg/d3N9e4+qUPTGIbBQbvC5figfVSHCqRhw8Bm1Qt84RBTfpApn5JuQFRobRCC5PaP4DFmhcTYhkBuLi34EA1eheU4vkH6PKPUnCa5CbnyoCaSHtg0oNHZPtz5LuXGpO7TTkCs0Pphu3VqYj+HWLb75OgRObTM2663tpRs/eSPEozfuPWFU8WzbAz765mmhbUcxEHyLBSJRqAqFedYEPZqI6+NfzBWiR4RxFbYIhTzYUX1chfo73SvYmRncWBtGDQGUXdNdiOdfXAfg98VIm2BnSOPrSYMaiPVhZC+Js9xy783FKPqkrVRI5L+vj1ITSVptUsmPVBHKP4Hukixa9DVIFSJloEmrvuTLECO5dlCo3LstN4jAmRHrPjtUfblgAa18kqItELB0TyxVQRvL73mIFun/gBfzFhtEwHXD+79UleweYKhmZC/fQHUbQW4MZ+UU3gDfKEHatr/jAW4Niuv0B2BLW6jWGzpqYP6sJDe75Im96WfFvFUtz158SEQvcIO6+jHESXo3ifDlNbyN7RPwHgvu2g/hQRS4Nftn8CdFCJV+RemmM+K6gO+OY1e2Kt1W79Hcfa8Hl4V51umJdTsOgKeoOfkEALWuEUjbWwdHHBcoTi6UOn/0GMv/CgsUN/wWI7FS/x3z7i1qv+UiNwLX6cBzOIwKHdMWuhGo2EVJGFniOFNaDcvEhlQ7CvoGFfRBrzRT+EKNfpS7mc1uhnVSa2u62L3cQLUj3f1UPGedJLAZ/ECIxa7/a3QVvOl2FTzE3U1xGRj1SwNQ7wwpeFToHOK8q/JbQ2ghtp+INR5cEVx0qvY/KYT6W0r6tQM6aHZoFRncoXVq0co0/uzSHdo1u+wyfhlziUgvqZ2L1lNYol24g8OcTsllVlTJy6L0wnM9pELxFcgHy9+sTpS6Cz6JZNy/ZUN3PVV500ztrrvB6Y+qb1x+ZY13IIB80FuZnx3Lueu6nKu3LH+C9csLXLnr/HfmFJbPYdWXA74rXKu9wUA0iu56D0Gs+sjMg1Vfm1Hy4pDBDXJDaJtFBIHpug3FPJVgA6rA9dsLF2u+aIUUxdPktKJEov699XKPVz4LpGrql5frLEY2kHUtTNIVrIagbS9y9ZeeqQw796pLUy47jHz+OwRYBA7mc9VPCNFtoXFotdhzpKzcSP/lcHh9CQcB4Q7baZWWZOg7jnDTbTUnxn09/m4iLgQvksmJry2eRn7ptviORFjrhT7fIRjTznqsRt36pnuO4NEmx+9B7jCDgRTM7+stWEApybUXM6OhvBybzeub8M7DRTvky1ikksfZDF5elMpR++mNy2jYk7w/hFXRTwF8yZOC0wOeLm/HE/nxei5eUHVj2h4/n1gVX5iyGO6xTcdO8sblXvCCpKmL0cnSvm8n+r7PxuJaNUmwe3EveHEY/vdUWSwWi8VisVgsFovFYrFYLBaLxWKxWCyWnfAb6191vvL9OMEAAAAASUVORK5CYII=",G=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={conversations:[]},a.MY_USER_ID=x,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"_getLastMessageAndTimeStampBy",value:function(e){this.messages.forEach(function(e){e.timestamp=new Date(e.timestamp)});var t=this.messages&&this.messages.filter(function(t){return t.author==e||t.recipient==e}).orderBy("timestamp","desc").head();return[t.message,t.timestamp]}},{key:"componentDidMount",value:function(){var e=this;this.messages=JSON.parse(window.localStorage.getItem("messages")),this.messages&&this.messages.length||(this.messages=[{id:1,author:"1",recipient:"apple",message:"hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:2,author:"2",recipient:"apple",message:"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:3,author:"2",recipient:"apple",message:"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:4,author:"apple",recipient:"1",message:"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:5,author:"apple",recipient:"2",message:"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:6,author:"apple",recipient:"3",message:"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:7,author:"2",recipient:"apple",message:"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:8,author:"3",recipient:"apple",message:"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:9,author:"apple",recipient:"1",message:"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.",messageForm:"text",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())},{id:10,author:"3",recipient:"apple",messageForm:"text",message:"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!",timestamp:(new Date).getTime()-Math.floor(1e6*Math.random())}],window.localStorage.setItem("messages",JSON.stringify(this.messages))),this._getConversations().then(function(t){e.setState({conversations:t})})}},{key:"componentWillReceiveProps",value:function(e,t){if(JSON.stringify(e.sendTextStatus)!==JSON.stringify(this.props.sendTextStatus)){var a=this.state.conversations,n=a.find(["id",e.sendTextStatus.conversationId]);if(n)n.text=e.sendTextStatus.latestMessage,n.timestamp=e.sendTextStatus.timestamp,this.setState({conversations:a});else if(e.sendTextStatus.conversationId){var o=e.sendTextStatus,s=o.conversationId,i=o.latestMessage,r=o.timestamp;this.setState({conversations:[].concat(Object(h.a)(a),[{photo:W,name:"Group Chat",id:s,text:i,timestamp:r}])})}}}},{key:"_getConversations",value:function(){var e=this,t=[];if(this.messages){var a=!0,n=!1,o=void 0;try{for(var s,i=this.messages[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var r=s.value;r.author!=this.MY_USER_ID&&t.push(r.author+""),r.recipient!=this.MY_USER_ID&&t.push(r.recipient+"")}}catch(p){n=!0,o=p}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}var c=t.uniq().filter(function(e){return 1===e.split(",").length}),l=t.uniq().filter(function(e){return e.split(",").length>1}),u=c.map(function(e){return Y(e)});return Promise.all(u).then(function(t){var a=t.map(function(t){return{photo:t.photo,name:t.name,id:t.id,text:e._getLastMessageAndTimeStampBy(t.id)[0]||"",timestamp:e._getLastMessageAndTimeStampBy(t.id)[1]||""}}),n=l.map(function(t){var a=e._getLastMessageAndTimeStampBy(t)[0]||"",n=e._getLastMessageAndTimeStampBy(t)[1]||"";return{id:t,name:"Group chat",photo:W,text:a,timestamp:n}});return a.concat(n)})}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"conversation-list",key:"conversation-list"+this.state.conversations.length+this.props.sendTextStatus.latestMessage+this.props.sendTextStatus.timestamp},this.state.conversations&&this.state.conversations.orderBy("timestamp","desc").map(function(t){return o.a.createElement(y,{key:t.id+t.text,data:t,conversations:e.state.conversations})}))}}]),t}(n.Component),q=Object(m.b)(function(e){return{searchMessageText:O(e),locationStatus:j(e),sendCryptoStatus:_(e),sendTextStatus:D(e)}},{})(G),K=a(15),V=a.n(K),J=a(20),z=a(22),Z=a(57),Q=(a(328),a(672),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={composedContents:"",emojiSelected:!1},a.onCommentChange=function(e){return a.setState({composedContents:e.target.value})},a.handleKeyDown=a._handleKeyDown.bind(Object(Z.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"_handleKeyDown",value:function(e){13===e.which&&this.state.composedContents.trim().length>0&&this.props.onSubmit&&this._submit()}},{key:"_submit",value:function(){this.props.onSubmit(this.state.composedContents),this.setState({composedContents:""}),this.composedInput.blur()}},{key:"componentWillReceiveProps",value:function(e,t){"undefined"===typeof e.receivedEmoji||"undefined"===typeof e.receivedEmoji.colons||e.stopReceivingEmoji||document.querySelector(".emoji-mart")&&document.querySelector(".emoji-mart").offsetParent&&this.setState({composedContents:this.state.composedContents+e.receivedEmoji.colons})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"compose"},o.a.createElement("input",{type:"text",className:"compose-input",placeholder:"Type a message, @name",value:this.state.composedContents,onChange:this.onCommentChange,onKeyDown:this.handleKeyDown,ref:function(t){e.composedInput=t}}),o.a.createElement(d.ToolbarButton,{key:"send",icon:"ion-ios-send",onClick:this._submit.bind(this)}),o.a.createElement(d.ToolbarButton,{key:"more",icon:"ion-ios-more",MsgLst:this,onClick:this.props.more}))}}]),t}(n.Component)),X=a(16),$=a.n(X),ee=(a(329),a(282)),te=a.n(ee),ae=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a.bubbleContent="",a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isMine,n=e.startsSequence,s=e.endsSequence,i=e.showTimestamp;t.messageForm===L.text?this.bubbleContent=o.a.createElement(te.a,{text:t.message}):t.messageForm===L.location?this.bubbleContent=o.a.createElement("div",null,t.location.poiname):t.messageForm===L.image?this.bubbleContent=o.a.createElement("div",null,o.a.createElement("img",{src:t.imageUrl,className:"message-bubble-thumbnail"})):t.messageForm===L.crypto&&(this.bubbleContent=o.a.createElement("div",null,"You've just sent ",t.amount," ",t.crypto," to ",t.recipient));var r=$()(t.timestamp).format("LLLL");return o.a.createElement("div",{className:["message","".concat(a?"mine":""),"".concat(n?"start":""),"".concat(s?"end":"")].join(" ")},i&&o.a.createElement("div",{className:"timestamp"},r),o.a.createElement("div",{className:"bubble-container"},o.a.createElement("div",{className:"bubble",title:r},this.bubbleContent)))}}]),t}(n.Component),ne=(a(338),a(184),a(339),a(292)),oe=a(283),se=a.n(oe),ie=(a(341),a(342),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={usrInfo:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){this._isMounted&&this.getUsrInfo(e.memberIds)}},{key:"getUsrInfo",value:function(e){var t=this;Promise.all(e.map(function(e){return Y(e)})).then(function(e){t.setState({usrInfo:e})})}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return o.a.createElement("div",{className:"group-chat-member-icons-wrapper"},this.state.usrInfo.length>0?this.state.usrInfo.map(function(e){return o.a.createElement("span",{key:"usr-info-"+e.id},o.a.createElement("img",{className:"conversation-photo",src:e.photo,alt:"conversation"}))}):null)}}]),t}(o.a.Component)),re=null,ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOTO_CONVERSATION":return t.payload.id;default:return e}},le={selectedEmoji:""},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_EMOJI":return Object(b.a)({},e,{selectedEmoji:t.payload.emoji});default:return e}},pe={groupUsrIds:[]},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe.groupUsrIds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOTO_GROUPCHAT":return{groupUsrIds:t.payload.groupUsrIds};default:return e}},de=a(120),he={owed:{BTC:0,ETH:0,EOS:0},status:null,result:{}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_CRYPTO_TO_HUB":if("success"===t.payload.status){var a=t.payload.coinType,n=t.payload.amount;return Object(b.a)({},e,{owed:Object(b.a)({},e.owed,Object(de.a)({},a,e.owed[a]+n)),status:t.payload.status,result:t.payload.result})}return Object(b.a)({},e,{status:"failure",reason:t.payload.reason});default:return e}},ge={wallets:[]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state.wallets",e.wallets),console.log("action.payload.wallet",t.payload&&t.payload.wallet),t.type){case"CREATE_NEW_WALLET":if(!Object(z.find)(e.wallets,{address:t.payload.wallet.address}))return Object(b.a)({},e,{wallets:[].concat(Object(h.a)(e.wallets),[t.payload.wallet])});default:return e}},ye=function(e){return{wallets:e.createNewWallet.wallets}};function be(e){var t=RegExp(e+"[^;]+").exec(document.cookie);return decodeURIComponent(t?t.toString().replace(/^[^=]+./,""):"")}var Ee=a(293),ke=a(284),Oe=a(170),Ce=a.n(Oe),we=a(160),je=a.n(we),Se=a(172),Te=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).__coinType="ETH",a.__name=e.name,a.__address=e.address,a.__phone=e.phone,a.__mnemonic=e.mnemonic,a.__privateKey=e.privateKey,a.__publicKey=e.publicKey,a.__network=e.network,a.__wif=e.wif,a.__pwdHash=e.__pwdHash,a.pwdHash=e.pwdHash,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"save",value:function(){var e=this.toObject();return console.log(Object(b.a)({network:this.network},this,e)),this.constructor.store.insert(Object(b.a)({network:this.network},this,e))}},{key:"getGasPrice",value:function(e){return new Promise(function(t,a){var n=e.speed||"fast";P.a.get(U).then(function(e){t(e.data[n])},function(e){a(e)})})}},{key:"getGasLimit",value:function(e){return e.gasLimit||R}},{key:"coins",value:function(){var e=this;return new Promise(function(t,a){var n=e.address;n?e.web3.eth.getBalance(n).then(function(e){console.log({balance:e}),t(e)}):a({success:!1,message:"Invalid address",data:null})})}},{key:"getPrivateKey",value:function(){var e=this;return new Promise(function(t,a){var n=window.prompt("Please input your password:","");t(e.readDecrypted(n))})}},{key:"send",value:function(e,t,a,n){var o=this;return new Promise(function(){var a=Object(J.a)(V.a.mark(function a(s,i){var r,c,l,u,p,m,d;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=o.address,c=o.getPrivateKey(),l=t,u=je.a.toWei(e,"ether"),console.log({senderAddress:r,senderPrivateKey:c,recipientAddress:l,value:u}),p=o.getGasPrice(n),m=o.getGasLimit(n),d=o.web3,Promise.all([c,p]).then(function(e){var t=Object(Ee.a)(e,2),a=t[0],n=t[1];d.eth.getTransactionCount(r,"pending",function(e,t){if(e)throw console.log("error when sending eth: ",e),i(e),e;var o={from:r,to:l,value:u,gasPrice:n,nonce:t,gasLimit:m},c=Se.a.signTransaction(o,a);d.eth.sendSignedTransaction("0x"+c,function(e,t){if(e)throw console.log({success:!1,message:e.toString(),data:null}),i(e),e;console.log({success:!0,message:"Transaction was sent successfully. Transaction hash: "+t+".",data:null}),s({success:!0,message:"Transaction was sent successfully. Transaction hash: "+t+".",data:{rawTransaction:o},result:t})})})},function(e){i(e)});case 9:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())}},{key:"update",value:function(){var e=Object(J.a)(V.a.mark(function e(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.coins();case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"web3",get:function(){return new Ce.a(new Ce.a.providers.HttpProvider("http://localhost:7545"))}}],[{key:"generate",value:function(){var e=Se.a.createIdentity(),t=e.privateKey,a=e.publicKey,n=e.address;return Object.assign(this,{privateKey:t,publicKey:a,address:n}),{privateKey:t,publicKey:a,address:n}}},{key:"create",value:function(e,a,n,o,s,i,r){return new t({phone:e,name:a,address:i,mnemonic:n,privateKey:o,publicKey:s,network:A,wif:o,pwdHash:r})}}]),t}(ke.a),_e=F;function Ie(e){var t=e.error||e.message;return t.length>100?t.slice(0,100)+"...":t}var Ne=Object.freeze({individual:Symbol("individual"),groupChat:Symbol("groupChat")}),De=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).postImageContent=Object(z.debounce)(function(e){var t=a.state.messages.length+1,n=a.state.messages.concat([{id:t,author:x,recipient:a.props.conversationId,imageUrl:e,timestamp:(new Date).getTime(),messageForm:L.image,message:"You just sent an image"}]),o=a._filterMessages(n,a.props.conversationId);a.setState(Object(b.a)({},a.state,{id:t,dialogOpen:!1,messages:n,filteredMessages:o}))}),a.cryptoPortfolio=function(){return new Promise(function(e,t){var n=a.props.wallets,o=n.map(function(e){return e.__coinType}).uniq(),s={},i=!0,r=!1,c=void 0;try{for(var l,u=function(){var e=l.value;Promise.all(n.filter({coinType:e}).map(function(){var e=Object(J.a)(V.a.mark(function e(t){var a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Te(t),e.next=3,a.coins();case 3:return n=e.sent,e.abrupt("return",{addr:a.address,balance:parseInt(n)/1e18});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(t){s[e]=t})},p=o[Symbol.iterator]();!(i=(l=p.next()).done);i=!0)u()}catch(m){r=!0,c=m}finally{try{i||null==p.return||p.return()}finally{if(r)throw c}}console.log({result:s}),e(s)})},a.state={messages:[],filteredMessages:[],dialogOpen:!1,sendCryptoDialogOpen:!1,cryptoRangeDialogOpen:!1,emojiDialogOpen:!1,locationDialogOpen:!1,locationPickedP:!1,locationPickedObj:{},cryptoToBeSentCoinName:0,cryptoToBeSentFromAddr:0,cryptoToBeSentMax:0,cryptoToBeSent:0,currentWalletIdx:null,cryptoToBeSentRecipient:null,sendCryptoDialogFlipped:!1,conversationType:Ne.individual,infoDialogOpen:!1,cryptoPortfolio:{}},window.addEventListener("message",function(e){var t=e.data;t&&"locationPicker"==t.module&&(console.log("location",t),a.setState(Object(b.a)({},a.state,{locationPickedObj:t,locationPickedP:!0})))},!1),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"_appendMessageToQueue",value:function(e,t){var a=this.state.messages.concat([e]),n=this._filterMessages(a,this.props.conversationId);window.localStorage.setItem("messages",JSON.stringify(a)),this.setState(Object(b.a)({},this.state,{messages:a,filteredMessages:n}),t)}},{key:"postNewComposedContent",value:function(e){var t=this.state.messages.length+1;if(e.trim().length>1){var a={id:t,author:x,recipient:this.props.conversationId,message:e,timestamp:(new Date).getTime(),messageForm:L.text};this._appendMessageToQueue(a),this.props.sendText({id:t,author:x,recipient:this.props.conversationId,conversationId:this.props.conversationId,message:e,timestamp:(new Date).getTime(),messageForm:L.text})}}},{key:"postLocationContent",value:function(){var e=this.state.messages.length+1,t=this.state.messages.concat([{id:e,author:x,location:this.state.locationPickedObj,timestamp:(new Date).getTime(),messageForm:L.location,message:"You just shared a location.",recipient:this.props.conversationId}]),a=this._filterMessages(t,this.props.conversationId);this.setState(Object(b.a)({},this.state,{id:e,author:x,recipient:this.props.conversationId,locationPickedP:!1,locationDialogOpen:!1,dialogOpen:!1,messages:t,filteredMessages:a})),this.props.sendLocation({id:e,author:x,location:this.state.locationPickedObj,timestamp:(new Date).getTime(),messageForm:L.location,message:"You just shared a location.",recipient:this.props.conversationId,conversationId:this.props.conversationId})}},{key:"componentDidMount",value:function(){this.messageListContainer.scrollIntoView(!1),this.wallets=this.props.wallets||{}}},{key:"_filterMessages",value:function(e,t){return t?e.filter(function(e){return e.author==t&&e.recipient==x||e.recipient==t&&e.author==x}):e}},{key:"getMessages",value:function(e){var t=JSON.parse(window.localStorage.getItem("messages")),a=this._filterMessages(t,e);this.setState(function(e){return Object(b.a)({},e,{messages:t,filteredMessages:a})})}},{key:"componentDidUpdate",value:function(){this.messageListContainer.scrollIntoView(!1),window.localStorage.setItem("messages",JSON.stringify(this.state.messages))}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;if(this.getMessages(e.conversationId,x),!this.props.groupChatUsrIds&&e.groupChatUsrIds||this.props.groupChatUsrIds!==e.groupChatUsrIds){var n=e.groupChatUsrIds+"";this.setState({conversationType:Ne.groupChat,messages:[].concat(Object(h.a)(this.state.messages),[{id:this.state.messages.length+1,type:"update",updateText:"You entered into group chat with "+e.groupChatUsrIds.join(" "),recipient:x,author:n,groupMembers:e.groupChatUsrIds,timestamp:(new Date).getTime(),message:"You entered into group chat with "+e.groupChatUsrIds.join(" ")}])});var o=this._filterMessages(this.state.messages);this.setState({filteredMessages:o}),this.props.msg.updateSessionId({currentSessionId:n})}if(!this.props.sendCryptoToHubResult&&e.sendCryptoToHubResult||this.props.sendCryptoToHubResult!==e.sendCryptoToHubResult){if(console.log("sendCryptoToHubResult",e.sendCryptoToHubResult),"failure"===e.sendCryptoToHubResult.status)return void this.setState({sendCryptoToHubStatus:"failure",sendCryptoToHubFailureReason:e.sendCryptoToHubResult.reason});this.state.cryptoPortfolio.ETH[0].balance-=e.sendCryptoToHubResult.owed.ETH;var s={id:this.state.messages.length+1,author:x,recipient:this.props.conversationId,conversationId:this.props.conversationId,message:"You sent ".concat(this.state.cryptoToBeSent*this.state.cryptoToBeSentMax/100," ").concat(this.state.cryptoToBeSentCoinName," to ").concat(this.props.conversationId),timestamp:(new Date).getTime(),messageForm:L.text};this.props.sendText(s),this._appendMessageToQueue(s,this.closeSendCryptoDialog.bind(this)),this.forceUpdate()}Object(z.isEqual)(e.wallets,this.props.wallets)&&this.cryptoPortfolio().then(function(e){a.setState({cryptoPortfolio:e})})}},{key:"refreshCryptoPortfolio",value:function(){var e=this;return this.cryptoPortfolio().then(function(t){e.setState({cryptoPortfolio:t}),console.log({cryptoPortfolio:t})})}},{key:"renderMessages",value:function(){for(var e=0,t=this.state.filteredMessages.length,a=[];e<t;){var n=this.state.filteredMessages[e-1],s=this.state.filteredMessages[e];if("undefined"==typeof s.type){var i=this.state.filteredMessages[e+1],r=s.author===x,c=$()(s.timestamp),l=!0,u=!0,p=!0;if(n){var m=$()(n.timestamp),d=$.a.duration(c.diff(m));n.author===s.author&&d.as("hours")<1&&(l=!1),d.as("hours")<1&&(p=!1)}if(i){var h=$()(i.timestamp),f=$.a.duration(h.diff(c));i.author===s.author&&f.as("hours")<1&&(u=!1)}a.push(o.a.createElement(ae,{key:e+"@"+this.state.messages.length,isMine:r,startsSequence:l,endsSequence:u,showTimestamp:p,data:s}))}else"update"===s.type&&a.push(o.a.createElement("div",{className:"update-text",key:"update-text-".concat(e)},s.updateText));e+=1}return a}},{key:"toggleDialog",value:function(){this.setState({dialogOpen:!this.state.dialogOpen})}},{key:"toggleSendCryptoDialog",value:function(){this.setState(Object(b.a)({},this.state,{dialogOpen:!1,sendCryptoDialogFlipped:!1,sendCryptoDialogOpen:!this.state.sendCryptoDialogOpen,cryptoToBeSent:0}))}},{key:"closeSendCryptoDialog",value:function(){this.setState(Object(b.a)({},this.state,{dialogOpen:!1,sendCryptoDialogOpen:!1,sendCryptoDialogFlipped:!1,cryptoToBeSent:0}))}},{key:"flipSendCryptoDialog",value:function(e,t,a){this.setState({sendCryptoDialogFlipped:!this.state.sendCryptoDialogFlipped,cryptoToBeSentMax:t.balance,cryptoToBeSentCoinName:e,cryptoToBeSentFromAddr:t.addr,currentWalletIdx:a})}},{key:"toggleEmojiDialog",value:function(){this.setState(Object(b.a)({},this.state,{dialogOpen:!1,emojiDialogOpen:!this.state.emojiDialogOpen}))}},{key:"selectEmoji",value:function(e){this.props.selectEmoji(e)}},{key:"toggleLocationDialog",value:function(){this.setState(Object(b.a)({},this.state,{locationDialogOpen:!this.state.locationDialogOpen}))}},{key:"toggleInfoDialog",value:function(){this.setState({infoDialogOpen:!this.state.infoDialogOpen,dialogOpen:!1})}},{key:"closeInfoDialog",value:function(){this.setState({dialogOpen:!1,infoDialogOpen:!1})}},{key:"handleAlertDialogCancel",value:function(){this.setState(Object(b.a)({},this.state,{locationPickedP:!this.state.locationPickedP}))}},{key:"handleAlertDialogOk",value:function(){this.postLocationContent()}},{key:"openCamera",value:function(){var e=this;this.imageInput=document.querySelector("#camera-input"),this.imageInput.addEventListener("change",function(t){t.preventDefault();var a=t.target.files[0];console.log(a),e.postImageContent(URL.createObjectURL(a))}),this.imageInput.click()}},{key:"sendCrypto",value:function(){var e=Object(J.a)(V.a.mark(function e(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshCryptoPortfolio(),this.props.sendCryptoToHub({amount:this.state.cryptoToBeSent*this.state.cryptoToBeSentMax/100,coinType:this.state.cryptoToBeSentCoinName,wallet:new Te(this.props.wallets[this.state.currentWalletIdx])});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t="";return"failure"===this.state.sendCryptoToHubStatus&&(t=o.a.createElement("div",{className:"crypto-send-status"},"Failure because ",this.state.sendCryptoToHubFailureReason)),o.a.createElement(d.Page,{key:"message-list-with-len-"+this.state.messages.length},o.a.createElement("div",{className:"message-list"},o.a.createElement("div",{className:"message-list-container",ref:function(t){e.messageListContainer=t}},this.renderMessages()),o.a.createElement(Q,{onSubmit:this.postNewComposedContent.bind(this),more:this.toggleDialog.bind(this),receivedEmoji:this.props.selectedEmoji,stopReceivingEmoji:!this.state.emojiDialogOpen}),o.a.createElement(d.Dialog,{isOpen:this.state.dialogOpen,onCancel:this.toggleDialog.bind(this),cancelable:!0},o.a.createElement("ons-row",null,o.a.createElement("ons-col",{width:"20%"},o.a.createElement(d.ToolbarButton,{key:"photo",icon:"ion-ios-camera",onClick:this.openCamera.bind(this)},o.a.createElement("input",{id:"camera-input",type:"file",accept:"image/*",style:{display:"none"}}))),o.a.createElement("ons-col",{width:"20%"},o.a.createElement(d.ToolbarButton,{key:"emoji",icon:"ion-md-happy",onClick:this.toggleEmojiDialog.bind(this)})),o.a.createElement("ons-col",{width:"20%"},o.a.createElement(d.ToolbarButton,{key:"location",icon:"ion-ios-location",onClick:this.toggleLocationDialog.bind(this)})),o.a.createElement("ons-col",{width:"20%"},o.a.createElement(d.ToolbarButton,{key:"image",icon:"ion-logo-bitcoin",onClick:this.toggleSendCryptoDialog.bind(this)})),o.a.createElement("ons-col",{width:"20%"},o.a.createElement(d.ToolbarButton,{key:"person",icon:"ion-ios-person"}))),o.a.createElement("ons-row",null,o.a.createElement("ons-col",null,o.a.createElement(d.ToolbarButton,{width:"20%",key:"document",icon:"ion-ios-document"})),o.a.createElement("ons-col",null,o.a.createElement(d.ToolbarButton,{width:"20%",key:"info",icon:"ion-ios-information-circle-outline",onClick:this.toggleInfoDialog.bind(this)})),o.a.createElement("ons-col",null,o.a.createElement(d.ToolbarButton,{width:"20%",key:"video",icon:"ion-ios-videocam"})),o.a.createElement("ons-col",null,o.a.createElement(d.ToolbarButton,{width:"20%",key:"phone",icon:"ion-ios-call"})),o.a.createElement("ons-col",null,o.a.createElement(d.ToolbarButton,{width:"20%",key:"voice",icon:"ion-ios-pulse"})))),o.a.createElement(d.Dialog,{isOpen:this.state.emojiDialogOpen,onCancel:this.toggleEmojiDialog.bind(this),cancelable:!0},o.a.createElement(ne.a,{set:"apple",onClick:function(t){return e.selectEmoji.bind(e)(t)},title:"Pick your emoji\u2026",emoji:"point_up"})),o.a.createElement(d.Dialog,{className:"sendLocationDialog",isOpen:this.state.locationDialogOpen,onCancel:this.toggleLocationDialog.bind(this),cancelable:!0},o.a.createElement("iframe",{id:"mapPage",width:"100%",height:"100%",frameBorder:"0",src:"https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=2GTBZ-QOKKD-7GR4W-PTM6I-5D53E-CFBNA&referer=myapp"})),o.a.createElement(d.AlertDialog,{isOpen:this.state.locationPickedP,onCancel:this.handleAlertDialogCancel.bind(this),cancelable:!0},o.a.createElement("div",{className:"alert-dialog-title"},"Confirm"),o.a.createElement("div",{className:"alert-dialog-content"},"Send ",this.state.locationPickedObj.poiname," to ",this.props.conversationId,"?"),o.a.createElement("div",{className:"alert-dialog-footer"},o.a.createElement(d.Button,{onClick:this.handleAlertDialogCancel.bind(this),className:"alert-dialog-button"},"Cancel"),o.a.createElement(d.Button,{onClick:this.handleAlertDialogOk.bind(this),className:"alert-dialog-button"},"Ok"))),o.a.createElement(d.Dialog,{isOpen:this.state.sendCryptoDialogOpen,onCancel:this.closeSendCryptoDialog.bind(this),cancelable:!0},o.a.createElement(se.a,{isFlipped:this.state.sendCryptoDialogFlipped,flipDirection:"vertical"},o.a.createElement("div",{key:"front",className:"crypto-list-wrapper"},o.a.createElement("ons-list",null,Object.keys(this.state.cryptoPortfolio).map(function(t,a){return o.a.createElement("div",{key:"crypto-wrapper-"+a},o.a.createElement("ons-list-header",null,t),e.state.cryptoPortfolio[t].map(function(a,n){return o.a.createElement("ons-list-item",{key:"send-crypto-"+t+n,onClick:function(){return e.flipSendCryptoDialog(t,a,n)}},o.a.createElement("div",{className:"center",key:"send-crypto-"+t+n+"-div-center"},a.addr.slice(0,6)+"..."),o.a.createElement("div",{className:"right",key:"send-crypto-"+t+n+"-div-right"},a.balance))}))}))),o.a.createElement("div",{key:"back",className:"crypto-slider-wrapper"},o.a.createElement(d.Range,{modifier:"material",value:this.state.cryptoToBeSent,onChange:Object(z.debounce)(function(t){e.setState({cryptoToBeSent:parseInt(t.target.value)})},300,{trailing:!0})}),o.a.createElement("div",null,o.a.createElement("span",{className:"crypto-span"},this.state.cryptoToBeSent*this.state.cryptoToBeSentMax/100),o.a.createElement("span",null,this.state.cryptoToBeSentCoinName," from ",this.state.cryptoToBeSentFromAddr)),o.a.createElement("div",null,o.a.createElement(d.Button,{modifier:"quiet",onClick:this.sendCrypto.bind(this)},"Send")),o.a.createElement("div",{className:"send-crypto-status"},o.a.createElement("div",{className:"send-crypto-status-start",style:{display:"undefined"!==typeof this.props.sendCryptoStatus&&"success"!==this.props.sendCryptoStatus.status?"inline-block":"none"}},"Loading...",o.a.createElement("ons-icon",{icon:"ion-ios-refresh",spin:!0}))),t))),o.a.createElement(d.Dialog,{isOpen:this.state.infoDialogOpen,onCancel:this.closeInfoDialog.bind(this)},o.a.createElement("div",null,this.state.conversationType===Ne.individual?this.props.conversationId:o.a.createElement(ie,{memberIds:this.props.groupChatUsrIds})))))}}]),t}(n.Component),xe={selectEmoji:function(e){return function(t,a){t({type:"SELECT_EMOJI",payload:{emoji:e}})}},sendLocation:function(e){return function(t,a){t({type:"SEND_LOCATION",payload:Object(b.a)({},e)})}},sendText:function(e){return function(t,a){t({type:"SEND_TEXT",payload:Object(b.a)({},e)})}},sendCryptoToHub:function(e){return function(t,a){var n=e.amount,o=(e.coinType,e.wallet),s=e.fee,i=be("password"),r=_e;console.log({sendCryptoToHubWallet:o}),new Te(o).send(n,r,s,i).then(function(n){a().createNewWallet.wallets.forEach(function(){var a=Object(J.a)(V.a.mark(function a(o){var s;return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=new Te(o),a.next=3,s.update();case 3:a.sent,t({type:"SEND_CRYPTO_TO_HUB",payload:Object(b.a)({},e,{status:"success",result:n})});case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())},function(a){throw console.log("error in send crypto to hub",{e:a}),t({type:"SEND_CRYPTO_TO_HUB",payload:Object(b.a)({},e,{status:"failure",reason:Ie(a)})}),a})}}},Be=Object(m.b)(function(e){return{conversationId:function(e){return e.goToConversation}(e),selectedEmoji:function(e){return e.selectEmoji.selectedEmoji}(e),groupChatUsrIds:function(e){return e.goToGroupChat.groupUsrIds}(e),sendCryptoToHubResult:function(e){return e.sendCryptoToHub}(e),wallets:ye(e).wallets}},xe)(De),Pe=(a(632),a(76)),Me=a.n(Pe),Le=(a(633),function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!0};var n=Me()(100),o=Me()(100);return a.names=n.map(function(e,t){return{uid:t,firstName:e,lastName:o[t]}}),a.splitterSideItems=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(b.a)({},this.state,{lastNameAlphabet:"a"}))}},{key:"toggleSplitterSide",value:function(){this.setState(Object(b.a)({},this.state,{collapsed:!this.state.collapsed}))}},{key:"closeSplitterSide",value:function(){this.setState(Object(b.a)({},this.state,{collapsed:!0}))}},{key:"getContactsByLastNameAlphabet",value:function(e){return"undefined"!==typeof e?this.names.filter(function(t){if(t.lastName[0]===e)return t}):[]}},{key:"toggleConversation",value:function(e){var t=this;this.props.goToConversation(e),"undefined"!==typeof this.props.navigator&&this.props.navigator.popPage().then(function(e){var a=new CustomEvent("openSideMenu",t.props.data);document.dispatchEvent(a)})}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Page,null,o.a.createElement(d.Toolbar,null,o.a.createElement("div",{className:"left"},o.a.createElement(d.BackButton,null,"Back")),o.a.createElement("div",{className:"center"},"Last name starts with ",this.state.lastNameAlphabet),o.a.createElement("div",{className:"right notification-menu"},o.a.createElement(d.ToolbarButton,{onClick:function(){return e.toggleSplitterSide()},modifier:"quiet"},o.a.createElement(d.Icon,{icon:"md-menu"})))),o.a.createElement(d.Splitter,null,o.a.createElement(d.SplitterSide,{side:"right",width:200,swipeable:!0,collapse:!0,isOpen:!this.state.collapsed},o.a.createElement(d.Page,null,o.a.createElement(d.List,{dataSource:this.splitterSideItems,renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"splitter-side-item-"+a,tappable:!0,onClick:function(){e.setState(Object(b.a)({},e.state,{lastNameAlphabet:e.splitterSideItems[a]}))}},e.splitterSideItems[a])}}))),o.a.createElement(d.SplitterContent,{onClick:this.closeSplitterSide.bind(this)},o.a.createElement(d.Page,null,o.a.createElement(d.List,{dataSource:this.getContactsByLastNameAlphabet(this.state.lastNameAlphabet),renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"splitter-content-item-"+a,tappable:!0,onClick:function(a){e.toggleConversation(t.uid)}},function(){var t=e.getContactsByLastNameAlphabet(e.state.lastNameAlphabet)[a];return o.a.createElement("div",{className:"center list-item__center",key:"splitter-content-item-"+a+"-div"},t.firstName," ",t.lastName)}())}})))))}}]),t}(o.a.Component)),Ae=Object(m.b)(null,{goToConversation:g})(Le);a(634);function Ue(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Re=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!0,checked:[]};var n=Me()(100),o=Me()(100).map(Ue);return a.names=n.map(function(e,t){return{uid:t,firstName:Ue(e),lastName:Ue(o[t])}}),a.splitterSideItems=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a._mounted=!1,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(b.a)({},this.state,{lastNameAlphabet:"A"})),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"toggleSplitterSide",value:function(){this._mounted&&this.setState(Object(b.a)({},this.state,{collapsed:!this.state.collapsed}))}},{key:"closeSplitterSide",value:function(){this._mounted&&this.setState(Object(b.a)({},this.state,{collapsed:!0}))}},{key:"getContactsByLastNameAlphabet",value:function(e){return"undefined"!==typeof e?this.names.filter(function(t){if(t.lastName[0]===e)return t}):[]}},{key:"toggleSelectContact",value:function(e){this.state.checked.includes(e)?this.state.checked=this.state.checked.filter(function(t){return t!==e}):this.state.checked.push(e),this.forceUpdate()}},{key:"isCheckMarkVisible",value:function(e){return this.state.checked.includes(e)}},{key:"goToGroupConversation",value:function(){var e=this;this.props.navigator.popPage({data:{groupUsrIds:this.state.checked}}).then(function(t){e.props.goToGroupChat(e.state.checked)})}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Page,null,o.a.createElement(d.Toolbar,null,o.a.createElement("div",{className:"left"},o.a.createElement(d.BackButton,null)),o.a.createElement("div",{className:"center add-group-submit-btn"},o.a.createElement(d.Button,{modifier:"quiet",onClick:this.goToGroupConversation.bind(this)},o.a.createElement(d.Icon,{icon:"ion-ios-checkmark"}))),o.a.createElement("div",{className:"right notification-menu"},o.a.createElement(d.ToolbarButton,{onClick:function(){return e.toggleSplitterSide()},modifier:"quiet"},o.a.createElement(d.Icon,{icon:"md-menu"})))),o.a.createElement(d.Splitter,null,o.a.createElement(d.SplitterSide,{side:"right",width:200,swipeable:!0,collapse:!0,isOpen:!this.state.collapsed},o.a.createElement(d.Page,null,o.a.createElement(d.List,{dataSource:this.splitterSideItems,renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"splitter-side-item-"+a,tappable:!0,onClick:function(){e.setState(Object(b.a)({},e.state,{lastNameAlphabet:e.splitterSideItems[a]}))}},e.splitterSideItems[a])}}))),o.a.createElement(d.SplitterContent,{onClick:this.closeSplitterSide.bind(this)},o.a.createElement(d.Page,null,o.a.createElement("div",{className:"selected-uids-wrapper"},this.state.checked?o.a.createElement(ie,{memberIds:this.state.checked}):""),o.a.createElement(d.List,{dataSource:this.getContactsByLastNameAlphabet(this.state.lastNameAlphabet),renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"splitter-content-item-"+a,tappable:!0,onClick:function(a){e.toggleSelectContact(t.uid)}},function(){var n=e.getContactsByLastNameAlphabet(e.state.lastNameAlphabet)[a];return o.a.createElement("div",{className:"center list-item__center list-item-contact-name",key:"splitter-content-item-"+a+"-div"},o.a.createElement("div",{className:"icon-checkmark-wrapper"},o.a.createElement(d.Icon,{icon:"ion-ios-checkmark-circle",style:{display:e.isCheckMarkVisible(t.uid)?"inline-block":"none"}})),o.a.createElement("div",{className:"name-wrapper"},n.firstName," ",o.a.createElement("b",null,n.lastName)))}())}})))))}}]),t}(o.a.Component),Fe=Object(m.b)(null,{goToGroupChat:function(e){return function(t,a){t({type:"GOTO_GROUPCHAT",payload:{groupUsrIds:e}})}}})(Re),He=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isOpen:!0,hidden:!0,contactListDialogOpen:!1},a.backBtn=o.a.createRef(),document.addEventListener("openSideMenu",function(e){a.toggle()}),a._isMounted=!1,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillUpdate",value:function(e,t,a){t.hidden?this.backBtn.current.classList.add("hidden"):this.backBtn.current.classList.remove("hidden")}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggle",value:function(){this._isMounted&&(this.setState({isOpen:!this.state.isOpen,hidden:!this.state.hidden,hideStatus:this.state.hidden?"hidden":""}),this.forceUpdate())}},{key:"updateSessionId",value:function(e){var t=e&&e.currentSessionId;t&&(this.setState({currentSessionId:t}),this.props.goToConversation(t))}},{key:"pushContactList",value:function(){this.props.navigator.pushPage({comp:Ae,props:{key:"ContactList",navigator:this.props.navigator}})}},{key:"pushAddContactsToGroup",value:function(){this.props.navigator.pushPage({comp:Fe,props:{key:"AddContactsToGroup",navigator:this.props.navigator}})}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Page,null,o.a.createElement(d.Toolbar,null,o.a.createElement("div",{className:"center"},"Messenger"),o.a.createElement("div",{className:"left hidden messenger-back-btn",ref:this.backBtn},o.a.createElement(d.ToolbarButton,{onClick:function(){return e.toggle()},icon:"ion-ios-arrow-back"})),o.a.createElement("div",{className:"right"},o.a.createElement(d.ToolbarButton,{onClick:this.pushContactList.bind(this),modifier:"quiet",style:{display:this.state.isOpen?"inline-block":"none"}},o.a.createElement(d.Icon,{icon:"ion-ios-contacts"}))),o.a.createElement("div",{className:"right add-group-btn"},o.a.createElement(d.ToolbarButton,{onClick:this.pushAddContactsToGroup.bind(this),modifier:"quiet",style:{display:this.state.isOpen?"none":"inline-block"}},o.a.createElement(d.Icon,{icon:"ion-ios-plus"})))),o.a.createElement(d.Splitter,null,o.a.createElement(d.SplitterSide,{side:"left",width:"100%",collapse:!0,swipeable:!0,isOpen:this.state.isOpen},o.a.createElement(d.Page,null,"  ",o.a.createElement(q,{msg:this,currentSessionId:this.state.currentSessionId})," ")),o.a.createElement(d.SplitterContent,null,o.a.createElement(d.Page,null,"  ",o.a.createElement(Be,{msg:this})," "))))}}]),t}(n.Component),Ye=Object(m.b)(null,{goToConversation:g})(He),We=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"renderPage",value:function(e,t){return e.props=e.props||{},e.props.navigator=t,o.a.createElement(e.comp,e.props)}},{key:"render",value:function(){return o.a.createElement(d.Navigator,{initialRoute:{comp:Ye,props:{key:"messenger"}},renderPage:this.renderPage})}}]),t}(o.a.Component),Ge=(a(274),a(275),a(276),a(287)),qe=a.n(Ge),Ke=a(288),Ve=(a(650),a(294)),Je=(a(651),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.iframeHead=this.node.contentDocument.head,this.iframeRoot=this.node.contentDocument.body,this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.head,s=Object(Ve.a)(t,["children","head"]);return o.a.createElement("iframe",Object.assign({},s,{ref:function(t){return e.node=t}}),this.iframeHead&&i.a.createPortal(n,this.iframeHead),this.iframeRoot&&i.a.createPortal(a,this.iframeRoot))}}]),t}(o.a.Component)),ze=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(d.Page,null,o.a.createElement(d.Toolbar,null,o.a.createElement("div",{className:"center"},this.props.name),o.a.createElement("div",{className:"left"},o.a.createElement(d.BackButton,null)),o.a.createElement("div",{className:"right dapp-wrapper-toolbarbutton-more"},o.a.createElement(d.ToolbarButton,{key:"dapp-wrapper-toolbarbutton-more",icon:"ion-ios-more"}))),o.a.createElement("div",{className:"frame-wrapper"},o.a.createElement(Je,{src:this.props.url})))}}]),t}(o.a.Component),Ze=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"gotoComponent",value:function(e,t,a,n){this.props.navigator.pushPage({comp:e,props:{key:t,name:a,url:n}})}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Card,null,o.a.createElement("div",{className:"element",onClick:function(){e.gotoComponent(ze,"dapp-wrapper",e.props.name,e.props.url)}},o.a.createElement("h3",null,this.props.name),o.a.createElement("p",null,this.props.subtitle),o.a.createElement("img",{alt:"",src:this.props.coverimg})))}}]),t}(o.a.Component),Qe=(a(652),a(653),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={liked:a.props.liked||!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.setState(Object(b.a)({},this.state,{liked:!this.state.liked})),this.props.onLike&&this.props.onLike({liked:this.state.liked})}},{key:"render",value:function(){return o.a.createElement("button",{className:"LikeButton__root",onClick:this.handleClick.bind(this)},this.state.liked?o.a.createElement("i",{className:"fa fa-heart LikeButton__icon LikeButton__icon--liked"}):o.a.createElement("i",{className:"fa fa-heart-o LikeButton__icon"}))}}]),t}(o.a.Component)),Xe=(a(654),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={commentBody:""},a.onCommentChange=function(e){return a.setState({commentBody:e.target.value})},a.handleKeyDown=a._handleKeyDown.bind(Object(Z.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"_handleKeyDown",value:function(e){13===e.which&&this.state.commentBody.trim().length>0&&this.props.onSubmit&&(this.props.onSubmit(this.state.commentBody),this.setState({commentBody:""}),this.commentInput.blur())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"CommentBox__root"},o.a.createElement("input",{className:"CommentBox__input",type:"text",placeholder:"Add a comment...",value:this.state.commentBody,onChange:this.onCommentChange,onKeyDown:this.handleKeyDown,ref:function(t){e.commentInput=t}}))}}]),t}(o.a.Component)),$e=(a(655),a(656),function(e){return o.a.createElement(d.Modal,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,contentLabel:"ConfirmationModal"},o.a.createElement("div",null,o.a.createElement(d.Button,{className:"ConfirmationModal__button",onClick:e.onConfirmClick},e.confirmText),o.a.createElement(d.Button,{className:"ConfirmationModal__button",onClick:e.onRequestClose},e.cancelText)))}),et=$e;$e.defaultProps={cancelText:"Cancel"};var tt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={modalIsOpen:!1},a.modal=null,a.closeModal=function(){return a.setState({modalIsOpen:!1})},a.openModal=function(){return a.setState({modalIsOpen:!0})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"renderBody",value:function(){var e=this.props.body.split(/\s+/);return o.a.createElement("span",null,e.map(function(e,t){return 0===e.indexOf("#")?o.a.createElement("span",null,e):0===e.indexOf("@")?o.a.createElement("span",null,e):" ".concat(e)}))}},{key:"render",value:function(){var e=this,t=this.props.username;return o.a.createElement("div",{className:"CommentItem__root"},o.a.createElement("strong",null,o.a.createElement("span",{className:"CommentItem__username"},t,": "))," ",this.renderBody(),!0===this.props.deletable?o.a.createElement("span",{className:"CommentItem__delete-button",onClick:this.openModal},o.a.createElement("i",{className:"fa fa-times"})):null,!0===this.props.deletable?o.a.createElement(et,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,onConfirmClick:function(){e.props.onDelete(),e.closeModal()},confirmText:"Delete Comment"}):null)}}]),t}(o.a.Component),at=tt;tt.defaultProps={deletable:!1};var nt=a(289),ot=a.n(nt),st=(a(659),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={comments:a.props.comments,likesCount:a.props.likesCount},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"renderLikes",value:function(){var e=this.state.likesCount;if(e>0)return o.a.createElement("div",{className:"GalleryItem__likes",onClick:this.props.onLikersClick},e," ",1===e?"like":"likes")}},{key:"renderComments",value:function(){var e=this;return o.a.createElement("div",{className:"GalleryItem__comments"},this.state.comments.map(function(t){return o.a.createElement(at,{key:t.id,username:t.username,body:t.body,deletable:"Macintosh"===t.username,onDelete:function(){return e.onCommentDelete(t.id)}})}))}},{key:"onCommentDelete",value:function(e){this.setState(Object(b.a)({},this.state,{comments:this.state.comments.filter(function(t){return e!==t.id})}))}},{key:"onCommentSubmit",value:function(e){this.setState(Object(b.a)({},this.state,{comments:this.state.comments.concat([{id:ot()(e+"@"+$.a.now().toString()),username:"Macintosh",body:e}])}))}},{key:"onLike",value:function(e){e.liked?this.setState(Object(b.a)({},this.state,{likesCount:this.state.likesCount-1})):this.setState(Object(b.a)({},this.state,{likesCount:this.state.likesCount+1}))}},{key:"render",value:function(){var e=this.props,t=e.photoUrl,a=e.createdAt,n=e.filter,s=e.address,i=e.user,r=i.username,c=i.avatarUrl;return o.a.createElement("article",{className:"GalleryItem__root"},o.a.createElement("div",{className:"GalleryItem-header"},o.a.createElement("div",{className:"GalleryItem-header__avatar-container"},o.a.createElement("img",{src:c,className:"GalleryItem-header__avatar-img",alt:"".concat(r," profile")})),o.a.createElement("div",{className:"GalleryItem-header__metadata-container"},o.a.createElement("div",{className:"GalleryItem-header__username"},o.a.createElement("span",null,r)),o.a.createElement("div",{className:"GalleryItem-header__address"},o.a.createElement("span",null,s))),o.a.createElement("div",{className:"GalleryItem-header__timestamp"},$()(a).fromNow())),o.a.createElement("div",{onDoubleClick:this.onImageDoubleClick,className:"GalleryItem__body ".concat(n||"")},o.a.createElement("img",{src:t,role:"presentation"})),o.a.createElement("div",{className:"GalleryItem__footer"},this.renderLikes(),this.renderComments(),o.a.createElement("div",{className:"GalleryItem__action-box"},o.a.createElement("div",{className:"GalleryItem__like-button"},o.a.createElement(Qe,{onLike:this.onLike.bind(this)})),o.a.createElement("div",{className:"GalleryItem__comment-box"},o.a.createElement(Xe,{onSubmit:this.onCommentSubmit.bind(this)})))))}}]),t}(o.a.Component)),it=(a(660),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={logoutModalIsOpen:!1,modalUserType:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.username,a=e.avatarUrl;return o.a.createElement("div",{className:"Profile__root container"},o.a.createElement("div",{className:"row Profile__user-info-container"},o.a.createElement("div",{className:"four columns"},o.a.createElement("div",{className:"Profile__avatar-img-wrapper"},o.a.createElement("img",{src:a,className:"Profile__avatar-img",alt:"".concat(t," profile")}))),o.a.createElement("div",{className:"five columns"},o.a.createElement("h3",{className:"Profile__username"},t)),o.a.createElement(d.Button,{className:"Profile__edit-button"},"Edit Profile")))}}]),t}(o.a.Component)),rt=function(e){!function(e){P.a.get("http://ip-api.com/json").then(function(t){e(t.data)})}(e)};var ct=function(e){return rt(e)},lt=(o.a.Component,a(661),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"gotoComponent",value:function(e,t,a,n){this.props.navigator.pushPage({comp:e,props:{key:t,name:a,url:n}})}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Page,null,o.a.createElement(d.Toolbar,null,o.a.createElement("div",{className:"left"},o.a.createElement(d.BackButton,null,"Back"))),o.a.createElement("div",{className:"dapp-list-container"},o.a.createElement(d.List,{dataSource:this.props.data,renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"dapp-"+a,tappable:!0,onClick:function(){e.gotoComponent(ze,"dapp-wrapper",e.props.data[a].name,e.props.data[a].url)},modifier:"chevron"},o.a.createElement("div",{className:"left"},o.a.createElement("img",{className:"list-item__thumbnail",src:e.props.data[a].coverimg||""})),o.a.createElement("div",{className:"center"},o.a.createElement("span",{className:"list-item__title"},e.props.data[a].name||""),o.a.createElement("span",{className:"list-item__subtitle"},e.props.data[a].subtitle||"")))}})))}}]),t}(o.a.Component)),ut=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"gotoComponent",value:function(e,t,a){this.props.navigator.pushPage({comp:e,props:{key:t,data:a}})}},{key:"render",value:function(){var e=this;return"undefined"!=typeof this.props.data?o.a.createElement("div",{className:"app-set-container"},o.a.createElement("div",{className:"horizontal-scroller-tool-bar"},o.a.createElement("div",null,o.a.createElement("div",{className:"left"},o.a.createElement("h3",null,o.a.createElement("b",null,this.props.category_name))),o.a.createElement("div",{className:"right"},o.a.createElement(d.Button,{onClick:function(){e.gotoComponent(lt,"dapp-list-"+e.props.index,e.props.data)},modifier:"quiet"},"See all")))),o.a.createElement("div",{className:"horizontal-scroller-container"},o.a.createElement(Ke.a,null,this.props.data.map(function(t){return o.a.createElement(Ze,{name:t.name,subtitle:t.subtitle,coverimg:t.coverimg,key:t.name,url:t.url,navigator:e.props.navigator})})))):""}}]),t}(o.a.Component),pt=function(e,t){return e.reduce(function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e},{})},mt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getData=function(){return P.a.get("".concat(M,"/app_items.json")).then(function(e){a.setState(function(t){var a=e.data.map(function(e){return{coverimg:e.coverimg,name:e.name,subtitle:e.subtitle,category_id:e.category_id,category_name:e.category_name,url:e.url}}),n={};return"undefined"!=typeof a&&(n=pt(a,"category_name")),Object(b.a)({},t,{appsets:a,appSetsByCategory:n})})})},a.getEditorsChoicesData=function(){return P.a.get("".concat(M,"/editors_choices.json")).then(function(e){a.setState(function(t){return Object(b.a)({},t,{editors_choices:e.data})})})},a.sliderSettings={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1},a.state={editors_choices:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.getEditorsChoicesData()}},{key:"render",value:function(){var e=this;return"undefined"!=typeof this.state.appSetsByCategory?o.a.createElement(d.Page,null,o.a.createElement("div",{className:"app-set-container"},o.a.createElement("div",{className:"app-set-title"},o.a.createElement("h2",null,o.a.createElement("b",null,"Editors' Choice"))),o.a.createElement("div",{className:"app-set"},o.a.createElement("div",{className:"sliderContainer"},o.a.createElement(qe.a,this.sliderSettings,this.state.editors_choices&&this.state.editors_choices.map(function(e,t){return o.a.createElement(d.Card,{key:"card-"+t},o.a.createElement("div",{className:"img-holder"},o.a.createElement("img",{src:e.photo,alt:""})),o.a.createElement("div",{className:"app-item-title"},o.a.createElement("h3",null,e.description)))}))))),Object.keys(this.state.appSetsByCategory).map(function(t,a){return o.a.createElement(ut,{category_name:t,data:e.state.appSetsByCategory[t],key:"app-set-category"+t,navigator:e.props.navigator,index:a})})):""}}]),t}(o.a.Component),dt=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(d.Navigator,{initialRoute:{comp:mt,props:{key:"dapp-store-component"}},renderPage:t.renderPage})}}],[{key:"renderPage",value:function(e,t){return e.props=e.props||{},e.props.navigator=t,o.a.createElement(e.comp,e.props)}}]),t}(o.a.Component),ht=(a(662),[{photoUrl:"https://source.unsplash.com/random/209x209",caption:"text",userId:1,createdAt:$()("20180101","YYYYMMDD"),updatedAt:$()("20180101","YYYYMMDD"),address:"Shanghai China",lat:0,lng:0,likesCount:108,comments_count:2,user:{username:"toeinriver",avatarUrl:"https://source.unsplash.com/random/201x201"},comments:[{id:1,username:"toeinriver",body:"yay"},{id:2,username:"someone",body:"hahaha"}],commentPagination:{nextPage:null,currentPage:null}},{photoUrl:"https://source.unsplash.com/random/202x202",caption:"text",userId:1,createdAt:$()("20180101","YYYYMMDD"),updatedAt:$()("20180101","YYYYMMDD"),address:"Shanghai China",lat:0,lng:0,likesCount:108,comments_count:2,user:{username:"toeinriver",avatarUrl:"https://source.unsplash.com/random/203x203"},comments:[{id:1,username:"toeinriver",body:"yay"},{id:2,username:"someone",body:"hahaha"}],commentPagination:{nextPage:null,currentPage:null}},{photoUrl:"https://source.unsplash.com/random/200x200",caption:"text",userId:1,createdAt:$()("20180101","YYYYMMDD"),updatedAt:$()("20180101","YYYYMMDD"),address:"Shanghai China",lat:0,lng:0,likesCount:108,comments_count:2,user:{username:"toeinriver",avatarUrl:"https://source.unsplash.com/random/204x204"},comments:[{id:1,username:"toeinriver",body:"yay"},{id:2,username:"someone",body:"hahaha"}],commentPagination:{nextPage:null,currentPage:null}}]),ft=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={posts:ht,likedPostIds:[1,2,3],currentUser:{username:"toeinriver",avatarUrl:""}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.posts;e.isFetching,e.likedPostIds,e.currentUser;return o.a.createElement(d.Page,null,t.map(function(e,t){return o.a.createElement(st,Object.assign({key:t},e))}))}}]),t}(o.a.Component),gt=Object(m.b)(function(e){return{}},{})(ft),vt=(a(278),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={collapsed:!0},a.notifications=[{category:"transactions",content:"You received 10 BTC."},{category:"transactions",content:"You received 10 BTC."},{category:"transactions",content:"You received 10 BTC."},{category:"transactions",content:"You received 10 BTC."},{category:"transactions",content:"You received 10 BTC."},{category:"system",content:"You are friends with Alice."},{category:"system",content:"You are friends with Bob."},{category:"system",content:"You are friends with Carol."},{category:"system",content:"You are friends with Dylan."}],a.splitterSideItems=a.notifications.reduce(function(e,t){return-1==e.indexOf(t.category)&&e.push(t.category),e},[]),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(b.a)({},this.state,{notificationCategory:this.notifications[0].category}))}},{key:"toggleSplitterSide",value:function(){this.setState(Object(b.a)({},this.state,{collapsed:!this.state.collapsed}))}},{key:"closeSplitterSide",value:function(){this.setState(Object(b.a)({},this.state,{collapsed:!0}))}},{key:"getNotificationsByCategory",value:function(e){return"undefined"!==typeof e?this.notifications.filter(function(t){if(t.category===e)return t}).map(function(e){return e.content}):[]}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Page,null,o.a.createElement(d.Toolbar,null,o.a.createElement("div",{className:"left"},o.a.createElement(d.BackButton,null,"Back")),o.a.createElement("div",{className:"center"},"Notifications"),o.a.createElement("div",{className:"right notification-menu"},o.a.createElement(d.ToolbarButton,{onClick:function(){return e.toggleSplitterSide()},modifier:"quiet"},o.a.createElement(d.Icon,{icon:"md-menu"})))),o.a.createElement(d.Splitter,null,o.a.createElement(d.SplitterSide,{side:"right",width:200,swipeable:!0,collapse:!0,isOpen:!this.state.collapsed},o.a.createElement(d.Page,null,o.a.createElement(d.List,{dataSource:this.splitterSideItems,renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"splitter-side-item-"+a,tappable:!0,onClick:function(){e.setState(Object(b.a)({},e.state,{notificationCategory:e.splitterSideItems[a]}))}},e.splitterSideItems[a])}}))),o.a.createElement(d.SplitterContent,{onClick:this.closeSplitterSide.bind(this)},o.a.createElement(d.Page,null,o.a.createElement(d.List,{dataSource:this.getNotificationsByCategory(this.state.notificationCategory),renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"splitter-content-item-"+a,tappable:!0},o.a.createElement("div",{key:"splitter-content-item-"+a+"-div",className:"center list-item__center"}," ",e.getNotificationsByCategory(e.state.notificationCategory)[a]))}})))))}}]),t}(o.a.Component)),yt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._transform=function(e){return e.map(function(e){return{category:e.coinType,address:e.address}})},a.state={collapsed:!0},a.wallets=a._transform(a.props.wallets),a.splitterSideItems=a.wallets.reduce(function(e,t){return-1===e.indexOf(t.category)&&e.push(t.category),e},[]),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(b.a)({},this.state,{notificationCategory:this.wallets[0].category}))}},{key:"toggleSplitterSide",value:function(){this.setState(Object(b.a)({},this.state,{collapsed:!this.state.collapsed}))}},{key:"closeSplitterSide",value:function(){this.setState(Object(b.a)({},this.state,{collapsed:!0}))}},{key:"getNotificationsByCategory",value:function(e){return"undefined"!==typeof e?this.wallets.filter(function(t){if(t.category===e)return t}).map(function(e){return e.address}):[]}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Page,null,o.a.createElement(d.Toolbar,null,o.a.createElement("div",{className:"left"},o.a.createElement(d.BackButton,null,"Back")),o.a.createElement("div",{className:"center"},"AddressBook"),o.a.createElement("div",{className:"right notification-menu"},o.a.createElement(d.ToolbarButton,{onClick:function(){return e.toggleSplitterSide()},modifier:"quiet"},o.a.createElement(d.Icon,{icon:"md-menu"})))),o.a.createElement(d.Splitter,null,o.a.createElement(d.SplitterSide,{side:"right",width:200,swipeable:!0,collapse:!0,isOpen:!this.state.collapsed},o.a.createElement(d.Page,null,o.a.createElement(d.List,{dataSource:this.splitterSideItems,renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"splitter-side-item-"+a,tappable:!0,onClick:function(){e.setState(Object(b.a)({},e.state,{notificationCategory:e.splitterSideItems[a]}))}},e.splitterSideItems[a])}}))),o.a.createElement(d.SplitterContent,{onClick:this.closeSplitterSide.bind(this)},o.a.createElement(d.Page,null,o.a.createElement(d.List,{dataSource:this.getNotificationsByCategory(this.state.notificationCategory),renderRow:function(t,a){return o.a.createElement(d.ListItem,{key:"splitter-content-item-"+a,tappable:!0},o.a.createElement("div",{key:"splitter-content-item-"+a+"-div",className:"center list-item__center"}," ",e.getNotificationsByCategory(e.state.notificationCategory)[a]))}})))))}}]),t}(o.a.Component),bt=Object(m.b)(function(e){return{wallets:ye(e).wallets}},null)(yt),Et=(a(663),function(){return function(e,t){e({type:"LOG_IN_CURRENT_USER",payload:{loggedIn:!1}})}}),kt=a(42),Ot=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).currentUser={username:"toeinriver",avatarUrl:"https://via.placeholder.com/150/"},a.pageItems=["Notifications","Wallet","Settings","Feedback"],a.pageItemsIcons=["ion-ios-notifications","ion-ios-wallet","ion-ios-settings","ion-ios-happy"],a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"gotoComponent",value:function(e,t){"undefined"!==typeof e&&this.props.navigator.pushPage({comp:e,props:Object(b.a)({},t)})}},{key:"onLogOut",value:function(){this.props.cookies.remove("loggedIn"),this.props.signOutCurrentUser()}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Page,null,o.a.createElement(it,{user:this.currentUser}),o.a.createElement(d.List,{dataSource:this.pageItems,renderRow:function(a,n){return o.a.createElement(d.ListItem,{key:"prifile-item-"+n,tappable:!0,modifier:"chevron"},o.a.createElement("div",{className:"left"},o.a.createElement("ons-icon",{icon:e.pageItemsIcons[n],class:"list-item__icon"})),o.a.createElement("div",{className:"center"},o.a.createElement("span",{className:"list-item__title",onClick:function(){e.gotoComponent(t._getViewArray()[n],{navigator:e.props.navigator})}},e.pageItems[n]||"")))}}),o.a.createElement("div",{className:"splitter"}),o.a.createElement(d.List,null,o.a.createElement(d.ListItem,{onClick:this.onLogOut.bind(this),key:100*Math.random()},o.a.createElement("div",{className:"left"},o.a.createElement("ons-icon",{icon:"ion-ios-log-out",class:"list-item__icon"})),o.a.createElement("div",{className:"center"},"Sign out"))))}}],[{key:"_getViewArray",value:function(){return[vt,bt]}}]),t}(o.a.Component),Ct=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(d.Navigator,{initialRoute:{comp:Object(m.b)(null,{signOutCurrentUser:Et})(Object(kt.b)(Ot)),props:{key:"profile-page"}},renderPage:t.renderPage})}}],[{key:"renderPage",value:function(e,t){return e.props=e.props||{},e.props.navigator=t,o.a.createElement(e.comp,e.props)}}]),t}(o.a.Component),wt=a(290),jt=a.n(wt),St=(a(664),a(665),function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"FacebookLoginButton__root"},o.a.createElement(d.Button,{modifier:"quiet",className:"FacebookLoginButton__button",onClick:this.handleClick},this.props.isLoggingWithFB?o.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw FacebookLoginButton__spinner"}):o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-facebook-official FacebookLoginButton__icon"})," Log in with Facebook")))}}]),t}(o.a.Component)),Tt=(a(666),function(e){return o.a.createElement("div",{className:"FormDivider__root"},o.a.createElement("div",{className:"FormDivider__line"}),o.a.createElement("div",{className:"FormDivider__text"},"OR"),o.a.createElement("div",{className:"FormDivider__line"}))}),_t=(a(667),a(73));function It(){return(It=Object(J.a)(V.a.mark(function e(t){var a,n,o;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.phone,n=t.password,e.next=3,_t.a.hash(n);case 3:return o=e.sent,e.abrupt("return",new Promise(function(e,t){Te.store.find({phone:a,pwdHash:o}).then(function(a){a.length>0?e(a):t("user not exist or password wrong")},function(e){console.log("error when fetching user name and password: ",e)})}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Nt=function(e){return It.apply(this,arguments)},Dt=function(){return function(e,t){e({type:"LOG_IN_CURRENT_USER",payload:{loggedIn:!0}})}},xt=function(e){return function(t,a){t({type:"CREATE_NEW_WALLET",payload:{wallet:e}})}},Bt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={phone:"",password:""},window.Wallet=Te,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){e.phone!==this.props.phone&&this.setState({phone:e.phone})}},{key:"onSubmit",value:function(){var e=this,t=this.state,a=t.phone,n=t.password;Nt({phone:a,password:n}).then(function(t){console.log({wallets:t});var n=t[0];e.props.logInCurrentUser(),e.props.createNewWallet(n);var o=e.props.cookies;o.set("pwdHash",n.pwdHash,{path:"/"}),o.set("phone",a,{path:"/"})},function(e){console.log("signed up error",e)})}},{key:"componentDidMount",value:function(){var e=this.props.cookies;"undefined"!==e.get("phone")&&(this.phoneInputEl.value=e.get("phone"))}},{key:"render",value:function(){var e=this;return o.a.createElement("ons-page",null,o.a.createElement("ons-toolbar",null,o.a.createElement("div",{className:"center"},"Log In"),o.a.createElement("div",{className:"right"},o.a.createElement(d.ToolbarButton,{modifier:"quiet",onClick:function(){return e.props.toggleSplitterSide()}},o.a.createElement(d.Icon,{icon:"md-more"})))),o.a.createElement("div",{className:"login-form"},o.a.createElement("input",{type:"phone",className:"text-input--underbar",placeholder:"Phone",ref:function(t){return e.phoneInputEl=t},onChange:function(t){return e.setState({phone:t.target.value})}}),o.a.createElement("input",{type:"password",className:"text-input--underbar",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("ons-button",{modifier:"large",className:"login-button",onClick:this.onSubmit.bind(this)},"Log In"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("ons-button",{modifier:"quiet",className:"forgot-password"},"Forgot password?")),o.a.createElement(Tt,null),o.a.createElement(St,null))}}]),t}(n.Component),Pt=Object(m.b)(null,{logInCurrentUser:Dt,createNewWallet:xt})(Object(kt.b)(Bt));a(668);var Mt=function(e){var t=e.fname,a=e.lname,n=e.phone,o=e.password;return new Promise(function(e,s){_t.a.hash(o).then(function(o){var i=o,r=Te.generate(),c=r.mnemonic,l=r.privateKey,u=r.publicKey,p=r.address,m=Te.create(n,t+"."+a,c,l,u,p,i).encrypt(i);console.log("saving wallet"),m.save().then(function(){console.log("wallet saved. please keep mnemonic in somewhere safe: ",c),e(m)},function(e){console.log("database saved error: ",e),s(e)})},function(e){s(e)})})},Lt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={fname:"",lname:"",phone:"",password:""},window.Wallet=Te,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(){var e=this,t=this.state,a=t.fname,n=t.lname,o=t.phone,s=t.password;Mt({fname:a,lname:n,phone:o,password:s}).then(function(t){e.props.logInCurrentUser(),e.props.createNewWallet(t),e.props.cookies.set("phone",t.phone,{path:"/"})},function(e){console.log("signed up error",e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("ons-page",null,o.a.createElement("ons-toolbar",null,o.a.createElement("div",{className:"right"},o.a.createElement(d.ToolbarButton,{onClick:function(){return e.props.toggleSplitterSide()},modifier:"quiet"},o.a.createElement(d.Icon,{icon:"md-more"}))),o.a.createElement("div",{className:"center"},"Sign up")),o.a.createElement("div",{className:"formarea"},o.a.createElement("div",{className:"form-row"},o.a.createElement("input",{type:"text",className:"text-input--underbar width-half",placeholder:"First",onChange:function(t){return e.setState(Object(b.a)({},e.state,{fname:t.target.value}))}}),o.a.createElement("input",{type:"text",className:"text-input--underbar width-half",placeholder:"Last",style:{borderWidthLeft:"1px"},onChange:function(t){return e.setState(Object(b.a)({},e.state,{lname:t.target.value}))}})),o.a.createElement("div",{className:"form-row"},o.a.createElement("input",{type:"text",className:"text-input--underbar width-full",placeholder:"Phone",onChange:function(t){return e.setState(Object(b.a)({},e.state,{phone:t.target.value}))}})),o.a.createElement("div",{className:"form-row"},o.a.createElement("input",{type:"password",className:"text-input--underbar width-full",placeholder:"Password",onChange:function(t){return e.setState(Object(b.a)({},e.state,{password:t.target.value}))}})),o.a.createElement("div",{className:"lucent"},o.a.createElement("p",{className:"note"},"Password - 6 characters or more")),o.a.createElement("div",{className:"vspc form-row"},o.a.createElement("ons-button",{modifier:"large",onClick:this.onSubmit.bind(this)},"Sign up"))),o.a.createElement(Tt,null),o.a.createElement(St,null))}}]),t}(n.Component),At=Object(m.b)(null,{logInCurrentUser:Dt,createNewWallet:xt})(Object(kt.b)(Lt)),Ut=(a(669),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isFlipped:!1},a.handleClick=a.handleClick.bind(Object(Z.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){(be("phone")||be("pwdHash")||be("loggedIn"))&&this.setState({isFlipped:!0,loginFormPhoneField:be("phone")||""})}},{key:"handleClick",value:function(e){this.setState(function(e){return{isFlipped:!e.isFlipped}})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(jt.a,{flipped:this.state.isFlipped,type:"revolving-door"},o.a.createElement(At,{key:"sign-up-form",toggleSplitterSide:this.handleClick.bind(this)}),o.a.createElement(Pt,{phone:this.state.loginFormPhoneField,key:"log-in-form",toggleSplitterSide:this.handleClick.bind(this)})))}}]),t}(n.Component)),Rt={loggedIn:!1},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN_CURRENT_USER":return Object(b.a)({},e,{loggedIn:t.payload.loggedIn});default:return e}},Ht=function(e){return{loggedIn:e.logInCurrentUser.loggedIn}},Yt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={index:0,loggedIn:a.props.loggedIn},document.ontouchmove=function(e){e.preventDefault()},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.cookies}},{key:"shouldComponentUpdate",value:function(e,t,a){return e.loggedIn!==this.props.loggedIn||e.loggedIn!==this.state.loggedIn||e.loggedIn!==t.loggedIn||(e!==this.props||t!==this.state)}},{key:"componentDidUpdate",value:function(e,t,a){if(e.loggedIn!==this.props.loggedIn){var n=this.props.cookies;this.setState({loggedIn:this.props.loggedIn}),n.set("loggedIn",this.props.loggedIn,{path:"/"})}}},{key:"render",value:function(){var e=this;return o.a.createElement(d.Page,null,o.a.createElement("div",{className:"App"},e.state.loggedIn?o.a.createElement(d.Page,null,o.a.createElement(d.Tabbar,{key:"tabbar-logged-in-"+e.state.loggedIn,renderTabs:function(){return[{content:o.a.createElement(We,{key:"pokemon"}),tab:o.a.createElement(d.Tab,{label:"Pokemon",icon:"md-home",key:"pokemon"})},{content:o.a.createElement(dt,{key:"dapp-store"}),tab:o.a.createElement(d.Tab,{label:"DappStore",icon:"md-apps",key:"dapp-store"})},{content:o.a.createElement(gt,{key:"photo-gallery"}),tab:o.a.createElement(d.Tab,{label:"Wall",icon:"ion-logo-instagram",key:"photo-gallery"})},{content:o.a.createElement(Ct,{key:"profile"}),tab:o.a.createElement(d.Tab,{label:"Profile",icon:"ion-ios-person",key:"profile"})}]}})):o.a.createElement(d.Page,null,o.a.createElement(Ut,{key:"user-auth-logged-in-"+e.state.loggedIn}))))}}]),t}(n.Component),Wt=Object(m.b)(function(e){return{loggedIn:Ht(e).loggedIn}},{})(Object(kt.b)(Yt));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gt=a(25),qt=a(291),Kt=Object(Gt.c)({goToConversation:ce,sendCryptos:T,selectEmoji:ue,searchMessageText:k,logInCurrentUser:Ft,goToGroupChat:me,sendLocation:w,sendText:N,sendCryptoToHub:fe,createNewWallet:ve}),Vt=function(e,t){return Kt(e,t)},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Gt.a)(qt.a),a=function(){try{var e=localStorage.getItem("hackafy");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log("Error occurred while loading state from Local Storage")}}();return Object(Gt.d)(Vt,Object(b.a)({},a,e),t)}(),zt=function(){i.a.render(o.a.createElement(kt.a,null,o.a.createElement(m.a,{store:Jt},o.a.createElement(Wt,null))),document.getElementById("root"))};"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}),window.cordova?document.addEventListener("deviceready",zt,!1):zt()},73:function(e,t,a){"use strict";var n=a(4),o=a(5),s=a(50),i=a.n(s),r=function(){function e(){Object(n.a)(this,e)}return Object(o.a)(e,null,[{key:"hash",value:function(t){return new Promise(function(a,n){t||n("No value provided"),i.a.pbkdf2(t,e.Salt,2048,48,e.Algorithm,function(e,t){e&&n(e);var o=t.toString("hex");a(o)})})}},{key:"encrypt",value:function(t,a){var n=i.a.createCipher(e.Encryption,a);return n.update(t,e.Encoding.In,e.Encoding.Out)+n.final(e.Encoding.Out)}},{key:"decrypt",value:function(t,a){var n=i.a.createDecipher(e.Encryption,a);return n.update(t,e.Encoding.Out,e.Encoding.In)+n.final(e.Encoding.In)}}]),e}();r.Salt="jswallet",r.Algorithm="sha512",r.Encryption="aes-256-cbc",r.Encoding={In:"utf8",Out:"hex"},t.a=r},96:function(e,t,a){"use strict";var n=a(22);Array.prototype.uniq=function(){return Object(n.uniq)(this)},Array.prototype.orderBy=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n.orderBy.apply(void 0,[this].concat(t))},Array.prototype.head=function(){return Object(n.head)(this)},Array.prototype.find=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n.find.apply(void 0,[this].concat(t))},Array.prototype.filter=function(e){return Object(n.filter)(this,e)}}},[[295,1,2]]]);
//# sourceMappingURL=main.4762cea0.chunk.js.map