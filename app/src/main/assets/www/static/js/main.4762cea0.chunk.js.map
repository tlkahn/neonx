{"version":3,"sources":["services/database.js","services/wallet.js","actions/actionCreators/goToConversation.js","actions/actionTypes.js","components/ConversationListItem/index.js","actions/actionCreators/sendCryptos.js","reducers/searchMessageText.js","reducers/sendLocation.js","reducers/sendCrypto.js","reducers/sendText.js","services/myUserInfo.js","config/constants.js","services/fetchUsrInfo.js","services/letterGIconUrl.js","components/ConversationList/index.js","services/fetchMessagesFromUser.js","components/Compose/index.js","components/Message/index.js","components/GroupChatMemberPanel/index.js","reducers/goToConversation.js","reducers/selectEmoji.js","reducers/goToGroupChat.js","reducers/sendCryptoToHub.js","reducers/createNewWallet.js","utils/cookie.js","services/ETHWallet.js","actions/actionCreators/sendCryptoToHub.js","components/MessageList/index.js","actions/actionCreators/selectEmoji.js","actions/actionCreators/sendLocation.js","actions/actionCreators/sendText.js","components/ContactList/index.js","components/AddContactsToGroup/index.js","actions/actionCreators/goToGroupChat.js","components/Messenger/index.js","Pokemon.js","components/DappWrapper/index.js","components/AppItem/index.js","components/LikeButton/index.js","components/CommentBox/index.js","components/ConfirmationModal/index.js","components/CommentItem/index.js","components/GalleryItem/index.js","components/ProfileHead/index.js","services/getCurrentLocation.js","components/DappList/index.js","Setting.js","components/AppSet/index.js","components/DappStore/DappStoreComponent.js","components/DappStore/index.js","services/getPosts.js","containers/PhotoGallery.js","containers/NotificationList.js","containers/AddressBook.js","actions/actionCreators/signOutCurrentUser.js","containers/Profile.js","components/FacebookLoginButton/index.js","components/FormDivider/index.js","services/logInUser.js","actions/actionCreators/logInCurrentUser.js","actions/actionCreators/createNewWallet.js","components/LoginForm/index.js","services/signUpUser.js","components/SignUpForm/index.js","containers/UserAuth.js","reducers/logInCurrentUser.js","App.js","serviceWorker.js","stores/rootReducer.js","index.js","stores/configureStore.js","stores/localStorage.js","services/hasher.util.js","utils/aux.js"],"names":["Database","name","Object","_Users_toeinriver_Code_react_eon_wallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","db","Datastore","filename","concat","autoload","q","_this","Promise","res","rej","find","err","docs","obj","_this2","insert","_this3","remove","BasicWallet","info","_Users_toeinriver_Code_react_eon_wallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","__address","address","__network","network","__wif","__password","__pwdHash","__phone","__store","Defaults","DBFileName","_Users_toeinriver_Code_react_eon_wallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","key","value","pwdHash","iv","Buffer","alloc","cipher","crypto","createCipheriv","Encryption","slice","update","final","_readDecrypted","_Users_toeinriver_Code_react_eon_wallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_toeinriver_Code_react_eon_wallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee2","password","wrap","_context2","prev","next","abrupt","_ref","_callee","resolve","reject","_context","t0","matches","sent","createDecipheriv","error","stop","_x2","_x3","apply","arguments","_x","_hash","_callee3","str","_context3","Hasher","hash","_x4","_matches","_callee4","_context4","_x5","amount","fee","constructor","store","wif","coinType","phone","get","__coinType","__name","self","_Users_toeinriver_Code_react_eon_wallet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","then","_ref2","_callee5","results","_context5","map","d","_x6","e","mnemonic","privateKey","publicKey","Path","goToConversation","conversationId","dispatch","getState","type","payload","id","ConversationListItem","shave","props","data","ev","CustomEvent","document","dispatchEvent","_this$props$data","photo","text","react_default","createElement","className","onClick","gotoMessages","bind","src","alt","Component","connect","sendCryptos","account","recipient","messageText","setTimeout","initialState","searchMessageText","state","length","undefined","action","objectSpread","searchText","getSearchMessageText","latestMessage","sendLocation","message","getSendLocationStatus","_state$sendLocation","sendCryptoStarted","sendCryptoSuccess","getSendCryptoStatus","_state$sendCryptos","status","sendText","timestamp","getSendTextStatus","_state$sendText","MY_USER_ID","API_URL","MESSAGE_FORM","location","image","ETH_CONFIG","USER_INFO_URL","fetchUsrInfo","usrId","axios","response","letterGIcon","ConversationList","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","conversations","sessionId","messages","forEach","m","Date","lastMessage","filter","author","orderBy","head","JSON","parse","window","localStorage","getItem","messageForm","getTime","Math","floor","random","setItem","stringify","_getConversations","setState","nextProps","nextContext","sendTextStatus","c","_nextProps$sendTextSt","toConsumableArray","letterGIconUrl","sessionIds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","push","return","oneToOneSessionIds","uniq","s","split","groupChatSessionIds","usrPromises","all","usrs","oneToOneResults","u","_getLastMessageAndTimeStampBy","groupChatResults","g","_this4","conversation","components_ConversationListItem","locationStatus","sendCryptoStatus","Compose","composedContents","emojiSelected","onCommentChange","event","target","handleKeyDown","_handleKeyDown","assertThisInitialized","which","trim","onSubmit","_submit","composedInput","blur","receivedEmoji","colons","stopReceivingEmoji","querySelector","offsetParent","placeholder","onChange","onKeyDown","ref","react_onsenui","icon","MsgLst","more","Message","bubbleContent","_this$props","isMine","startsSequence","endsSequence","showTimestamp","lib_default","poiname","imageUrl","friendlyTimestamp","moment","format","join","title","GroupChatMemberPanel","usrInfo","_isMounted","getUsrInfo","memberIds","mid","React","selectedEmoji","selectEmoji","emoji","groupUsrIds","goToGroupChat","owed","BTC","ETH","EOS","result","sendCryptoToHub","defineProperty","reason","wallets","createNewWallet","console","log","wallet","getWallets","getCook","cookiename","cookiestring","RegExp","exec","cookie","decodeURIComponent","toString","replace","ETHWallet","_BasicWallet","__mnemonic","__privateKey","__publicKey","inherits","createClass","toObject","gasOption","speed","gasLimit","web3","eth","getBalance","balance","success","prompt","readDecrypted","asyncToGenerator","regenerator_default","senderAddress","senderPrivateKey","recipientAddress","gasPrice","getPrivateKey","unit","toWei","getGasPrice","getGasLimit","values","_values","slicedToArray","getTransactionCount","rawTransaction","from","to","nonce","signedTransaction","ethCrypto","signTransaction","sendSignedTransaction","_update","coins","Web3","providers","HttpProvider","_ethCrypto$createIden","createIdentity","assign","EON_HUB_ADDR","getErrorMessage","CONVERSATION_TYPES","freeze","individual","groupChat","MessageList","postImageContent","debounce","imageFileUrl","filteredMessages","_filterMessages","dialogOpen","cryptoPortfolio","coinTypes","w","_loop","ct","wlt","addr","parseInt","sendCryptoDialogOpen","cryptoRangeDialogOpen","emojiDialogOpen","locationDialogOpen","locationPickedP","locationPickedObj","cryptoToBeSentCoinName","cryptoToBeSentFromAddr","cryptoToBeSentMax","cryptoToBeSent","currentWalletIdx","cryptoToBeSentRecipient","sendCryptoDialogFlipped","conversationType","infoDialogOpen","addEventListener","loc","module","cb","_appendMessageToQueue","messageListContainer","scrollIntoView","f","prevState","getMessages","groupChatUsrIds","updateText","groupMembers","msg","updateSessionId","currentSessionId","sendCryptoToHubResult","sendCryptoToHubStatus","sendCryptoToHubFailureReason","closeSendCryptoDialog","forceUpdate","isEqual","i","messageCount","previous","current","currentMoment","previousMoment","previousDuration","duration","diff","as","nextMoment","nextDuration","components_Message_Message","idx","postLocationContent","imageInput","preventDefault","imageFile","files","URL","createObjectURL","click","refreshCryptoPortfolio","_this5","renderMessages","components_Compose_Compose","postNewComposedContent","toggleDialog","isOpen","onCancel","cancelable","width","openCamera","accept","style","display","toggleEmojiDialog","toggleLocationDialog","toggleSendCryptoDialog","toggleInfoDialog","dist_es","set","height","frameBorder","handleAlertDialogCancel","handleAlertDialogOk","react_card_flip_default","isFlipped","flipDirection","keys","flipSendCryptoDialog","modifier","trailing","sendCrypto","spin","closeInfoDialog","components_GroupChatMemberPanel_GroupChatMemberPanel","mapDispatchToProps","locationObj","cryptoPayment","sendCryptoToHubWallet","send","getConversationID","getSelectedEmoji","getGroupChatUsrIds","getSendCryptoToHubResult","ContactList","collapsed","firstNames","randomWords","lastNames","names","fname","uid","firstName","lastName","splitterSideItems","lastNameAlphabet","navigator","popPage","page","toggleSplitterSide","side","swipeable","collapse","dataSource","renderRow","row","tappable","closeSplitterSide","getContactsByLastNameAlphabet","toggleConversation","capitalizeFirstLetter","string","charAt","toUpperCase","AddContactsToGroup","checked","_mounted","includes","el","goToGroupConversation","toggleSelectContact","isCheckMarkVisible","Messenger","hidden","contactListDialogOpen","backBtn","createRef","toggle","nextState","classList","add","hideStatus","config","pushPage","comp","pushContactList","pushAddContactsToGroup","components_ConversationList","components_MessageList","Pokemon","route","initialRoute","renderPage","Frame","iframeHead","node","contentDocument","iframeRoot","body","children","rest","objectWithoutProperties","ReactDOM","createPortal","DappWrapper","DappWrapper_Frame","url","AppItem","component","gotoComponent","subtitle","coverimg","LikeButton","liked","onLike","handleClick","CommentBox","commentBody","commentInput","ConfirmationModal","onRequestClose","contentLabel","onConfirmClick","confirmText","cancelText","defaultProps","CommentItem","modalIsOpen","modal","closeModal","openModal","words","word","indexOf","username","renderBody","deletable","components_ConfirmationModal","onDelete","GalleryItem","comments","likesCount","onLikersClick","comment","components_CommentItem","onCommentDelete","commentId","commentTxt","sha256","now","likedObj","photoUrl","createdAt","_this$props$user","user","avatarUrl","fromNow","onDoubleClick","onImageDoubleClick","role","renderLikes","renderComments","components_LikeButton_LikeButton","components_CommentBox","onCommentSubmit","ProfileHead","logoutModalIsOpen","modalUserType","gpsFailed","getPositionBy3rdParty","getCurrentLocation","DappList","Appset","category_name","index","index_es","app","components_AppItem_AppItem","groupBy","xs","reduce","rv","x","DappStoreComponent","getData","appsets","appset","category_id","appSetsByCategory","getEditorsChoicesData","editors_choices","sliderSettings","dots","infinite","slidesToShow","slidesToScroll","arrows","react_slick_lib_default","editors_choice","description","AppSet_Appset","DappStore","posts","caption","userId","updatedAt","lat","lng","comments_count","commentPagination","nextPage","currentPage","PhotoGallery","likedPostIds","currentUser","_this$state","isFetching","post","components_GalleryItem","NotificationList","notifications","category","content","n","notificationCategory","getNotificationsByCategory","AddressBook","_transform","signOutCurrentUser","loggedIn","ProfilePage","pageItems","pageItemsIcons","propsObj","cookies","components_ProfileHead_ProfileHead","class","_getViewArray","onLogOut","Profile","withCookies","FacebookLoginButton","isLoggingWithFB","FormDivider","logInUser","logInCurrentUser","LoginForm","Wallet","path","phoneInputEl","components_FormDivider","components_FacebookLoginButton_FacebookLoginButton","signUpUser","usr","lname","_ETHWallet$generate","generate","create","encrypt","save","SignUpForm","borderWidthLeft","UserAuth","loginFormPhoneField","Flipcard_default","flipped","components_SignUpForm","components_LoginForm","getLoggedInStatus","App","ontouchmove","prevProps","snapshot","renderTabs","Pokemon_Pokemon","tab","label","components_DappStore_DappStore","containers_PhotoGallery","containers_Profile","UserAuth_UserAuth","Boolean","hostname","match","appReducer","combineReducers","rootReducer","middleware","applyMiddleware","thunk","persistedState","serializedState","loadState","createStore","configureStore","startApp","render","es6","es","src_App_0","getElementById","serviceWorker","ready","registration","unregister","cordova","pbkdf2","Salt","Algorithm","hex","createCipher","Encoding","In","Out","createDecipher","lodash__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","Array","prototype","_len","cond","_key","_len2","args","_key2","pred"],"mappings":"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","file":"static/js/main.4762cea0.chunk.js","sourcesContent":["import Datastore from 'nedb';\n\nclass Database {\n    constructor(name) {\n        this.db = new Datastore({ filename: `./db/${name}.db`, autoload: true });\n    }\n\n    find(q) {\n        return new Promise((res, rej) => {\n            this.db.find(q || {}, (err, docs) => {\n                if (err) rej(err);\n                res(docs);\n            });\n        });\n    }\n\n    insert(obj) {\n        return new Promise((res, rej) => {\n            this.db.insert(obj, (err) => {\n                if (err) rej(err);\n                res();\n            });\n        });\n    }\n\n    remove(q) {\n        return new Promise((res, rej) => {\n            this.db.remove(q, (err) => {\n                if (err) rej(err);\n                res();\n            });\n        });\n    }\n\n}\n\nexport default Database;\n","import '../utils/aux';\nimport crypto from 'crypto';\nimport Database from './database';\nimport Hasher from './hasher.util';\n\nexport class BasicWallet {\n    constructor(info) {\n        this.__address = info.address;\n        this.__network = info.network;\n        this.__wif = '';\n        this.__password = '';\n        this.__pwdHash = '';\n        this.__phone = '';\n        if (!BasicWallet.__store) BasicWallet.__store = new Database(BasicWallet.Defaults.DBFileName);\n    }\n    \n    get coinType() {\n        return this.__coinType;\n    }\n\n    get coins() {\n        throw \"needs implementation\";\n    }\n\n    get name() {\n        return this.__name;\n    }\n\n    get address() {\n        return this.__address;\n    }\n    \n    get network() {\n        return this.__network;\n    }\n    \n    get wif() {\n        return this.__wif;\n    }\n    \n    get phone() {\n        return this.__phone;\n    }\n\n    /**\n     * This is irreversible as there is not way to decrypt the wallet for good.\n     * The only way to read the key is with the readDecrypted function\n     * @param password Cleartext or hashed makes no difference\n     * @returns {BasicWallet} It returns itself\n     * @code const wallet = Wallet.create(name, mnemonic).encrypt(password);\n     */\n    encrypt(pwdHash) {\n        const iv = Buffer.alloc(16, 0);\n        const cipher = crypto.createCipheriv(BasicWallet.Defaults.Encryption, pwdHash.slice(0, 24), iv);\n        this.__wif = cipher.update(this.__wif, 'utf8', 'hex') + cipher.final('hex');\n        return this;\n    }\n\n    /**\n     * This method will NOT decrypt the wallet but temporarily the key and return it to the calling code\n     * This method is NOT symmetrical with the encrypt one.\n     * @param password Hashed or not it will be used, it only needs to match the one used in encryption\n     * @returns {string} It will not return the wallet itself like the encrypt\n     */\n    async readDecrypted(password) {\n        return new Promise(async (resolve, reject)=>{\n            if (password && (await this.matches(password))){\n                const iv = Buffer.alloc(16, 0); // Initialization vector.\n                const cipher = crypto.createDecipheriv(BasicWallet.Defaults.Encryption, this.pwdHash.slice(0, 24), iv);\n                resolve(cipher.update(this.__wif, 'hex', 'utf8') + cipher.final('utf8'));\n            }\n            else {\n                reject({error: \"password not match\"});\n            }\n        })\n    }\n    \n    async hash(str) {\n        return await Hasher.hash(str);\n    }\n\n    async matches(password) {\n        let hash = await this.hash(password);\n        return (hash === this.__pwdHash) || hash === this.pwdHash;\n    }\n\n    send(amount, address, fee, password) {\n        throw \"needs implementation\"\n    }\n    \n    static generate() {\n        throw \"needs implementation\"\n    }\n\n    static get store() {\n        if (!BasicWallet.__store) BasicWallet.__store = new Database(BasicWallet.Defaults.DBFileName);\n        return this.__store;\n    }\n    \n    static find(info) {\n        let self = this;\n        return new Promise((resolve, reject)=>{\n            this.store.find({\n                ...info\n            }).then(async docs=>{\n                let results = docs.map(d=>{\n                    return new self(d);\n                });\n                resolve(results);\n            }, e=>{\n                reject(e);\n            })\n        });\n    }\n    \n    static create(phone, name, mnemonic, privateKey, publicKey, address) {\n        throw \"needs implementation\"\n    }\n    \n    erase() {\n        this.constructor.store.remove({ address: this.address });\n    }\n    \n    toObject() {\n        const obj = {\n            name: this.name,\n            address: this.address,\n            wif: this.wif,\n            network: this.network,\n            coinType: this.coinType\n        };\n        if (this.__password) obj.password = this.__password;\n        if (this.__pwdHash) obj.pwdHash = this.__pwdHash;\n        if (this.__phone)  obj.phone = this.__phone;\n        return obj;\n    }\n\n}\n\nBasicWallet.Defaults = {\n    Encryption: 'aes-192-cbc',\n    Path: \"m/44'/0'/0'/0/0\",\n    DBFileName: 'wallets-v38',\n};","import { combineReducers } from 'redux';\nimport {\n    GOTO_CONVERSATION\n} from '../actionTypes'\n\nexport const goToConversation = (conversationId) => (dispatch, getState) => {\n    dispatch({\n        type: GOTO_CONVERSATION,\n        payload: {\n            id: conversationId\n        }\n    });\n};","export const GOTO_CONVERSATION = 'GOTO_CONVERSATION';\nexport const SEND_CRYPTO_STARTED = 'SEND_CRYPTO_STARTED';\nexport const SEND_CRYPTO_SUCCESS = 'SEND_CRYPTO_SUCCESS';\nexport const SELECT_EMOJI = 'SELECT_EMOJI';\nexport const SEARCH_MESSAGE_TEXT = 'SEARCH_MESSAGE_TEXT';\nexport const LOG_IN_CURRENT_USER = 'LOG_IN_CURRENT_USER';\nexport const GOTO_GROUPCHAT = 'GOTO_GROUPCHAT';\nexport const SEND_LOCATION = 'SEND_LOCATION';\nexport const SEND_IMAGE = 'SEND_IMAGE';\nexport const SEND_TEXT = 'SEND_TEXT';\nexport const SEND_CRYPTO_TO_HUB = 'SEND_CRYPTO_TO_HUB';\nexport const CREATE_NEW_WALLET = 'CREATE_NEW_WALLET';","import React, { Component } from 'react';\nimport shave from 'shave';\nimport './ConversationListItem.css';\nimport { connect } from 'react-redux';\nimport {goToConversation} from \"../../actions/actionCreators/goToConversation\";\nimport {sendCryptos} from \"../../actions/actionCreators/sendCryptos\";\n\nclass ConversationListItem extends Component {\n  componentDidMount() {\n    shave('.conversation-snippet', 20);\n  }\n\n    gotoMessages() {\n        let id = this.props.data.id;\n        if (typeof this.props.goToConversation !== 'undefined') {\n            this.props.goToConversation(id);\n        }\n        let ev = new CustomEvent(\"openSideMenu\", this.props.data);\n        document.dispatchEvent(ev);\n\n    }\n\n    render() {\n    const { photo, name, text } = this.props.data;\n    return (\n      <div className=\"conversation-list-item\" onClick={this.gotoMessages.bind(this)}>\n        <img className=\"conversation-photo\" src={photo} alt=\"conversation\" />\n        <div className=\"conversation-info\">\n          <h1 className=\"conversation-title\">{ name }</h1>\n          <p className=\"conversation-snippet\">{ text }</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  {\n    goToConversation,\n      sendCryptos\n  }\n)(ConversationListItem);\n","import { combineReducers } from 'redux';\n\nimport {\n    SEND_CRYPTO_STARTED,\n    SEND_CRYPTO_SUCCESS\n} from '../actionTypes'\n\nexport const sendCryptos = (crypto, amount, account, recipient, messageText) => (dispatch, getState) => {\n    dispatch({\n        type: 'SEND_CRYPTO_STARTED',\n        payload: {\n            crypto,\n            amount,\n            account,\n            recipient,\n            messageText\n        }\n    });\n    //TODO: mock stub.\n    setTimeout(()=>{\n        dispatch({\n            type: 'SEND_CRYPTO_SUCCESS',\n            payload: {\n                crypto,\n                amount,\n                account,\n                recipient,\n                messageText\n            }\n        });\n    }, 2000);\n};","import {\n    SEARCH_MESSAGE_TEXT\n} from '../actions/actionTypes';\n\nconst initialState = {\n    searchMessageText: \"\"\n};\n\nexport const searchMessageText = (state = initialState, action) => {\n  switch (action.type) {\n      case SEARCH_MESSAGE_TEXT:\n        return {\n            ...state,\n            searchMessageText: action.payload.searchText\n        };\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    searchMessageText\n});\n\n//selectors\nexport const getSearchMessageText= (state) => {\n    return state.searchMessageText.searchMessageText;\n};","import {\n    SEND_LOCATION\n} from '../actions/actionTypes';\n\nconst initialState = {\n    conversationId: null,\n    latestMessage: null\n};\n\nexport const sendLocation = (state = initialState, action) => {\n  switch (action.type) {\n      case SEND_LOCATION:\n        return {\n            ...state,\n            conversationId: action.payload.conversationId,\n            latestMessage: action.payload.message\n        };\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    sendLocation\n});\n\n//selectors\nexport const getSendLocationStatus = (state) => {\n    const {conversationId, latestMessage} = state.sendLocation;\n    return {\n        conversationId,\n        latestMessage\n    }\n};","import {\n    SEND_CRYPTO_STARTED, SEND_CRYPTO_SUCCESS\n} from '../actions/actionTypes';\n\nconst initialState = {\n    sendCryptoStarted: false,\n    sendCryptoSuccess: false\n};\n\nexport const sendCryptos = (state = initialState, action) => {\n  switch (action.type) {\n      case SEND_CRYPTO_STARTED:\n        return {\n            ...state,\n            sendCryptoStarted: true,\n            crypto: action.payload.crypto,\n            amount: action.payload.amount,\n            account: action.payload.account,\n            recipient: action.payload.recipient,\n            messageText: action.payload.messageText\n        };\n        case SEND_CRYPTO_SUCCESS:\n        return {\n            ...state,\n            sendCryptoSuccess: true,\n            sendCryptoStarted: false,\n            crypto: action.payload.crypto,\n            amount: action.payload.amount,\n            account: action.payload.account,\n            recipient: action.payload.recipient,\n            messageText: action.payload.messageText\n        };\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    sendCryptos\n});\n\n//selectors\nexport const getSendCryptoStatus = (state) => {\n  const {crypto, amount, account, recipient, messageText} = state.sendCryptos;\n  if (state.sendCryptos.sendCryptoStarted) {\n      return {\n          status: 'started',\n          crypto, amount, account, recipient, messageText\n      };\n  }\n  if (state.sendCryptos.sendCryptoSuccess) {\n      return {\n          status: 'success',\n          crypto, amount, account, recipient, messageText\n      }\n  }\n};","import {\n    SEND_TEXT\n} from '../actions/actionTypes';\n\nconst initialState = {\n    conversationId: null,\n    latestMessage: null\n};\n\nexport const sendText = (state = initialState, action) => {\n  switch (action.type) {\n      case SEND_TEXT:\n        return {\n            ...state,\n            conversationId: action.payload.conversationId,\n            latestMessage: action.payload.message,\n            timestamp: action.payload.timestamp,\n        };\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    sendText\n});\n\n//selectors\nexport const getSendTextStatus = (state) => {\n    const {conversationId, latestMessage, timestamp} = state.sendText;\n    return {\n        conversationId,\n        latestMessage,\n        timestamp\n    }\n};","//TODO: mock stub\nexport const MY_USER_ID = 'apple';\nexport const MY_USER_NAME = 'Macintosh';","export const API_URL =\n                            'https://warm-depths-29783.herokuapp.com';\n                      // 'http://localhost:3001';\n\n// export const WS_URL =  process.env.NODE_ENV === 'production' ?\n//                        'wss://enigmatic-mountain-38641.herokuapp.com/api/cable' :\n//                        'ws://localhost:5000/api/cable';\n\nexport const MESSAGE_FORM = {\n    text: \"text\",\n    crypto: \"crypto\",\n    location: \"location\",\n    image: \"image\"\n};\n\nexport const BTC_CONFIG = {\n    Bitcoin: {\n        Decimals: 8,\n        Satoshis: 100000000,\n    },\n    Networks: {\n        Testnet: 'testnet',\n    },\n    Transactions: {\n        AverageBytes: 255\n    },\n    Endpoints: {\n        BitcoinFees: 'https://bitcoinfees.earn.com/api/v1/fees/recommended'\n    },\n    EON_HUB_ADDR: \"mpTJFqyfzn4JFUoZYxNRodqAXd43onvDKP\",\n};\n\nexport const ETH_CONFIG = {\n    network: 'ropsten',\n    INFURA_END_POINT: 'https://ropsten.infura.io/v3/',\n    INFURA_API_KEY: '2175427e87804701a83b3dd0accb7977',\n    ETH_GAS_STATION: 'https://ethgasstation.info/json/ethgasAPI.json',\n    ETH_GAS_LIMIT: 21000,\n    ETHERSCAN_END_POINT: 'https://api-ropsten.etherscan.io/api',\n    ETHERSCAN_API_KEY: '277FBYYYWN8SZHKQ6BC2P9FMQU61KGDM3F',\n    EON_HUB_ADDR: \"0xe3D9bDBd165bbefbb7B6A889C3B5781730286252\"\n};\n","//TODO: mock stub\nimport axios from 'axios';\nimport {API_URL} from \"../config/constants\";\n\nconst USER_INFO_URL = `${API_URL}/users/`;\n\nconst fetchUsrInfo = (usrId) => {\n    return axios.get(`${USER_INFO_URL}${usrId}.json`).then(response=>{\n        return response.data;\n    });\n};\n\nexport default fetchUsrInfo;","const letterGIcon = \"data:image/png;base64,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\";\n\nexport default letterGIcon;","import React, { Component } from 'react';\nimport ConversationListItem from '../ConversationListItem';\nimport { connect } from 'react-redux';\nimport '../../utils/aux';\n\nimport './ConversationList.css';\n\nimport {getSearchMessageText} from \"../../reducers/searchMessageText\";\nimport {getSendLocationStatus} from '../../reducers/sendLocation';\nimport {getSendCryptoStatus} from '../../reducers/sendCrypto';\nimport {getSendTextStatus} from '../../reducers/sendText';\n\nimport {MY_USER_ID}  from '../../services/myUserInfo';\nimport fetchUsrInfo from '../../services/fetchUsrInfo';\n\nimport fetchMessagesFromUser from \"../../services/fetchMessagesFromUser\";\nimport letterGIconUrl from \"../../services/letterGIconUrl\";\n\nclass ConversationList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      conversations: []\n    };\n    this.MY_USER_ID = MY_USER_ID;\n\n  }\n\n   _getLastMessageAndTimeStampBy(sessionId) {\n    this.messages.forEach(m=>{\n      m.timestamp = new Date(m.timestamp);\n    });\n    let lastMessage = this.messages && this.messages.filter(m=>m.author == sessionId ||\n        m.recipient == sessionId).orderBy('timestamp', 'desc').head();\n    return [lastMessage.message, lastMessage.timestamp];\n  }\n\n  componentDidMount() {\n    this.messages = JSON.parse(window.localStorage.getItem(\"messages\"));\n    if  (!this.messages || !this.messages.length) {\n      //TODO: mock stub\n      this.messages =  fetchMessagesFromUser();\n      window.localStorage.setItem(\"messages\", JSON.stringify(this.messages));\n    }\n    this._getConversations().then(conversations=>{\n      this.setState({\n        conversations\n      });\n    });\n  }\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    if (JSON.stringify(nextProps.sendTextStatus) !== JSON.stringify(this.props.sendTextStatus)) {\n      let conversations = this.state.conversations;\n      let c = conversations.find(['id', nextProps.sendTextStatus.conversationId]);\n      if (c) {\n        c.text = nextProps.sendTextStatus.latestMessage;\n        c.timestamp = nextProps.sendTextStatus.timestamp;\n        this.setState({\n          conversations\n        });\n      } else if (nextProps.sendTextStatus.conversationId)  {\n        const {conversationId, latestMessage, timestamp} = nextProps.sendTextStatus;\n        this.setState({\n          conversations: [\n              ...conversations, {\n              photo: letterGIconUrl,\n              name: 'Group Chat',\n              id: conversationId,\n              text: latestMessage,\n              timestamp,\n            }\n          ]\n        })\n      }\n    }\n  }\n\n  _getConversations() {\n    let sessionIds = [];\n    if (this.messages) {\n      for (let m of this.messages) {\n        if (m.author != this.MY_USER_ID) {\n          sessionIds.push(m.author+'');\n        }\n        if (m.recipient != this.MY_USER_ID) {\n          sessionIds.push(m.recipient+'');\n        }\n      }\n\n      //TODO: add group chat icons\n      //sessionIds ==[\"1\", \"2\", \"2\", \"1\", \"2\", \"3\", \"2\", \"3\", \"1\", \"3\", \"1\", \"1\", \"2\", \"2\", \"2\", \"3\", \"3\", \"1\", \"1\", \"1\", \"1\", \"1\", \"3,30,88\", \"3,30,88\"]\n\n      let oneToOneSessionIds = sessionIds.uniq().filter(s=>{\n        return s.split(',').length === 1\n      });\n\n      let groupChatSessionIds = sessionIds.uniq().filter(s=>{\n        return s.split(',').length > 1\n      });\n\n      let usrPromises = oneToOneSessionIds.map((sessionId)=>{\n          return fetchUsrInfo(sessionId);\n      });\n\n      let results = [];\n\n      return Promise.all(usrPromises).then(usrs=>{\n        let oneToOneResults = usrs.map(u=>{\n          const {photo, name, id} = u;\n          let text = this._getLastMessageAndTimeStampBy(u.id)[0] || \"\";\n          let timestamp = this._getLastMessageAndTimeStampBy(u.id)[1] || \"\";\n          return {\n            photo,\n            name,\n            id,\n            text,\n            timestamp\n          }\n        });\n        let groupChatResults = groupChatSessionIds.map(g=>{\n          //TODO: change\n          let text = this._getLastMessageAndTimeStampBy(g)[0] || \"\";\n          let timestamp = this._getLastMessageAndTimeStampBy(g)[1] || \"\";\n          return {\n            id: g,\n            name: \"Group chat\",\n            photo: letterGIconUrl,\n            text,\n            timestamp\n          }\n        });\n        return oneToOneResults.concat(groupChatResults);\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"conversation-list\" key={\"conversation-list\"+ this.state.conversations.length + this.props.sendTextStatus.latestMessage + this.props.sendTextStatus.timestamp } >\n        {/*TODO: make search bar trigger by pull down*/}\n        {/*<ConversationSearch />*/}\n        {\n          this.state.conversations && this.state.conversations.orderBy('timestamp', 'desc').map(conversation => {\n            // .filter(conversation=>conversation.text.match(this.props.searchMessageText))\n             return (\n               <ConversationListItem\n                 key={conversation.id+conversation.text}\n                 data={conversation}\n                 conversations={this.state.conversations}\n               />\n             )\n          }\n          )\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  searchMessageText: getSearchMessageText(state),\n  locationStatus: getSendLocationStatus(state),\n  sendCryptoStatus: getSendCryptoStatus(state),\n  sendTextStatus: getSendTextStatus(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  {}\n)(ConversationList);","//TODO: mock stub\nexport default function fetchMessagesFromUser() {\n    return [\n          {\n              id: 1,\n              author: '1',\n              recipient: 'apple',\n              message: 'hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 2,\n              author: '2',\n              recipient: 'apple',\n              message: 'It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 3,\n              author: '2',\n              recipient: 'apple',\n              message: 'Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 4,\n              author: 'apple',\n              recipient: '1',\n              message: 'It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 5,\n              author: 'apple',\n              recipient: '2',\n              message: 'Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 6,\n              author: 'apple',\n              recipient: '3',\n              message: 'It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 7,\n              author: '2',\n              recipient: 'apple',\n              message: 'Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 8,\n              author: '3',\n              recipient: 'apple',\n              message: 'It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 9,\n              author: 'apple',\n              recipient: '1',\n              message: 'Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.',\n              messageForm: 'text',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n          {\n              id: 10,\n              author: '3',\n              recipient: 'apple',\n              messageForm: 'text',\n              message: 'It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!',\n              timestamp: new Date().getTime() - Math.floor(Math.random() * 1000000)\n          },\n      ];\n}","import React, { Component } from 'react';\nimport './Compose.css';\nimport {ToolbarButton} from 'react-onsenui';\n//emotion\nimport styled from '@emotion/styled'\n\nexport default class Compose extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            composedContents: '',\n            emojiSelected: false\n        };\n        this.onCommentChange = (event) => this.setState({ composedContents: event.target.value });\n        this.handleKeyDown = this._handleKeyDown.bind(this);\n    }\n\n    _handleKeyDown(event) {\n        if (event.which === 13 && this.state.composedContents.trim().length > 0 && this.props.onSubmit) {\n            this._submit();\n        }\n    }\n\n    _submit() {\n        this.props.onSubmit(this.state.composedContents);\n        this.setState({ composedContents: '' });\n        this.composedInput.blur();\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (typeof nextProps.receivedEmoji !== 'undefined' && typeof nextProps.receivedEmoji.colons !== 'undefined' && !nextProps.stopReceivingEmoji) {\n            if (document.querySelector(\".emoji-mart\") && document.querySelector(\".emoji-mart\").offsetParent /*TODO: dirty hack. you shouldn't do this.*/) {\n                this.setState({\n                composedContents: this.state.composedContents + nextProps.receivedEmoji.colons\n            });\n            }\n        }\n    }\n\n    render() {\n    return (\n      <div className=\"compose\">\n        <input\n          type=\"text\"\n          className=\"compose-input\"\n          placeholder=\"Type a message, @name\"\n          value={this.state.composedContents}\n          onChange={this.onCommentChange}\n          onKeyDown={this.handleKeyDown}\n          ref={(ref) => {this.composedInput = ref}}\n        />\n\n        <ToolbarButton key=\"send\" icon=\"ion-ios-send\" onClick={this._submit.bind(this)}/>\n        <ToolbarButton key=\"more\" icon=\"ion-ios-more\" MsgLst={this} onClick={this.props.more} />\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport moment from 'moment';\nimport './Message.css';\nimport Emoji from 'react-emoji-render';\nimport {MESSAGE_FORM} from '../../config/constants';\n\nexport default class Message extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.bubbleContent='';\n  }\n\n  render() {\n    const {\n      data,\n      isMine,\n      startsSequence,\n      endsSequence,\n      showTimestamp\n    } = this.props;\n    if (data.messageForm === MESSAGE_FORM.text) {\n        this.bubbleContent = (\n            <Emoji\n                text={data.message}\n            />\n        );\n    } else if (data.messageForm === MESSAGE_FORM.location) {\n        this.bubbleContent = (\n            <div>\n                {data.location.poiname}\n            </div>\n        );\n    } else if (data.messageForm === MESSAGE_FORM.image) {\n        this.bubbleContent = (\n            <div>\n                <img src={data.imageUrl} className=\"message-bubble-thumbnail\"/>\n            </div>\n        );\n    } else if (data.messageForm === MESSAGE_FORM.crypto) {\n        this.bubbleContent = (\n            <div>\n                You've just sent {data.amount} {data.crypto} to {data.recipient}\n            </div>\n        );\n    }\n    const friendlyTimestamp = moment(data.timestamp).format('LLLL');\n    return (\n        <div className={[\n          'message',\n          `${isMine ? 'mine' : ''}`,\n          `${startsSequence ? 'start' : ''}`,\n          `${endsSequence ? 'end' : ''}`\n        ].join(' ')}>\n          {\n            showTimestamp &&\n            <div className=\"timestamp\">\n              { friendlyTimestamp }\n            </div>\n          }\n\n          <div className=\"bubble-container\">\n            <div className=\"bubble\" title={friendlyTimestamp}>\n              {this.bubbleContent}\n            </div>\n          </div>\n        </div>\n    );\n  }\n}","import React from 'react';\nimport './GroupChatMemberPanel.css';\nimport fetchUsrInfo from '../../services/fetchUsrInfo';\nimport Spinner from '../Spinner'\n\nexport default class GroupChatMemberPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        usrInfo: []\n    }\n  }\n\n  componentWillReceiveProps(nextProps, nextContext) {\n      if (this._isMounted) {\n        this.getUsrInfo(nextProps.memberIds);\n      }\n  }\n\n  getUsrInfo(memberIds) {\n      let ps = Promise.all(memberIds.map(mid=>{\n          return fetchUsrInfo(mid);\n      }));\n      ps.then(results=>{\n          this.setState({\n              usrInfo: results\n          })\n      });\n  }\n\n  componentDidMount() {\n      this._isMounted = true;\n  }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n\n    render() {\n        return (\n            <div className=\"group-chat-member-icons-wrapper\">\n                {\n                    this.state.usrInfo.length > 0 ? this.state.usrInfo.map(obj=>{\n                        return (\n                            <span key={\"usr-info-\"+obj.id} >\n                                <img className=\"conversation-photo\" src={obj.photo} alt=\"conversation\" />\n                            </span>\n                        )\n                    }) : null\n                }\n            </div>\n        )\n    }\n}","import {\n    GOTO_CONVERSATION\n} from '../actions/actionTypes';\n\nconst initialState = {\n    conversationId: null\n};\n\nexport const goToConversation = (state = initialState.conversationId, action) => {\n  switch (action.type) {\n    case GOTO_CONVERSATION:\n        return action.payload.id;\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    goToConversation\n});\n\n//selectors\nexport const getConversationID = (state) => {\n  const conversationID = state.goToConversation;\n  return conversationID;\n}","import {\n    SELECT_EMOJI\n} from '../actions/actionTypes';\n\nconst initialState = {\n    selectedEmoji: \"\"\n};\n\nexport const selectEmoji = (state = initialState, action) => {\n  switch (action.type) {\n      case SELECT_EMOJI:\n        return {\n            ...state,\n            selectedEmoji: action.payload.emoji\n        };\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    selectEmoji\n});\n\n//selectors\nexport const getSelectedEmoji = (state) => {\n    return state.selectEmoji.selectedEmoji;\n};","import {\n    GOTO_GROUPCHAT\n} from '../actions/actionTypes';\n\nconst initialState = {\n    groupUsrIds: []\n};\n\nexport const goToGroupChat = (state = initialState.groupUsrIds, action) => {\n  switch (action.type) {\n    case GOTO_GROUPCHAT:\n        return {\n            groupUsrIds: action.payload.groupUsrIds\n        };\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    goToGroupChat\n});\n\n//selectors\nexport const getGroupChatUsrIds = (state) => {\n  return state.goToGroupChat.groupUsrIds;\n}","import {\n    SEND_CRYPTO_TO_HUB\n} from '../actions/actionTypes';\n\nconst initialState = {\n    owed: {\n        'BTC': 0,\n        'ETH': 0,\n        'EOS': 0\n    },\n    status: null,\n    result: {}\n};\n\nexport const sendCryptoToHub = (state = initialState, action) => {\n    switch (action.type) {\n        case SEND_CRYPTO_TO_HUB:\n            if (action.payload.status === 'success') {\n                let coinType = action.payload.coinType;\n                let amount = action.payload.amount;\n                return {\n                    ...state,\n                    owed: {\n                        ...state.owed,\n                        [coinType]: state.owed[coinType] + amount\n                    },\n                    status: action.payload.status,\n                    result: action.payload.result\n                };\n            }\n            else {\n                return {\n                    ...state,\n                    status: 'failure',\n                    reason: action.payload.reason\n                }\n            }\n            \n        default:\n            return state;\n    }\n};\n\nexport default ({\n    sendCryptoToHub\n});\n\n//selectors\nexport const getSendCryptoToHubResult = (state) => {\n    return state.sendCryptoToHub;\n};","import {\n    CREATE_NEW_WALLET\n} from '../actions/actionTypes';\nimport {find} from 'lodash';\n\nconst initialState = {\n    wallets: [],\n};\n\nexport const createNewWallet = (state = initialState, action) => {\n  console.log(\"state.wallets\", state.wallets);\n  console.log(\"action.payload.wallet\", action.payload && action.payload.wallet);\n  switch (action.type) {\n      case CREATE_NEW_WALLET:\n        if  (!find(state.wallets, {address: action.payload.wallet.address})) {\n          return {\n            ...state,\n            wallets: [...state.wallets, action.payload.wallet],\n          };\n        }\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    createNewWallet\n});\n\n//selectors\nexport const getWallets = (state) => {\n    const {wallets, } = state.createNewWallet;\n    return {\n        wallets\n    }\n};","export function getCook(cookiename) {\n    let cookiestring=RegExp(\"\"+cookiename+\"[^;]+\").exec(document.cookie);\n    return decodeURIComponent(!!cookiestring ? cookiestring.toString().replace(/^[^=]+./,\"\") : \"\");\n}\n","import '../utils/aux';\nimport {BasicWallet} from \"./wallet\";\nimport axios from 'axios';\nimport Web3 from 'web3';\nimport unit from 'ethjs-unit';\nimport ethCrypto from 'eth-crypto';\nimport {ETH_CONFIG} from '../config/constants';\n\nexport class ETHWallet extends BasicWallet {\n  constructor(props) {\n    super(props);\n    this.__coinType = 'ETH';\n    this.__name = props.name;\n    this.__address = props.address;\n    this.__phone = props.phone;\n    this.__mnemonic = props.mnemonic;\n    this.__privateKey = props.privateKey;\n    this.__publicKey = props.publicKey;\n    this.__network = props.network;\n    this.__wif = props.wif;\n    this.__pwdHash = props.__pwdHash;\n    this.pwdHash = props.pwdHash;\n    // const web3 = new Web3(infuraEndPoint + infuraAPIKey);\n  }\n  \n  static generate() {\n    const {privateKey, publicKey, address} = ethCrypto.createIdentity();\n    Object.assign(this, {\n      privateKey, publicKey, address\n    });\n    return  {privateKey, publicKey, address};\n  }\n  \n  static create(phone, name, mnemonic, privateKey, publicKey, address, pwdHash) {\n    return new ETHWallet({\n      phone, name, address, mnemonic, privateKey, publicKey,\n      network: ETH_CONFIG.network,\n      wif: privateKey,\n      pwdHash\n    });\n  }\n  \n  save() {\n    let self = this;\n    let obj = this.toObject();\n    console.log({\n      network: this.network,\n      ...this,\n      ...obj\n    });\n    return self.constructor.store.insert({\n      network: this.network,\n      ...this,\n      ...obj\n    });\n  }\n  \n  getGasPrice(gasOption) {\n    return new Promise((resolve, reject)=>{\n      let speed = gasOption.speed || 'fast';\n      axios.get(ETH_CONFIG.ETH_GAS_STATION).then(response=>{\n        resolve(response.data[speed]);\n      }, e=>{\n        reject(e);\n      });\n    });\n  }\n  \n  getGasLimit(gasOption) {\n    return gasOption.gasLimit || ETH_CONFIG.ETH_GAS_LIMIT;\n  }\n  \n  get web3() {\n    return new Web3(new Web3.providers.HttpProvider(\"http://localhost:7545\"));\n  }\n  \n  coins() {\n    return new Promise((resolve, reject)=>{\n      let address = this.address;\n      if (address) {\n        this.web3.eth.getBalance(address).then(balance=>{\n          console.log({balance});\n          resolve(balance);\n        });\n      } else {\n        reject({success: false, message: 'Invalid address', data: null});\n      }\n    })\n  }\n  \n  getPrivateKey() {\n    return new Promise((resolve, reject)=>{\n      let password = window.prompt(\"Please input your password:\", \"\");\n      resolve(this.readDecrypted(password));\n    })\n  }\n  \n  send(eth, address, password, gasOption) {\n    return new Promise(async (resolve, reject) => {\n      let senderAddress = this.address;\n      let senderPrivateKey = this.getPrivateKey();\n      let recipientAddress = address;\n      let value = unit.toWei(eth, 'ether');\n      \n      console.log({senderAddress, senderPrivateKey, recipientAddress, value});\n  \n      let gasPrice = this.getGasPrice(gasOption);\n      let gasLimit = this.getGasLimit(gasOption);\n  \n      const web3 = this.web3;\n      \n      Promise.all([senderPrivateKey, gasPrice]).then((values)=>{\n        const [senderPrivateKey, gasPrice] = values;\n        let _ = web3.eth.getTransactionCount(senderAddress, 'pending', function(err, result) {\n          if (err) {\n            console.log(\"error when sending eth: \", err);\n            reject(err);\n            throw(err);\n          } else {\n            const rawTransaction = {\n              from: senderAddress,\n              to: recipientAddress,\n              value: value,\n              gasPrice: gasPrice,\n              nonce: result,\n              gasLimit: gasLimit,\n            };\n      \n            const signedTransaction = ethCrypto.signTransaction(\n              rawTransaction,\n              senderPrivateKey\n            );\n      \n            web3.eth.sendSignedTransaction('0x' + signedTransaction, function(err, result) {\n              if (err) {\n                console.log({success: false, message: err.toString(), data: null});\n                reject(err);\n                throw(err);\n              } else {\n                console.log({success: true, message: 'Transaction was sent successfully. Transaction hash: ' + result + '.', data: null});\n                resolve({success: true, message: 'Transaction was sent successfully. Transaction hash: ' + result + '.', data: {rawTransaction}, result})\n              }\n            });\n          }\n        });\n      }, (e)=>{\n        reject(e);\n      });\n    });\n  }\n  \n  async update() {\n    let _ = await this.coins()\n  }\n\n}","import {\n    SEND_CRYPTO_TO_HUB,\n} from '../actionTypes'\nimport {ETH_CONFIG} from '../../config/constants';\nimport {getCook} from '../../utils/cookie';\nimport {ETHWallet} from '../../services/ETHWallet';\n\nconst EON_HUB_ADDR = ETH_CONFIG.EON_HUB_ADDR;\n\nfunction getErrorMessage(e) {\n    const MAXLEN = 100;\n    let message = e.error || e.message;\n    if  (message.length > MAXLEN) {\n        return message.slice(0, MAXLEN) + \"...\";\n    }\n    return message;\n}\n\nexport const sendCryptoToHub = (cryptoPayment) => (dispatch, getState) => {\n    const {amount, coinType, wallet, fee} = cryptoPayment;\n    let password =getCook('password');\n    let addr = EON_HUB_ADDR;\n    console.log({sendCryptoToHubWallet: wallet});\n    let w = new ETHWallet(wallet);\n    w.send(\n      amount, addr, fee, password,\n    ).then((result) => {\n        getState().createNewWallet.wallets.forEach(async w => {\n            let wlt = new ETHWallet(w);\n            let _ = await wlt.update();\n            dispatch({\n                type: 'SEND_CRYPTO_TO_HUB',\n                payload: {\n                    ...cryptoPayment,\n                    status: 'success',\n                    result\n                }\n            });\n        });\n    }, (e) => {\n        console.log(\"error in send crypto to hub\", {e});\n        dispatch({\n            type: 'SEND_CRYPTO_TO_HUB',\n            payload: {\n                ...cryptoPayment,\n                status: 'failure',\n                reason: getErrorMessage(e),\n            }\n        });\n        throw(e);\n    });\n    \n    // dispatch({\n    //     type: 'SEND_CRYPTO_TO_HUB',\n    //     payload: {\n    //         ...cryptoPayment,\n    //     }\n    // });\n};","import React, { Component } from 'react';\nimport {debounce, isEqual} from 'lodash';\nimport { connect } from 'react-redux';\n//components\nimport Compose from '../Compose';\nimport Message from '../Message';\nimport moment from 'moment';\nimport {Page, Dialog, ToolbarButton, List, ListItem, Button, AlertDialog, AlertDialogButton, Range} from 'react-onsenui';\nimport './MessageList.css';\nimport \"ionicons/dist/css/ionicons.css\";\nimport 'emoji-mart/css/emoji-mart.css';\nimport { Picker} from 'emoji-mart';\nimport {MESSAGE_FORM} from \"../../config/constants\";\nimport ReactCardFlip from 'react-card-flip';\nimport GroupChatMemberPanel from '../GroupChatMemberPanel';\n//selectors\nimport {getConversationID} from '../../reducers/goToConversation';\nimport {getSelectedEmoji} from '../../reducers/selectEmoji';\nimport {getGroupChatUsrIds} from '../../reducers/goToGroupChat';\nimport {getSendTextStatus} from \"../../reducers/sendText\";\nimport {getSendCryptoToHubResult} from \"../../reducers/sendCryptoToHub\";\nimport {getWallets} from \"../../reducers/createNewWallet\";\n//action creators\nimport {selectEmoji} from '../../actions/actionCreators/selectEmoji';\nimport {sendLocation} from '../../actions/actionCreators/sendLocation';\nimport {sendText} from '../../actions/actionCreators/sendText';\nimport {sendCryptoToHub} from '../../actions/actionCreators/sendCryptoToHub';\n//services\nimport {MY_USER_ID} from '../../services/myUserInfo';\n//constants\n//utils\nimport '../../utils/aux';\nimport {ETHWallet} from '../../services/ETHWallet';\n\nconst CONVERSATION_TYPES = Object.freeze({\n    individual: Symbol(\"individual\"),\n    groupChat: Symbol(\"groupChat\"),\n});\n\nclass MessageList extends Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          messages: [],\n          filteredMessages:[],\n          dialogOpen: false,\n          sendCryptoDialogOpen: false,\n          cryptoRangeDialogOpen: false,\n          emojiDialogOpen: false,\n          locationDialogOpen: false,\n          locationPickedP: false,\n          locationPickedObj: {},\n          cryptoToBeSentCoinName: 0,\n          cryptoToBeSentFromAddr: 0,\n          cryptoToBeSentMax: 0,\n          cryptoToBeSent: 0,\n          currentWalletIdx: null,\n          cryptoToBeSentRecipient: null,\n          sendCryptoDialogFlipped: false,\n          conversationType: CONVERSATION_TYPES.individual,\n          infoDialogOpen: false,\n          cryptoPortfolio: {}\n      };\n      window.addEventListener('message', (event)=> {\n          var loc = event.data;\n          if (loc && loc.module == 'locationPicker') {\n              console.log('location', loc);\n              this.setState({\n                  ...this.state,\n                  locationPickedObj: loc,\n                  locationPickedP: true\n              })\n          }\n      }, false);\n  }\n\n  _appendMessageToQueue(message, cb) {\n      let messages = this.state.messages.concat([message]);\n      let filteredMessages = this._filterMessages(messages, this.props.conversationId);\n      window.localStorage.setItem(\"messages\", JSON.stringify(messages));\n      this.setState({\n          ...this.state,\n          messages,\n          filteredMessages\n      }, cb);\n  }\n\n  postNewComposedContent(composedContents) {\n      let id = this.state.messages.length+1;\n      if (composedContents.trim().length > 1) {\n          const message = {\n              id,\n              author: MY_USER_ID,\n              recipient: this.props.conversationId,\n              message: composedContents,\n              timestamp: new Date().getTime(),\n              messageForm: MESSAGE_FORM.text\n          };\n          this._appendMessageToQueue(message);\n          this.props.sendText({\n              id,\n              author: MY_USER_ID,\n              recipient: this.props.conversationId,\n              conversationId: this.props.conversationId,\n              message: composedContents,\n              timestamp: new Date().getTime(),\n              messageForm: MESSAGE_FORM.text\n          });\n      }\n  }\n\n  postLocationContent(){\n      let id = this.state.messages.length+1;\n      let messages = this.state.messages.concat([{\n          id,\n          author: MY_USER_ID,\n          location: this.state.locationPickedObj,\n          timestamp: new Date().getTime(),\n          messageForm: MESSAGE_FORM.location,\n          message: \"You just shared a location.\",\n          recipient: this.props.conversationId,\n      }]);\n      let filteredMessages = this._filterMessages(messages, this.props.conversationId);\n      this.setState({\n          ...this.state,\n          id,\n          author: MY_USER_ID,\n          recipient: this.props.conversationId,\n          locationPickedP: false,\n          locationDialogOpen: false,\n          dialogOpen: false,\n          messages,\n          filteredMessages\n      });\n      this.props.sendLocation({\n          id,\n          author: MY_USER_ID,\n          location: this.state.locationPickedObj,\n          timestamp: new Date().getTime(),\n          messageForm: MESSAGE_FORM.location,\n          message: \"You just shared a location.\",\n          recipient: this.props.conversationId,\n          conversationId: this.props.conversationId\n      });\n  }\n\n  postImageContent = debounce((imageFileUrl) => {\n      let id = this.state.messages.length+1;\n      let messages = this.state.messages.concat([{\n              id,\n              author: MY_USER_ID,\n              recipient: this.props.conversationId,\n              imageUrl: imageFileUrl,\n              timestamp: new Date().getTime(),\n              messageForm: MESSAGE_FORM.image,\n              message: \"You just sent an image\"\n          }]);\n      let filteredMessages = this._filterMessages(messages, this.props.conversationId);\n      this.setState({\n          ...this.state,\n          id,\n          dialogOpen: false,\n          messages,\n          filteredMessages\n      })});\n\n  componentDidMount() {\n    this.messageListContainer.scrollIntoView(false);\n    this.wallets = this.props.wallets || {};\n  }\n\n  _filterMessages(messages, f) {\n    if (!f) {\n        return messages;\n    } else {\n      return messages.filter(m=>(m.author == f &&\n        m.recipient == MY_USER_ID)||\n        (m.recipient == f &&\n            m.author == MY_USER_ID));\n    }\n  };\n\n  getMessages(conversationId) {\n      let messages = JSON.parse(window.localStorage.getItem('messages'));\n      let filteredMessages = this._filterMessages(messages, conversationId);\n      this.setState(prevState => {\n          return {\n              ...prevState,\n              messages,\n              filteredMessages\n          }\n      });\n  }\n\n  componentDidUpdate() {\n    this.messageListContainer.scrollIntoView(false);\n    window.localStorage.setItem('messages', JSON.stringify(this.state.messages));\n  }\n  \n  componentWillReceiveProps(nextProps, nextContext) {\n      this.getMessages(nextProps.conversationId, MY_USER_ID);\n      if (!this.props.groupChatUsrIds && nextProps.groupChatUsrIds || this.props.groupChatUsrIds !== nextProps.groupChatUsrIds) {\n          let sessionId = nextProps.groupChatUsrIds+'';\n          this.setState({\n              conversationType: CONVERSATION_TYPES.groupChat,\n              messages: [...this.state.messages, {\n                  id: this.state.messages.length + 1,\n                  type: 'update',\n                  updateText: 'You entered into group chat with ' + nextProps.groupChatUsrIds.join(' '),\n                  recipient: MY_USER_ID,\n                  author: sessionId,\n                  groupMembers: nextProps.groupChatUsrIds,\n                  timestamp: new Date().getTime(),\n                  message: 'You entered into group chat with ' + nextProps.groupChatUsrIds.join(' '),\n              }]\n          });\n          let filteredMessages = this._filterMessages(this.state.messages);\n          this.setState({\n              filteredMessages\n          });\n          this.props.msg.updateSessionId({currentSessionId: sessionId});\n      }\n      \n      if (!this.props.sendCryptoToHubResult && nextProps.sendCryptoToHubResult || this.props.sendCryptoToHubResult !== nextProps.sendCryptoToHubResult) {\n        console.log(\"sendCryptoToHubResult\", nextProps.sendCryptoToHubResult);\n        if (nextProps.sendCryptoToHubResult.status === 'failure') {\n          this.setState({\n            sendCryptoToHubStatus: 'failure',\n            sendCryptoToHubFailureReason: nextProps.sendCryptoToHubResult.reason\n          });\n          return;\n        }\n        //TODO: use idx when multiple wallets are supported in future.\n        this.state.cryptoPortfolio.ETH[0].balance -= nextProps.sendCryptoToHubResult.owed.ETH;\n        const message = {\n          id: this.state.messages.length + 1,\n          author: MY_USER_ID,\n          recipient: this.props.conversationId,\n          conversationId: this.props.conversationId,\n          message: `You sent ${this.state.cryptoToBeSent * this.state.cryptoToBeSentMax / 100} ${this.state.cryptoToBeSentCoinName} to ${this.props.conversationId}`,\n          timestamp: new Date().getTime(),\n          messageForm: MESSAGE_FORM.text\n        };\n        this.props.sendText(message);\n        this._appendMessageToQueue(message, this.closeSendCryptoDialog.bind(this));\n        this.forceUpdate();\n      }\n      \n      if (isEqual(nextProps.wallets, this.props.wallets)) {\n        this.cryptoPortfolio().then(cryptoPortfolio=>{\n          this.setState({\n            cryptoPortfolio\n          });\n        });\n      }\n  }\n  \n  cryptoPortfolio = () => {\n    return new Promise((resolve, reject) => {\n      let wallets = this.props.wallets;\n      let coinTypes = wallets.map(w => w.__coinType).uniq();\n      let result = {};\n      for (let ct of coinTypes) {\n        Promise.all(wallets.filter({coinType: ct}).map(async wlt => {\n          let w = new ETHWallet(wlt);\n          let coins = await w.coins();\n          return {\n            addr: w.address,\n            balance: parseInt(coins)/1000000000000000000\n          };\n        })).then(results => {\n          result[ct] = results;\n        });\n      }\n      console.log({result});\n      resolve(result);\n    });\n  };\n  \n  refreshCryptoPortfolio() {\n    return this.cryptoPortfolio().then(cryptoPortfolio=>{\n      this.setState({\n        cryptoPortfolio\n      });\n      console.log({cryptoPortfolio});\n    });\n  }\n\n  renderMessages() {\n    let i = 0;\n    let messageCount = this.state.filteredMessages.length;\n    let messages = [];\n    while (i < messageCount) {\n      let previous = this.state.filteredMessages[i - 1];\n      let current = this.state.filteredMessages[i];\n      if (typeof current.type == 'undefined') {\n          let next = this.state.filteredMessages[i + 1];\n          let isMine = current.author === MY_USER_ID;\n          let currentMoment = moment(current.timestamp);\n          let prevBySameAuthor = false;\n          let nextBySameAuthor = false;\n          let startsSequence = true;\n          let endsSequence = true;\n          let showTimestamp = true;\n\n          if (previous) {\n              let previousMoment = moment(previous.timestamp);\n              let previousDuration = moment.duration(currentMoment.diff(previousMoment));\n              prevBySameAuthor = previous.author === current.author;\n\n              if (prevBySameAuthor && previousDuration.as('hours') < 1) {\n                  startsSequence = false;\n              }\n\n              if (previousDuration.as('hours') < 1) {\n                  showTimestamp = false;\n              }\n          }\n\n          if (next) {\n              let nextMoment = moment(next.timestamp);\n              let nextDuration = moment.duration(nextMoment.diff(currentMoment));\n              nextBySameAuthor = next.author === current.author;\n\n              if (nextBySameAuthor && nextDuration.as('hours') < 1) {\n                  endsSequence = false;\n              }\n          }\n\n          messages.push(\n              <Message\n                  key={i+\"@\"+this.state.messages.length}\n                  isMine={isMine}\n                  startsSequence={startsSequence}\n                  endsSequence={endsSequence}\n                  showTimestamp={showTimestamp}\n                  data={current}\n              />\n          )\n      }\n      else if (current.type === 'update') {\n          messages.push(\n              <div className=\"update-text\" key={`update-text-${i}`}>\n                  {current.updateText}\n              </div>\n          );\n      }\n      i += 1;\n    }\n\n    return messages;\n  }\n\n  toggleDialog() {\n    this.setState({\n      dialogOpen: !this.state.dialogOpen\n    });\n  }\n\n  toggleSendCryptoDialog() {\n      this.setState({\n          ...this.state,\n          dialogOpen: false,\n          sendCryptoDialogFlipped: false,\n          sendCryptoDialogOpen: !this.state.sendCryptoDialogOpen,\n          cryptoToBeSent: 0\n      })\n  }\n\n  closeSendCryptoDialog() {\n      this.setState({\n          ...this.state,\n          dialogOpen: false,\n          sendCryptoDialogOpen: false,\n          sendCryptoDialogFlipped: false,\n          cryptoToBeSent: 0\n      });\n  }\n\n  flipSendCryptoDialog(crypto, account, idx) {\n      this.setState({\n          sendCryptoDialogFlipped: !this.state.sendCryptoDialogFlipped,\n          cryptoToBeSentMax: account.balance,\n          cryptoToBeSentCoinName: crypto,\n          cryptoToBeSentFromAddr: account.addr,\n          currentWalletIdx: idx\n      });\n  }\n\n  toggleEmojiDialog() {\n    this.setState({\n          ...this.state,\n          dialogOpen: false,\n          emojiDialogOpen: !this.state.emojiDialogOpen\n      })\n  }\n\n  selectEmoji(emoji) {\n    this.props.selectEmoji(emoji);\n  }\n\n  toggleLocationDialog() {\n      this.setState({\n          ...this.state,\n          locationDialogOpen: !this.state.locationDialogOpen\n      });\n  }\n\n  toggleInfoDialog() {\n      this.setState({\n          infoDialogOpen: !this.state.infoDialogOpen,\n          dialogOpen: false\n      })\n  }\n\n  closeInfoDialog() {\n      this.setState({\n          dialogOpen: false,\n          infoDialogOpen: false\n      })\n  }\n\n  handleAlertDialogCancel() {\n      this.setState({\n          ...this.state,\n          locationPickedP: !this.state.locationPickedP\n      })\n  }\n\n  handleAlertDialogOk() {\n      this.postLocationContent();\n  }\n\n  openCamera() {\n      this.imageInput = document.querySelector('#camera-input');\n      this.imageInput.addEventListener('change', (ev)=>{\n          ev.preventDefault();\n          let imageFile = ev.target.files[0];\n          console.log(imageFile);\n          this.postImageContent(URL.createObjectURL(imageFile));\n      });\n      this.imageInput.click();\n  }\n  \n  async sendCrypto() {\n      let _ = this.refreshCryptoPortfolio();\n      this.props.sendCryptoToHub({\n        amount: this.state.cryptoToBeSent * this.state.cryptoToBeSentMax / 100,\n        coinType: this.state.cryptoToBeSentCoinName,\n        wallet: new ETHWallet(this.props.wallets[this.state.currentWalletIdx]),\n      });\n  }\n  \n  render() {\n    let sendCryptoToHubStatus = '';\n    if (this.state.sendCryptoToHubStatus === 'failure') {\n      sendCryptoToHubStatus = (\n        <div className=\"crypto-send-status\" >\n          Failure because {this.state.sendCryptoToHubFailureReason}\n        </div>\n      );\n    }\n    \n    return(\n    <Page key={\"message-list-with-len-\"+this.state.messages.length}>\n      <div className=\"message-list\">\n        <div className=\"message-list-container\" ref={(messageListContainer)=>{\n          this.messageListContainer = messageListContainer;\n        }}>{this.renderMessages()}</div>\n\n        <Compose\n            onSubmit={this.postNewComposedContent.bind(this)}\n            more={this.toggleDialog.bind(this)}\n            receivedEmoji={this.props.selectedEmoji}\n            stopReceivingEmoji={!this.state.emojiDialogOpen}\n        />\n\n        {/*Dialogus below*/}\n\n          <Dialog\n          isOpen={this.state.dialogOpen}\n          onCancel={this.toggleDialog.bind(this)}\n          cancelable>\n            <ons-row>\n                <ons-col width=\"20%\">\n                    <ToolbarButton key=\"photo\" icon=\"ion-ios-camera\" onClick={this.openCamera.bind(this)} >\n                        <input id=\"camera-input\" type=\"file\" accept=\"image/*\" style={{display:\"none\"}}/>\n                    </ToolbarButton>\n                </ons-col>\n                <ons-col width=\"20%\">\n                    <ToolbarButton key=\"emoji\" icon=\"ion-md-happy\" onClick={this.toggleEmojiDialog.bind(this)}/>\n                </ons-col>\n                <ons-col width=\"20%\">\n                    <ToolbarButton key=\"location\" icon=\"ion-ios-location\" onClick={this.toggleLocationDialog.bind(this)}/>\n                </ons-col>\n                <ons-col width=\"20%\">\n                    <ToolbarButton key=\"image\" icon=\"ion-logo-bitcoin\" onClick={this.toggleSendCryptoDialog.bind(this)} />\n                </ons-col>\n                <ons-col width=\"20%\">\n                    <ToolbarButton key=\"person\" icon=\"ion-ios-person\" />\n                </ons-col>\n            </ons-row>\n            <ons-row>\n                <ons-col>\n                    <ToolbarButton width=\"20%\" key=\"document\" icon=\"ion-ios-document\" />\n                </ons-col>\n                <ons-col>\n                    <ToolbarButton width=\"20%\" key=\"info\" icon=\"ion-ios-information-circle-outline\" onClick={this.toggleInfoDialog.bind(this)}/>\n                </ons-col>\n                <ons-col>\n                    <ToolbarButton width=\"20%\" key=\"video\" icon=\"ion-ios-videocam\" />\n                </ons-col>\n                <ons-col>\n                    <ToolbarButton width=\"20%\" key=\"phone\" icon=\"ion-ios-call\" />\n                </ons-col>\n                <ons-col>\n                    <ToolbarButton width=\"20%\" key=\"voice\" icon=\"ion-ios-pulse\" />\n                </ons-col>\n            </ons-row>\n          </Dialog>\n\n          <Dialog isOpen={this.state.emojiDialogOpen} onCancel={this.toggleEmojiDialog.bind(this)} cancelable >\n              <Picker set='apple' onClick={(emoji) => this.selectEmoji.bind(this)(emoji)} title='Pick your emoji' emoji='point_up'/>\n          </Dialog>\n\n          <Dialog className=\"sendLocationDialog\" isOpen={this.state.locationDialogOpen} onCancel={this.toggleLocationDialog.bind(this)} cancelable >\n              <iframe id=\"mapPage\" width=\"100%\" height=\"100%\" frameBorder=\"0\"\n                      src=\"https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=2GTBZ-QOKKD-7GR4W-PTM6I-5D53E-CFBNA&referer=myapp\">\n                    </iframe>\n          </Dialog>\n\n          <AlertDialog isOpen={this.state.locationPickedP} onCancel={this.handleAlertDialogCancel.bind(this)} cancelable>\n              <div className=\"alert-dialog-title\">Confirm</div>\n              <div className=\"alert-dialog-content\">\n                  Send {this.state.locationPickedObj.poiname} to {this.props.conversationId}?\n              </div>\n              <div className=\"alert-dialog-footer\">\n                  <Button onClick={this.handleAlertDialogCancel.bind(this)} className=\"alert-dialog-button\">\n                      Cancel\n                  </Button>\n                  <Button onClick={this.handleAlertDialogOk.bind(this)} className=\"alert-dialog-button\">\n                      Ok\n                  </Button>\n              </div>\n          </AlertDialog>\n\n          <Dialog isOpen={this.state.sendCryptoDialogOpen} onCancel={this.closeSendCryptoDialog.bind(this)} cancelable>\n              <ReactCardFlip isFlipped={this.state.sendCryptoDialogFlipped} flipDirection=\"vertical\">\n                  <div key=\"front\" className=\"crypto-list-wrapper\">\n                      <ons-list>\n                          {\n                              Object.keys(this.state.cryptoPortfolio).map((crypto, idx)=>{\n                                  return (\n                                      <div key={\"crypto-wrapper-\"+idx}>\n                                          <ons-list-header>{crypto}</ons-list-header>\n                                          {this.state.cryptoPortfolio[crypto].map((account, idx)=>{\n                                              return (\n                                                  <ons-list-item key={\"send-crypto-\"+crypto+idx} onClick={()=>this.flipSendCryptoDialog(crypto, account, idx)}>\n                                                      <div className=\"center\" key={\"send-crypto-\"+crypto+idx+\"-div-center\"}>\n                                                          {account.addr.slice(0, 6) + '...'}\n                                                      </div>\n                                                      <div className=\"right\" key={\"send-crypto-\"+crypto+idx+\"-div-right\"}>\n                                                          {account.balance}\n                                                      </div>\n                                                  </ons-list-item>\n                                              )\n                                          })}\n                                      </div>\n                                  )\n                              })\n                          }\n                      </ons-list>\n                  </div>\n                  <div key=\"back\" className=\"crypto-slider-wrapper\">\n                      <Range modifier=\"material\"\n                             value={this.state.cryptoToBeSent}\n                             onChange={\n                                 debounce((event) => {\n                                     this.setState({cryptoToBeSent: parseInt(event.target.value)});\n                                     }, 300, {trailing: true}\n                                 )\n                             }\n                      />\n                      <div>\n                          <span className=\"crypto-span\">\n                              {this.state.cryptoToBeSent * this.state.cryptoToBeSentMax / 100}\n                          </span>\n                          <span>\n                              {this.state.cryptoToBeSentCoinName} from {this.state.cryptoToBeSentFromAddr}\n                          </span>\n                      </div>\n                      <div>\n                          <Button modifier='quiet' onClick={this.sendCrypto.bind(this)}>\n                              Send\n                          </Button>\n                      </div>\n                       <div className=\"send-crypto-status\">\n                          <div  className=\"send-crypto-status-start\"\n                                style={{display: typeof this.props.sendCryptoStatus !== 'undefined' &&\n                                    this.props.sendCryptoStatus.status !== 'success' ? 'inline-block' : 'none'}}>\n                              Loading...\n                              <ons-icon\n                                  icon=\"ion-ios-refresh\" spin />\n                          </div>\n                      </div>\n                      {sendCryptoToHubStatus}\n                  </div>\n              </ReactCardFlip>\n          </Dialog>\n\n          <Dialog isOpen={this.state.infoDialogOpen} onCancel={this.closeInfoDialog.bind(this)}>\n              <div>\n                  {\n                      this.state.conversationType === CONVERSATION_TYPES.individual ?\n                      this.props.conversationId:\n                      <GroupChatMemberPanel memberIds={this.props.groupChatUsrIds} />\n                  }\n\n              </div>\n          </Dialog>\n\n        {/* Dialogs end   */}\n\n      </div>\n    </Page>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n    // console.log(\"state \", state);\n    const conversationId = getConversationID(state);\n    const selectedEmoji = getSelectedEmoji(state);\n    const groupChatUsrIds = getGroupChatUsrIds(state);\n    // const sendTextStatus = getSendTextStatus(state);\n    const sendCryptoToHubResult = getSendCryptoToHubResult(state);\n    const wallets = getWallets(state).wallets;\n    return {\n        conversationId,\n        selectedEmoji,\n        groupChatUsrIds,\n        sendCryptoToHubResult,\n        wallets\n    }\n};\n\nconst mapDispatchToProps = {\n  selectEmoji,\n  sendLocation,\n  sendText,\n  sendCryptoToHub,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MessageList);","import { combineReducers } from 'redux';\n\nimport {\n    SELECT_EMOJI\n} from '../actionTypes'\n\nexport const selectEmoji = (emoji) => (dispatch, getState) => {\n    dispatch({\n        type: 'SELECT_EMOJI',\n        payload: {\n            emoji\n        }\n    });\n};","import { combineReducers } from 'redux';\n\nimport {\n    SEND_LOCATION,\n} from '../actionTypes'\n\nexport const sendLocation = (locationObj) => (dispatch, getState) => {\n    dispatch({\n        type: 'SEND_LOCATION',\n        payload: {\n            ...locationObj\n        }\n    });\n};","import { combineReducers } from 'redux';\n\nimport {\n    SEND_TEXT,\n} from '../actionTypes'\n\nexport const sendText = (locationObj) => (dispatch, getState) => {\n    dispatch({\n        type: 'SEND_TEXT',\n        payload: {\n            ...locationObj\n        }\n    });\n};","import React from 'react';\nimport {\n    Page,\n    SplitterContent,\n    SplitterSide,\n    Splitter,\n    Button,\n    List,\n    ListItem,\n    BackButton,\n    Toolbar,\n    ToolbarButton,\n    Icon\n} from 'react-onsenui';\n//TODO: to be removed\nimport randomWords from 'random-words';\nimport './ContactList.css';\n//redux\nimport { connect } from 'react-redux';\nimport {goToConversation} from \"../../actions/actionCreators/goToConversation\";\nimport {debounce} from 'lodash';\n\nclass ContactList extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            collapsed: true,\n        };\n        //TODO: stub here. to be replaced with real feed (through mapStateToProps).\n        let firstNames = randomWords(100);\n        let lastNames = randomWords(100);\n        this.names = firstNames.map((fname, idx)=>{\n            return {\n                uid: idx,\n                firstName: fname,\n                lastName: lastNames[idx]\n            }\n        });\n        //TODO: using latin letters. Other lang needs alphabet mapping like below:\n        //const alphabetMapping = {'':'a', '':u ...}\n        this.splitterSideItems = [\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\", \"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\"];\n    }\n\n    componentDidMount() {\n        this.setState({\n            ...this.state,\n            lastNameAlphabet: 'a'\n        })\n    }\n\n    toggleSplitterSide() {\n        this.setState({\n            ...this.state,\n            collapsed: !this.state.collapsed\n        })\n    }\n\n    closeSplitterSide(){\n        this.setState({\n            ...this.state,\n            collapsed: true\n        })\n    }\n\n    getContactsByLastNameAlphabet(lastNameAlphabet) {\n        if (typeof lastNameAlphabet !== 'undefined') {\n            return this.names.filter((name)=>{\n            if (name.lastName[0] === lastNameAlphabet) {\n                return name;\n            }\n        });\n        }\n        return [];\n\n    }\n\n\n    toggleConversation(uid) {\n        this.props.goToConversation(uid);\n        if (typeof this.props.navigator !== 'undefined') {\n            this.props.navigator.popPage().then(page=>{\n                let ev = new CustomEvent(\"openSideMenu\", this.props.data);\n                document.dispatchEvent(ev);\n            });\n        }\n\n    };\n\n    render() {\n        return (\n            <Page>\n                <Toolbar>\n                    <div className=\"left\">\n                        <BackButton>\n                            Back\n                        </BackButton>\n                    </div>\n                    <div className=\"center\">\n                        Last name starts with {this.state.lastNameAlphabet}\n                    </div>\n                    <div className=\"right notification-menu\">\n                        <ToolbarButton onClick={()=>this.toggleSplitterSide()} modifier=\"quiet\">\n                            <Icon icon=\"md-menu\" />\n                        </ToolbarButton>\n                    </div>\n                </Toolbar>\n                <Splitter>\n                    <SplitterSide\n                        side=\"right\"\n                        width={200}\n                        swipeable={true}\n                        collapse={true}\n                        isOpen={!this.state.collapsed}\n                    >\n                        <Page>\n                            <List\n                                dataSource={this.splitterSideItems}\n                                renderRow={(row, idx) =>\n                                    <ListItem key={\"splitter-side-item-\" + idx} tappable onClick={()=>{\n                                        this.setState({\n                                            ...this.state,\n                                            lastNameAlphabet: this.splitterSideItems[idx]\n                                        });\n                                    }}>\n                                        {this.splitterSideItems[idx]}\n                                    </ListItem>\n                                }\n                            />\n                        </Page>\n                    </SplitterSide>\n                    <SplitterContent onClick={this.closeSplitterSide.bind(this)}>\n                        <Page>\n                            <List\n                                dataSource={this.getContactsByLastNameAlphabet(this.state.lastNameAlphabet)}\n                                renderRow={(row, idx) =>\n                                    <ListItem key={\"splitter-content-item-\" + idx} tappable onClick={(ev)=>{\n                                        //TODO: mapping between idx and uid required here.\n                                        this.toggleConversation(row.uid);\n                                    }}>\n                                        {\n                                            (()=>{\n                                                let name = this.getContactsByLastNameAlphabet(this.state.lastNameAlphabet)[idx];\n                                                return (\n                                                    <div className=\"center list-item__center\" key={\"splitter-content-item-\" + idx + \"-div\"}>{name.firstName} {name.lastName}</div>\n                                                )\n                                            })()\n                                        }\n                                    </ListItem>\n                                }\n                            />\n                        </Page>\n                    </SplitterContent>\n                </Splitter>\n            </Page>\n            )\n    }\n}\n\nexport default connect(\n    null,\n    {\n        goToConversation,\n    }\n)(ContactList);\n\n","import React from 'react';\nimport {\n    Page,\n    SplitterContent,\n    SplitterSide,\n    Splitter,\n    Button,\n    List,\n    ListItem,\n    BackButton,\n    Toolbar,\n    ToolbarButton,\n    Icon\n} from 'react-onsenui';\nimport './AddContactsToGroup.css';\n//redux\nimport { connect } from 'react-redux';\nimport {goToGroupChat} from '../../actions/actionCreators/goToGroupChat';\nimport GroupChatMemberPanel from '../GroupChatMemberPanel';\n//lodash\nimport {debounce} from 'lodash';\n\n//TODO: to be removed\nimport randomWords from 'random-words';\n\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nclass AddContactsToGroup extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            collapsed: true,\n            checked: []\n        };\n        //TODO: stub here. to be replaced with real feed (through mapStateToProps).\n        let firstNames = randomWords(100);\n        let lastNames = randomWords(100).map(capitalizeFirstLetter);\n        this.names = firstNames.map((fname, idx)=>{\n            return {\n                uid: idx,\n                firstName: capitalizeFirstLetter(fname),\n                lastName: capitalizeFirstLetter(lastNames[idx])\n            }\n        });\n        //TODO: using latin letters. Other lang needs alphabet mapping like below:\n        //const alphabetMapping = {'':'a', '':u ...}\n        this.splitterSideItems = [\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\", \"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"];\n        this._mounted = false;\n    }\n\n    componentDidMount() {\n        this.setState({\n            ...this.state,\n            lastNameAlphabet: 'A'\n        })\n        this._mounted = true;\n    }\n    \n    componentWillUnmount() {\n        this._mounted = false;\n    }\n    \n    toggleSplitterSide() {\n        if  (this._mounted) {\n            this.setState({\n                ...this.state,\n                collapsed: !this.state.collapsed\n            })\n        }\n    }\n    \n    closeSplitterSide(){\n        if (this._mounted) {\n            this.setState({\n                ...this.state,\n                collapsed: true\n            })\n        }\n    }\n\n    getContactsByLastNameAlphabet(lastNameAlphabet) {\n        if (typeof lastNameAlphabet !== 'undefined') {\n            return this.names.filter((name)=>{\n            if (name.lastName[0] === lastNameAlphabet) {\n                return name;\n            }\n        });\n        }\n        return [];\n\n    }\n\n    toggleSelectContact(uid) {\n        if (this.state.checked.includes(uid)) {\n            this.state.checked = this.state.checked.filter((a)=>a!==uid);\n        }\n        else {\n            this.state.checked.push(uid);\n        }\n        this.forceUpdate();\n    };\n\n    isCheckMarkVisible(uid) {\n        return this.state.checked.includes(uid);\n    }\n\n    goToGroupConversation() {\n        this.props.navigator.popPage({\n            data: {\n                groupUsrIds: this.state.checked\n            }\n        }).then(el=>{\n            this.props.goToGroupChat(this.state.checked);\n        });\n    }\n\n    render() {\n        return (\n            <Page>\n                <Toolbar>\n                    <div className=\"left\">\n                        <BackButton />\n                    </div>\n                    <div className=\"center add-group-submit-btn\">\n                        <Button modifier=\"quiet\" onClick={this.goToGroupConversation.bind(this)}>\n                            <Icon icon=\"ion-ios-checkmark\" />\n                        </Button>\n                    </div>\n                    <div className=\"right notification-menu\">\n                        <ToolbarButton onClick={()=>this.toggleSplitterSide()} modifier=\"quiet\">\n                            <Icon icon=\"md-menu\" />\n                        </ToolbarButton>\n                    </div>\n                </Toolbar>\n                <Splitter>\n                    <SplitterSide\n                        side=\"right\"\n                        width={200}\n                        swipeable={true}\n                        collapse={true}\n                        isOpen={!this.state.collapsed}\n                    >\n                        <Page>\n                            <List\n                                dataSource={this.splitterSideItems}\n                                renderRow={(row, idx) =>\n                                    <ListItem key={\"splitter-side-item-\" + idx} tappable onClick={()=>{\n                                        this.setState({\n                                            ...this.state,\n                                            lastNameAlphabet: this.splitterSideItems[idx]\n                                        });\n                                    }}>\n                                        {this.splitterSideItems[idx]}\n                                    </ListItem>\n                                }\n                            />\n                        </Page>\n                    </SplitterSide>\n                    <SplitterContent onClick={this.closeSplitterSide.bind(this)}>\n                        <Page>\n                            <div className=\"selected-uids-wrapper\">\n                                {!!this.state.checked ?  <GroupChatMemberPanel memberIds={this.state.checked} /> : \"\"}\n                            </div>\n                            <List\n                                dataSource={this.getContactsByLastNameAlphabet(this.state.lastNameAlphabet)}\n                                renderRow={(row, idx) =>\n                                    <ListItem key={\"splitter-content-item-\" + idx} tappable onClick={(ev)=>{\n                                        this.toggleSelectContact(row.uid);\n                                    }}>\n                                        {\n                                            (()=>{\n                                                let name = this.getContactsByLastNameAlphabet(this.state.lastNameAlphabet)[idx];\n                                                return (\n                                                    <div className=\"center list-item__center list-item-contact-name\" key={\"splitter-content-item-\" + idx + \"-div\"}>\n                                                        <div className=\"icon-checkmark-wrapper\">\n                                                            <Icon icon=\"ion-ios-checkmark-circle\"\n                                                              style={{display: this.isCheckMarkVisible(row.uid) ? \"inline-block\" : \"none\"}}/>\n                                                        </div>\n                                                        <div className=\"name-wrapper\">{name.firstName} <b>{name.lastName}</b></div>\n                                                    </div>\n                                                )\n                                            })()\n                                        }\n                                    </ListItem>\n                                }\n                            />\n                        </Page>\n                    </SplitterContent>\n                </Splitter>\n            </Page>\n            )\n    }\n}\n\nexport default connect(\n        null,\n    {\n        goToGroupChat,\n    }\n)(AddContactsToGroup);","import { combineReducers } from 'redux';\nimport {\n    GOTO_GROUPCHAT\n} from '../actionTypes'\n\nexport const goToGroupChat = (groupUsrIds) => (dispatch, getState) => {\n    dispatch({\n        type: GOTO_GROUPCHAT,\n        payload: {\n            groupUsrIds\n        }\n    });\n};","import React, { Component } from 'react';\nimport ConversationList from '../ConversationList';\nimport MessageList from '../MessageList';\nimport './Messenger.css';\nimport {Splitter, SplitterSide, Page, SplitterContent, Toolbar, ToolbarButton, Icon, Dialog} from 'react-onsenui';\nimport ContactList from '../ContactList';\nimport AddContactsToGroup from '../AddContactsToGroup';\nimport { connect } from 'react-redux';\nimport {goToConversation} from \"../../actions/actionCreators/goToConversation\";\n\nclass Messenger extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isOpen: true,\n            hidden: true,\n            contactListDialogOpen: false,\n        };\n        this.backBtn = React.createRef();\n        document.addEventListener(\"openSideMenu\", (ev)=>{\n            this.toggle();\n        });\n        this._isMounted = false;\n    }\n\n    componentWillUpdate(nextProps, nextState, nextContext) {\n        if (!nextState.hidden) {\n            this.backBtn.current.classList.remove(\"hidden\");\n        }\n        else {\n            this.backBtn.current.classList.add(\"hidden\");\n        }\n    }\n    \n    componentDidMount() {\n        this._isMounted = true;\n    }\n    \n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n    \n    toggle(){\n        if  (this._isMounted) {\n            this.setState({\n                isOpen: !(this.state.isOpen),\n                hidden: !(this.state.hidden),\n                hideStatus: this.state.hidden ? 'hidden' : '',\n            });\n            this.forceUpdate();\n        }\n    }\n\n    updateSessionId(config) {\n        let currentSessionId = config && config.currentSessionId;\n        if (currentSessionId) {\n            this.setState({\n                currentSessionId\n            });\n            this.props.goToConversation(currentSessionId);\n        }\n    }\n\n    pushContactList() {\n        this.props.navigator.pushPage({comp: ContactList, props: {key: \"ContactList\", navigator: this.props.navigator}});\n    }\n\n    pushAddContactsToGroup() {\n        this.props.navigator.pushPage({comp: AddContactsToGroup, props: {key: \"AddContactsToGroup\", navigator: this.props.navigator}});\n    }\n\n    render() {\n        return (\n            <Page>\n            <Toolbar>\n                <div className='center'>\n                    Messenger\n                </div>\n                <div className=\"left hidden messenger-back-btn\" ref={this.backBtn}>\n                    <ToolbarButton onClick={()=>this.toggle()} icon=\"ion-ios-arrow-back\">\n                    </ToolbarButton>\n                </div>\n                <div className=\"right\">\n                    <ToolbarButton onClick={this.pushContactList.bind(this)} modifier=\"quiet\" style={{display: this.state.isOpen ? 'inline-block' : 'none'}}>\n                        <Icon icon=\"ion-ios-contacts\" />\n                    </ToolbarButton>\n                </div>\n                <div className=\"right add-group-btn\">\n                    <ToolbarButton onClick={this.pushAddContactsToGroup.bind(this)} modifier=\"quiet\" style={{display: !this.state.isOpen ? 'inline-block' : 'none'}}>\n                        <Icon icon=\"ion-ios-plus\" />\n                    </ToolbarButton>\n                </div>\n            </Toolbar>\n\n            <Splitter>\n                <SplitterSide\n                    side=\"left\"\n                    width={\"100%\"}\n                    collapse={true}\n                    swipeable={true}\n                    isOpen={this.state.isOpen}\n                >\n                    <Page>  <ConversationList msg={this} currentSessionId={this.state.currentSessionId} /> </Page>\n                </SplitterSide>\n                <SplitterContent>\n                    <Page>  <MessageList msg={this}/> </Page>\n                </SplitterContent>\n            </Splitter>\n            </Page>\n        );\n    }\n}\n\nexport default connect(\n  null,\n  {\n    goToConversation,\n  }\n)(Messenger);\n\n","import React from 'react';\nimport {\n    Navigator\n} from 'react-onsenui';\n\nimport Messenger from \"./components/Messenger\";\n\nexport default class Pokemon extends React.Component {\n\n\n  renderPage(route, navigator) {\n    route.props = route.props || {};\n    route.props.navigator = navigator;\n\n    return React.createElement(route.comp, route.props);\n  }\n\n  render() {\n    return (\n            <Navigator\n                initialRoute={{comp: Messenger, props: { key: 'messenger' }}}\n                renderPage={this.renderPage}\n            />\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n    Page,\n    BackButton,\n    ToolbarButton,\n    Toolbar\n} from 'react-onsenui';\nimport \"./DappWrapper.css\"\n\nclass Frame extends React.Component {\n  componentDidMount() {\n    this.iframeHead = this.node.contentDocument.head\n    this.iframeRoot = this.node.contentDocument.body\n    this.forceUpdate()\n  }\n\n  render() {\n    const { children, head, ...rest } = this.props\n    return (\n\n      <iframe {...rest} ref={node => (this.node = node)}>\n        {this.iframeHead && ReactDOM.createPortal(head, this.iframeHead)}\n        {this.iframeRoot && ReactDOM.createPortal(children, this.iframeRoot)}\n      </iframe>\n    )\n  }\n}\n\n\nexport default class DappWrapper extends React.Component {\n    render() {\n        return (\n            <Page>\n                <Toolbar>\n                    <div className='center'>\n                        {this.props.name}\n                    </div>\n                    <div className=\"left\">\n                        <BackButton/>\n                    </div>\n                    <div className=\"right dapp-wrapper-toolbarbutton-more\">\n                        <ToolbarButton key=\"dapp-wrapper-toolbarbutton-more\" icon=\"ion-ios-more\" />\n                    </div>\n                </Toolbar>\n                {/*<iframe src={this.props.url}> */}\n                <div className=\"frame-wrapper\">\n                    <Frame src={this.props.url}>\n                    </Frame>\n                </div>\n            </Page>\n        )\n    }\n}\n\n\n","import React from 'react';\nimport {\n    Card\n} from 'react-onsenui';\nimport \"./AppItem.css\";\nimport DappWrapper from \"../DappWrapper\";\n\nexport default class AppItem extends React.Component {\n    gotoComponent(component, key, name, url) {\n        this.props.navigator.pushPage({comp: component, props: { key, name, url }});\n    }\n    render() {\n        return (\n            <Card><div className=\"element\" onClick={()=>{\n                this.gotoComponent(DappWrapper, \"dapp-wrapper\", this.props.name, this.props.url)\n            }}>\n                <h3>{this.props.name}</h3>\n                <p>{this.props.subtitle}</p>\n                <img alt=\"\" src={this.props.coverimg} />\n            </div></Card>\n        )\n    }\n}","import React from 'react';\nimport './LikeButton.css';\n\nexport default class LikeButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      liked: this.props.liked || false\n    };\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    //TODO: dispatch to redux to post the like. If failed, rollback the below operation.\n    this.setState({\n      ...this.state,\n      liked: !this.state.liked\n    })\n    if (this.props.onLike) {\n      this.props.onLike({\n        liked: this.state.liked\n      });\n    }\n  }\n\n  render() {\n    return (\n      <button\n        className=\"LikeButton__root\"\n        onClick={this.handleClick.bind(this)}>\n        {this.state.liked ?\n        (<i className=\"fa fa-heart LikeButton__icon LikeButton__icon--liked\"/>) :\n        (<i className=\"fa fa-heart-o LikeButton__icon\"/>)}\n      </button>\n    );\n  }\n}\n","import React from 'react';\nimport './CommentBox.css';\n\nclass CommentBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentBody: '',\n    };\n\n    this.onCommentChange = (event) => this.setState({ commentBody: event.target.value });\n    this.handleKeyDown = this._handleKeyDown.bind(this);\n  }\n\n  _handleKeyDown(event) {\n    if (event.which === 13 && this.state.commentBody.trim().length > 0 && this.props.onSubmit) {\n      this.props.onSubmit(this.state.commentBody);\n      this.setState({ commentBody: '' });\n      this.commentInput.blur();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"CommentBox__root\">\n        <input\n          className=\"CommentBox__input\"\n          type=\"text\"\n          placeholder=\"Add a comment...\"\n          value={this.state.commentBody}\n          onChange={this.onCommentChange}\n          onKeyDown={this.handleKeyDown}\n          ref={(ref) => {this.commentInput = ref}}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ConfirmationModal.css';\nimport {Modal, Button} from 'react-onsenui';\n\nconst ConfirmationModal = (props) => {\n\n  return (\n    <Modal\n      isOpen={props.isOpen}\n      onRequestClose={props.onRequestClose}\n      contentLabel=\"ConfirmationModal\"\n      >\n      <div>\n        <Button\n          className=\"ConfirmationModal__button\"\n          onClick={props.onConfirmClick}>\n          {props.confirmText}\n        </Button>\n        <Button\n          className=\"ConfirmationModal__button\"\n            onClick={props.onRequestClose}>\n            {props.cancelText}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default ConfirmationModal;\n\nConfirmationModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onRequestClose: PropTypes.func.isRequired,\n  onConfirmClick: PropTypes.func.isRequired,\n  confirmText: PropTypes.string.isRequired,\n  cancelText: PropTypes.string.isRequired,\n};\n\nConfirmationModal.defaultProps = {\n  cancelText: 'Cancel',\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './CommentItem.css';\nimport {\n  Modal,\n  Button\n} from 'react-onsenui';\nimport ConfirmationModal from '../ConfirmationModal'\n\nclass CommentItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalIsOpen: false,\n    };\n    this.modal = null;\n    this.closeModal = () => this.setState({ modalIsOpen: false });\n    this.openModal = () => this.setState({ modalIsOpen: true });\n  }\n  renderBody() {\n    const words = this.props.body.split(/\\s+/);\n    return (\n      <span>\n        {words.map((word, idx) => {\n          if (word.indexOf('#') === 0) {\n            return (\n              <span>{word}</span>\n            );\n          } else if (word.indexOf('@') === 0) {\n            return (\n              <span>{word}</span>\n            )\n          } else {\n            return ` ${word}`;\n          }\n        })}\n      </span>\n    )\n  }\n\n  render() {\n    const { username } = this.props;\n    return (\n      <div className=\"CommentItem__root\">\n        <strong><span className=\"CommentItem__username\">{username}: </span></strong> {this.renderBody()}\n        {this.props.deletable === true\n        ? (\n          <span className=\"CommentItem__delete-button\" onClick={this.openModal}>\n            <i className=\"fa fa-times\"/>\n          </span>\n          )\n        : null}\n        {this.props.deletable === true\n        ? (\n                <ConfirmationModal\n                    isOpen={this.state.modalIsOpen}\n                    onRequestClose={this.closeModal}\n                    onConfirmClick={()=>{this.props.onDelete(); this.closeModal()}}\n                    confirmText=\"Delete Comment\"\n                />\n            )\n        : null}\n      </div>\n    );\n  }\n}\n\n\n\nexport default CommentItem;\n\nCommentItem.propTypes = {\n  username: PropTypes.string.isRequired,\n  body: PropTypes.string.isRequired,\n  deletable: PropTypes.bool.isRequired,\n  onDelete: PropTypes.func,\n};\n\nCommentItem.defaultProps = {\n  deletable: false,\n};\n","import React from 'react';\nimport moment from 'moment';\nimport LikeButton from '../LikeButton';\nimport CommentBox from '../CommentBox';\nimport CommentItem from '../CommentItem';\nimport sha256 from 'sha256';\nimport './GalleryItem.css';\nimport {MY_USER_NAME} from '../../services/myUserInfo';\n\n\n/*\nGalleryItem is for rending one single gallery item in a cascading form. Example usage:\n  <GalleryItem\n    key={idx}\n    {...post}\n    onLike={() => this.props.likePost(post.id)}\n    onDislike={() => this.props.dislikePost(post.id)}\n    liked={likedPostIds.indexOf(post.id) >= 0}\n    onCommentSubmit={(commentBody) => this.props.addComment(post.id, commentBody)}\n    onCommentDelete={(commentId) => this.props.deleteComment(post.id, commentId)}\n    currentUser={currentUser}\n    onFetchMoreComments={() => this.props.fetchMoreComments(post.id)}\n    onLikersClick={() => this.openLikersModal(post.id)}\n  />\n\nA post typically would have fields assigned to GalleryItem above:\n    photo: string\n    caption: text\n    user_id: integer\n    created_at: datetime\n    updated_at: datetime\n    filter: string\n    address: string\n    lat: float\n    lng: float\n    likes_count: integer\n    comments_count: integer\n    place_id: string\n    user: {user}\n    likes: [{like}]\n    likers: [{liker}]\n    comments: [{comment}]\n    taggings: [{tagging}]\n    tags: [{tag}]\n\n */\nclass GalleryItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comments: this.props.comments,\n      likesCount: this.props.likesCount\n    };\n  }\n\n  renderLikes() {\n    const {likesCount} = this.state;\n    if (likesCount > 0) {\n      return (\n        <div className=\"GalleryItem__likes\" onClick={this.props.onLikersClick}>\n          {likesCount} {likesCount === 1 ? 'like' : 'likes'}\n        </div>\n      );\n    }\n  }\n\n  // renderCaption() {\n  //   const { caption, user: { username } } = this.props;\n  //   if (caption) {\n  //     return (\n  //       <CommentItem username={username} body={caption} />\n  //     )\n  //   }\n  // }\n\n  // renderViewMoreComments() {\n  //   const { nextPage, currentPage } = this.props.commentPagination;\n  //   if (nextPage !== null) {\n  //     return (\n  //       <div\n  //         className=\"GalleryItem__fetch-comments-link\"\n  //         onClick={this.props.onFetchMoreComments}>\n  //         {currentPage === 1\n  //         ? `View all ${this.props.commentsCount} comments`\n  //         : 'View more comments'}\n  //         View more comments\n  //       </div>\n  //     );\n  //   }\n  // }\n\n  renderComments() {\n    return (\n      <div className=\"GalleryItem__comments\">\n        {this.state.comments.map(comment => (\n          <CommentItem\n            key={comment.id}\n            username={comment.username}\n            body={comment.body}\n            deletable={MY_USER_NAME === comment.username}\n            onDelete={() => this.onCommentDelete(comment.id)}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  onCommentDelete(commentId) {\n    //TODO: call service method for confirmation or rollback\n    this.setState({\n      ...this.state,\n      comments: this.state.comments.filter(comment => commentId !== comment.id)\n    });\n  }\n\n  onCommentSubmit(commentTxt) {\n    //TODO: call service method for confirmation or rollback\n    this.setState({\n      ...this.state,\n      comments: this.state.comments.concat([{\n        id: sha256(commentTxt + '@' + moment.now().toString() ),\n        username: MY_USER_NAME,\n        body: commentTxt\n      }])\n    });\n  }\n\n  onLike(likedObj) {\n    const liked = likedObj.liked;\n    if (!liked) {\n      this.setState({\n        ...this.state,\n        likesCount: this.state.likesCount + 1\n      })\n    }\n    else {\n      this.setState({\n        ...this.state,\n        likesCount: this.state.likesCount - 1\n      })\n    }\n\n  }\n\n  render() {\n    const {\n      photoUrl,\n      createdAt,\n      filter,\n      address,\n      user: {\n        username,\n        avatarUrl\n      }\n    } = this.props;\n    return (\n      <article className=\"GalleryItem__root\">\n        <div className=\"GalleryItem-header\">\n          <div className=\"GalleryItem-header__avatar-container\">\n            <img\n              src={avatarUrl}\n              className=\"GalleryItem-header__avatar-img\"\n              alt={`${username} profile`}\n            />\n          </div>\n          <div className=\"GalleryItem-header__metadata-container\">\n            <div className=\"GalleryItem-header__username\">\n              <span>{username}</span>\n            </div>\n            {{address} ?\n            (<div className=\"GalleryItem-header__address\">\n              <span>{address}</span>\n            </div>) : null}\n          </div>\n          <div className=\"GalleryItem-header__timestamp\">\n            {moment(createdAt).fromNow()}\n          </div>\n\n        </div>\n        <div\n          onDoubleClick={this.onImageDoubleClick}\n          className={`GalleryItem__body ${filter || ''}`}\n          >\n          <img src={photoUrl} role=\"presentation\" />\n        </div>\n        <div className=\"GalleryItem__footer\">\n          {this.renderLikes()}\n\n          {/*{this.renderCaption()}*/}\n          {/*{this.renderViewMoreComments()}*/}\n\n          {this.renderComments()}\n          <div className=\"GalleryItem__action-box\">\n            <div className=\"GalleryItem__like-button\">\n              <LikeButton\n                onLike={this.onLike.bind(this)}\n              />\n            </div>\n            <div className=\"GalleryItem__comment-box\">\n              <CommentBox onSubmit={this.onCommentSubmit.bind(this)} />\n            </div>\n          </div>\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default GalleryItem;\n","import React from 'react';\nimport { connect } from 'react-redux';\n// import { Link } from 'react-router';\n// import NewPostButton from '../components/NewPostButton';\n// import NewPostModal from '../components/NewPostModal';\n// import Spinner from '../components/Spinner';\n// import FollowButton from '../components/FollowButton';\n// import LoadMoreButton from '../components/LoadMoreButton';\n// import ConfirmationModal from '../components/ConfirmationModal';\n// import UsersModalContainer from '../containers/UsersModalContainer';\n// import PhotoGrid from '../containers/PhotoGrid';\n// import NotificationCardsContainer from '../containers/NotificationCardsContainer';\n// import NotFoundPage from './NotFoundPage';\n// import {\n//   userSignOut,\n//   fetchPublicProfile,\n//   fetchPostsByUsername,\n//   followUser,\n//   unfollowUser,\n// } from '../actions';\n// import {\n//   getPublicProfileByUsername,\n//   getPostsByUsername,\n//   getIsFetchingPublicProfile,\n//   getPublicProfileErrors,\n//   getCurrentUser,\n//   getCurrentUsersFollowingIds,\n//   getIsFetchingPosts,\n//   getPaginationByUsername\n// } from '../store/rootReducer';\n// import { getAvatarUrl, pluralize } from '../utils/helpers';\nimport {Button} from 'react-onsenui';\nimport Spinner from '../Spinner';\nimport './ProfileHead.css';\n\nexport default class ProfileHead extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logoutModalIsOpen: false,\n      modalUserType: null,\n    };\n  }\n\n  render() {\n    const { username, avatarUrl } = this.props.user;\n    return (\n      <div className=\"Profile__root container\">\n        <div className=\"row Profile__user-info-container\">\n          <div className=\"four columns\">\n            <div className=\"Profile__avatar-img-wrapper\">\n              <img\n                src={avatarUrl}\n                className=\"Profile__avatar-img\"\n                alt={`${username} profile`}\n              />\n            </div>\n          </div>\n          <div className=\"five columns\">\n              <h3 className=\"Profile__username\">{username}</h3>\n          </div>\n            <Button className=\"Profile__edit-button\">\n                Edit Profile\n            </Button>\n        </div>\n      </div>\n    )\n  }\n}\n","import axios from 'axios/index';\n\nlet positionOption = { timeout: 500, enableHighAccuracy: true };\nlet gpsSuccess = function(currentPosition) {\n    return currentPosition;\n};\nlet getPositionBy3rdParty = (cb)=>{\n    axios.get('http://ip-api.com/json').then(response=>{\n        //{\"as\":\"AS16509 Amazon.com, Inc.\",\"city\":\"San Jose\",\"country\":\"United States\",\"countryCode\":\"US\",\"isp\":\"Amazon.com, Inc.\",\"lat\":37.3394,\"lon\":-121.895,\"org\":\"Amazon Technologies Inc\",\"query\":\"54.183.239.247\",\"region\":\"CA\",\"regionName\":\"California\",\"status\":\"success\",\"timezone\":\"America/Los_Angeles\",\"zip\":\"95141\"}\n        cb(response.data);\n    })\n\n};\nlet gpsFailed = function(cb) {\n    //use some 3rd party position solution(get position by your device ip)\n    getPositionBy3rdParty(cb);\n};\n\nfunction getCurrentLocation(cb) {\n  // return navigator.geolocation.getCurrentPosition(gpsSuccess, gpsFailed, positionOption);\n    return gpsFailed(cb);\n}\n\nexport default getCurrentLocation;","import React from 'react';\nimport {\n    List,\n    ListItem,\n    ListHeader,\n    Page,\n    BackButton,\n    Toolbar,\n} from 'react-onsenui';\nimport Setting from '../../Setting';\nimport './DappList.css'\nimport DappWrapper from '../DappWrapper'\n\nexport default class DappList extends React.Component {\n    gotoComponent(component, key, name, url) {\n        this.props.navigator.pushPage({comp: component, props: { key, name, url }});\n    }\n    render() {\n        return (\n            <Page>\n                <Toolbar>\n                    <div className=\"left\">\n                        <BackButton>Back</BackButton>\n                    </div>\n                </Toolbar>\n                <div className=\"dapp-list-container\">\n                    <List\n                        // renderHeader={() => <ListHeader>Components</ListHeader>}\n                        dataSource={this.props.data}\n                        renderRow={(row, idx) =>\n                            <ListItem key={\"dapp-\" + idx} tappable onClick={()=>{this.gotoComponent(DappWrapper, \"dapp-wrapper\", this.props.data[idx].name, this.props.data[idx].url)}} modifier=\"chevron\">\n                                <div className=\"left\">\n                                    <img className=\"list-item__thumbnail\" src={this.props.data[idx].coverimg||\"\"} />\n                                </div>\n                                <div className=\"center\">\n                                    <span className=\"list-item__title\">{this.props.data[idx].name||\"\"}</span><span className=\"list-item__subtitle\">{this.props.data[idx].subtitle||\"\"}</span>\n                                </div>\n                            </ListItem>\n                        }\n                    />\n                </div>\n            </Page>\n        )\n    }\n}\n","import React from 'react';\n\nimport {\n    Page,\n    BackButton\n} from 'react-onsenui';\n\nimport LikeButton from './components/LikeButton'\nimport CommentBox from \"./components/CommentBox\";\nimport CommentItem from './components/CommentItem'\nimport GalleryItem from './components/GalleryItem'\nimport ProfileHead from './components/ProfileHead'\nimport moment from 'moment'\nimport getCurrentLocation from './services/getCurrentLocation'\n\nexport default class Setting extends React.Component {\n    constructor(props) {\n        super(props);\n        this.post = {\n            photoUrl: \"https://via.placeholder.com/150/\",\n            caption: \"text\",\n            userId: 1,\n            createdAt: moment(\"20180101\", \"YYYYMMDD\"),\n            updatedAt: moment(\"20180101\", \"YYYYMMDD\"),\n            address: \"Shanghai China\",\n            lat: 0,\n            lng: 0,\n            likesCount: 108,\n            comments_count: 2,\n            place_id: 1,\n            user: {\n                username: 'toeinriver',\n                avatarUrl: 'https://via.placeholder.com/150/'\n            },\n            comments: [{\n                id: 1,\n                username: 'toeinriver',\n                body: 'yay'\n            },\n                {\n                id: 2,\n                username: 'someone',\n                body: 'hahaha'\n            },\n            ],\n            commentPagination: {\n                nextPage: null,\n                currentPage: null\n            }\n        };\n        this.likedPostIds = [1,2,3];\n        this.currentUser = {\n            username: 'toeinriver',\n            avatarUrl: 'https://via.placeholder.com/150/'\n        };\n        this.defaultPosition = {\n                lat: 0,\n                lng: 0\n            };\n        getCurrentLocation((result=>{\n            this.setState({\n                ...this.state,\n                position:{\n                    lat: result.lat,\n                    lng: result.lon\n                }\n            });\n        }));\n        this.state = {\n            position: this.defaultPosition\n        };\n        window.addEventListener('message', function(event) {\n            var loc = event.data;\n            if (loc && loc.module == 'locationPicker') {\n                console.log('location', loc);\n            }\n        }, false);\n\n\n    }\n\n    handleLocationChange ({ position, address, places }) {\n        console.log(position, address, places);\n        this.setState({ position, address, places });\n    }\n\n    render() {\n        return (\n            <Page>\n                    {/*<BackButton>*/}\n                    {/*    Press me*/}\n                    {/*</BackButton>*/}\n                    {/*<LikeButton />*/}\n                    {/*<CommentBox />*/}\n                    {/*<CommentItem username=\"toeinriver\" body=\"hello world!\" deletable={true} onDelete={()=>console.log('deleting item')} modalIsOpen={false}/>*/}\n                    {/*<GalleryItem*/}\n                    {/*    key=\"gallery-item-1\"*/}\n                    {/*    {...this.post}*/}\n                    {/*    liked={this.likedPostIds.indexOf(this.post.id) >= 0}*/}\n                    {/*    currentUser={this.currentUser}*/}\n                    {/*    onCommentSubmit={(commentBody) => this.props.addComment(this.post.id, commentBody)}*/}\n                    {/*    onCommentDelete={(commentId) => this.props.deleteComment(this.post.id, commentId)}*/}\n                    {/*    onLike={() => this.props.likePost(this.post.id)}*/}\n                    {/*    onDislike={() => this.props.dislikePost(this.post.id)}*/}\n                    {/*    onFetchMoreComments={() => this.props.fetchMoreComments(this.post.id)}*/}\n                    {/*    onLikersClick={() => this.openLikersModal(this.post.id)}*/}\n                    {/*/>*/}\n                    {/*<ProfileHead user={this.currentUser}/>*/}\n                    {/*<h1>{this.state.address}</h1>*/}\n\n                    {/*<LocationPicker*/}\n                    {/*    containerElement={ <div style={ {height: '100%'} } /> }*/}\n                    {/*    mapElement={ <div style={ {height: '400px'} } /> }*/}\n                    {/*    defaultPosition={this.state.position}*/}\n                    {/*    onChange={this.handleLocationChange.bind(this)}*/}\n                    {/*/>*/}\n                    <iframe id=\"mapPage\" width=\"100%\" height=\"100%\" frameborder=\"0\" src=\"https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=2GTBZ-QOKKD-7GR4W-PTM6I-5D53E-CFBNA&referer=myapp\">\n                    </iframe>\n            </Page>\n        )\n    }\n}","import React from 'react';\nimport HorizontalScroller from 'react-horizontal-scroll-container';\nimport {\n    Button\n} from 'react-onsenui';\nimport AppItem from '../AppItem';\nimport './AppSet.css'\nimport DappList from '../DappList';\n\nexport default class Appset extends React.Component {\n    gotoComponent(component, key, data) {\n        this.props.navigator.pushPage({comp: component, props: { key, data }});\n    }\n\n    render() {\n        if (typeof this.props.data != 'undefined') {\n            return (\n                <div className=\"app-set-container\">\n                    <div className=\"horizontal-scroller-tool-bar\">\n                        <div>\n                            <div className=\"left\">\n                                <h3><b>{this.props.category_name}</b></h3>\n                            </div>\n                            <div className='right'>\n                                <Button onClick={() => {this.gotoComponent(DappList, \"dapp-list-\" + this.props.index, this.props.data)}} modifier=\"quiet\">\n                                See all\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"horizontal-scroller-container\">\n                        <HorizontalScroller>\n                            {\n                                this.props.data.map((app) => {\n                                    return <AppItem name={app.name} subtitle={app.subtitle} coverimg={app.coverimg} key={app.name} url={app.url} navigator={this.props.navigator}/>\n                                })\n                            }\n                        </HorizontalScroller>\n                    </div>\n                </div>)\n        }\n        else\n            return \"\";\n\n    }\n}\n\n\n","import React from 'react';\nimport Slider from \"react-slick\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport \"./DappStore.css\";\nimport axios from 'axios'\nimport AppSet from '../AppSet'\nimport {\n    Page,\n    Card\n} from 'react-onsenui';\nimport {API_URL} from '../../config/constants';\n\nlet groupBy = function(xs, key) {\n  return xs.reduce(function(rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nexport default class DappStoreComponent extends React.Component {\n    constructor (props) {\n        super(props);\n        this.sliderSettings = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            arrows: false\n        };\n        this.state = {\n            editors_choices: []\n        }\n    }\n\n    componentDidMount() {\n        this.getData();\n        this.getEditorsChoicesData();\n    }\n\n    getData = () => {\n        return axios.get(`${API_URL}/app_items.json`).then(response => {\n            this.setState(prevState => {\n                let appsets = response.data.map(appset => {\n                    return {\n                        coverimg: appset.coverimg,\n                        name: appset.name,\n                        subtitle: appset.subtitle,\n                        category_id: appset.category_id,\n                        category_name: appset.category_name,\n                        url: appset.url\n                    };\n                });\n                let appSetsByCategory = {};\n                if (typeof appsets != 'undefined') {\n                    appSetsByCategory = groupBy(appsets, 'category_name');\n                }\n                return { ...prevState, appsets, appSetsByCategory };\n            });\n        });\n    };\n\n    getEditorsChoicesData = () => {\n        return axios.get(`${API_URL}/editors_choices.json`).then(response => {\n            this.setState(prevState => {\n                return { ...prevState, editors_choices: response.data};\n            });\n        });\n    };\n\n    render() {\n        if (typeof this.state.appSetsByCategory != 'undefined') {\n            return (\n            <Page>\n            <div className=\"app-set-container\">\n                <div className=\"app-set-title\"><h2><b>Editors' Choice</b></h2></div>\n                <div className=\"app-set\">\n                    <div className=\"sliderContainer\">\n                        <Slider {...this.sliderSettings}>\n                            {\n                                this.state.editors_choices && this.state.editors_choices.map((editors_choice, idx)=>{\n                                    return (\n                                        <Card key={\"card-\"+idx}>\n                                            <div className=\"img-holder\">\n                                                <img src={editors_choice.photo} alt=\"\"/>\n                                            </div>\n                                            <div className=\"app-item-title\">\n                                                <h3>{editors_choice.description}</h3></div>\n                                        </Card>\n                                    )\n                                })\n                            }\n                        </Slider>\n                    </div>\n                </div>\n            </div>\n            {\n                Object.keys(this.state.appSetsByCategory).map((category_name, index )=> {\n                return <AppSet\n                    category_name={category_name}\n                    data={this.state.appSetsByCategory[category_name]}\n                    key={'app-set-category'+category_name}\n                    navigator={this.props.navigator}\n                    index = {index}\n                />\n            })}\n            </Page>\n        )}\n        else {\n            return \"\";\n        }\n    }\n\n}","import React from 'react';\nimport {\n    Navigator\n} from 'react-onsenui';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport \"./DappStore.css\";\nimport DappStoreComponent from './DappStoreComponent';\n\nexport default class DappStore extends React.Component {\n  static renderPage(route, navigator) {\n    route.props = route.props || {};\n    route.props.navigator = navigator;\n\n    return React.createElement(route.comp, route.props);\n  }\n\n  render() {\n    return (\n            <Navigator\n                initialRoute={{comp: DappStoreComponent, props: { key: 'dapp-store-component' }}}\n                renderPage={DappStore.renderPage}\n            />\n    );\n  }\n}","import moment from 'moment';\n//TODO: mock stub\nexport const posts = [{\n    photoUrl: \"https://source.unsplash.com/random/209x209\",\n    caption: \"text\",\n    userId: 1,\n    createdAt: moment(\"20180101\", \"YYYYMMDD\"),\n    updatedAt: moment(\"20180101\", \"YYYYMMDD\"),\n    address: \"Shanghai China\",\n    lat: 0,\n    lng: 0,\n    likesCount: 108,\n    comments_count: 2,\n    user: {\n        username: 'toeinriver',\n        avatarUrl: 'https://source.unsplash.com/random/201x201'\n    },\n    comments: [{\n        id: 1,\n        username: 'toeinriver',\n        body: 'yay'\n    },\n        {\n            id: 2,\n            username: 'someone',\n            body: 'hahaha'\n        },\n    ],\n    commentPagination: {\n        nextPage: null,\n        currentPage: null\n    }\n}, {\n    photoUrl: \"https://source.unsplash.com/random/202x202\",\n    caption: \"text\",\n    userId: 1,\n    createdAt: moment(\"20180101\", \"YYYYMMDD\"),\n    updatedAt: moment(\"20180101\", \"YYYYMMDD\"),\n    address: \"Shanghai China\",\n    lat: 0,\n    lng: 0,\n    likesCount: 108,\n    comments_count: 2,\n    user: {\n        username: 'toeinriver',\n        avatarUrl: 'https://source.unsplash.com/random/203x203'\n    },\n    comments: [{\n        id: 1,\n        username: 'toeinriver',\n        body: 'yay'\n    },\n        {\n            id: 2,\n            username: 'someone',\n            body: 'hahaha'\n        },\n    ],\n    commentPagination: {\n        nextPage: null,\n        currentPage: null\n    }\n}, {\n    photoUrl: \"https://source.unsplash.com/random/200x200\",\n    caption: \"text\",\n    userId: 1,\n    createdAt: moment(\"20180101\", \"YYYYMMDD\"),\n    updatedAt: moment(\"20180101\", \"YYYYMMDD\"),\n    address: \"Shanghai China\",\n    lat: 0,\n    lng: 0,\n    likesCount: 108,\n    comments_count: 2,\n    user: {\n        username: 'toeinriver',\n        avatarUrl: 'https://source.unsplash.com/random/204x204'\n    },\n    comments: [{\n        id: 1,\n        username: 'toeinriver',\n        body: 'yay'\n    },\n        {\n            id: 2,\n            username: 'someone',\n            body: 'hahaha'\n        },\n    ],\n    commentPagination: {\n        nextPage: null,\n        currentPage: null\n    }\n}\n];","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n    Page, Toolbar, ToolbarButton\n} from 'react-onsenui';\n\nimport GalleryItem from '../components/GalleryItem'\n\nimport './styles/PhotoGallery.css'\nimport {posts} from '../services/getPosts';\n\nclass PhotoGallery extends React.Component {\n    constructor(props) {\n        super(props);\n        //TODO: mock stub\n        this.state = {\n            posts,\n            likedPostIds: [1,2,3],\n            currentUser: {\n                username: 'toeinriver',\n                avatarUrl: ''\n            }\n        };\n    }\n    render() {\n        const { posts, isFetching, likedPostIds, currentUser } = this.state;\n        return (\n        <Page>\n            {posts.map((post, idx) => (\n                <GalleryItem\n                    key={idx}\n                    {...post}\n                />\n            ))}\n        </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n});\n\nexport default connect(\n  mapStateToProps,\n  { }\n)(PhotoGallery);\n","import React from 'react';\nimport {\n    Page,\n    SplitterContent,\n    SplitterSide,\n    Splitter,\n    Button,\n    List,\n    ListItem,\n    BackButton,\n    Toolbar,\n    ToolbarButton,\n    Icon\n} from 'react-onsenui';\nimport './styles/NotificationList.css'\n\nexport default class NotificationList extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            collapsed: true,\n        };\n        //TODO: stub here. to be replaced with real feed (through mapStateToProps).\n        this.notifications = [\n            {category: \"transactions\", content: \"You received 10 BTC.\"},\n            {category: \"transactions\", content: \"You received 10 BTC.\"},\n            {category: \"transactions\", content: \"You received 10 BTC.\"},\n            {category: \"transactions\", content: \"You received 10 BTC.\"},\n            {category: \"transactions\", content: \"You received 10 BTC.\"},\n            {category: \"system\", content: \"You are friends with Alice.\"},\n            {category: \"system\", content: \"You are friends with Bob.\"},\n            {category: \"system\", content: \"You are friends with Carol.\"},\n            {category: \"system\", content: \"You are friends with Dylan.\"},\n        ];\n        this.splitterSideItems = this.notifications.reduce((result, n)=>{\n            if (result.indexOf(n.category) == -1) {\n                result.push(n.category)\n            }\n            return result;\n        }, []);\n    }\n\n    componentDidMount() {\n        this.setState({\n            ...this.state,\n            notificationCategory: this.notifications[0].category\n        })\n    }\n\n    toggleSplitterSide() {\n        this.setState({\n            ...this.state,\n            collapsed: !this.state.collapsed\n        })\n    }\n\n    closeSplitterSide(){\n        this.setState({\n            ...this.state,\n            collapsed: true\n        })\n    }\n\n    getNotificationsByCategory(category) {\n        if (typeof category !== 'undefined') {\n            return this.notifications.filter((obj)=>{\n            if (obj.category === category) {\n                return obj;\n            }\n        }).map(obj=>obj.content);\n        }\n        return [];\n\n    }\n\n    render() {\n        return (\n            <Page>\n                <Toolbar>\n                    <div className=\"left\">\n                        <BackButton>\n                            Back\n                        </BackButton>\n                    </div>\n                    <div className=\"center\">\n                        Notifications\n                    </div>\n                    <div className=\"right notification-menu\">\n                        <ToolbarButton onClick={()=>this.toggleSplitterSide()} modifier=\"quiet\">\n                            <Icon icon=\"md-menu\" />\n                        </ToolbarButton>\n                    </div>\n                </Toolbar>\n                <Splitter>\n                    <SplitterSide\n                        side=\"right\"\n                        width={200}\n                        swipeable={true}\n                        collapse={true}\n                        isOpen={!this.state.collapsed}>\n                        <Page>\n                            <List\n                                dataSource={this.splitterSideItems}\n                                renderRow={(row, idx) =>\n                                    <ListItem key={\"splitter-side-item-\" + idx} tappable onClick={()=>{\n                                        this.setState({\n                                            ...this.state,\n                                            notificationCategory: this.splitterSideItems[idx]\n                                        });\n                                    }}>\n                                        {this.splitterSideItems[idx]}\n                                    </ListItem>\n                                }\n                            />\n                        </Page>\n                    </SplitterSide>\n                    <SplitterContent onClick={this.closeSplitterSide.bind(this)}>\n                        <Page>\n                            <List\n                                dataSource={this.getNotificationsByCategory(this.state.notificationCategory)}\n                                renderRow={(row, idx) =>\n                                    <ListItem key={\"splitter-content-item-\" + idx} tappable >\n                                        <div key={\"splitter-content-item-\" + idx + \"-div\"} className=\"center list-item__center\"> {this.getNotificationsByCategory(this.state.notificationCategory)[idx]}</div>\n                                    </ListItem>\n                                }\n                            />\n                        </Page>\n                    </SplitterContent>\n                </Splitter>\n            </Page>\n            )\n    }\n}\n\n","import React from 'react';\nimport {\n    Page,\n    SplitterContent,\n    SplitterSide,\n    Splitter,\n    Button,\n    List,\n    ListItem,\n    BackButton,\n    Toolbar,\n    ToolbarButton,\n    Icon\n} from 'react-onsenui';\nimport './styles/NotificationList.css'\nimport {getWallets} from \"../reducers/createNewWallet\";\nimport { connect } from 'react-redux';\n\nclass AddressBook extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            collapsed: true,\n        };\n        this.wallets = this._transform(this.props.wallets);\n        this.splitterSideItems = this.wallets.reduce((result, n)=>{\n            if (result.indexOf(n.category) === -1) {\n                result.push(n.category)\n            }\n            return result;\n        }, []);\n    }\n    \n    _transform = wallets => wallets.map(w => {\n        return {\n            category: w.coinType,\n            address: w.address\n        }\n    });\n\n    componentDidMount() {\n        this.setState({\n            ...this.state,\n            notificationCategory: this.wallets[0].category\n        })\n    }\n\n    toggleSplitterSide() {\n        this.setState({\n            ...this.state,\n            collapsed: !this.state.collapsed\n        })\n    }\n\n    closeSplitterSide(){\n        this.setState({\n            ...this.state,\n            collapsed: true\n        })\n    }\n\n    getNotificationsByCategory(category) {\n        if (typeof category !== 'undefined') {\n            return this.wallets.filter((obj)=>{\n            if (obj.category === category) {\n                return obj;\n            }\n        }).map(obj=>obj.address);\n        }\n        return [];\n\n    }\n\n    render() {\n        return (\n            <Page>\n                <Toolbar>\n                    <div className=\"left\">\n                        <BackButton>\n                            Back\n                        </BackButton>\n                    </div>\n                    <div className=\"center\">\n                        AddressBook\n                    </div>\n                    <div className=\"right notification-menu\">\n                        <ToolbarButton onClick={()=>this.toggleSplitterSide()} modifier=\"quiet\">\n                            <Icon icon=\"md-menu\" />\n                        </ToolbarButton>\n                    </div>\n                </Toolbar>\n                <Splitter>\n                    <SplitterSide\n                        side=\"right\"\n                        width={200}\n                        swipeable={true}\n                        collapse={true}\n                        isOpen={!this.state.collapsed}\n                    >\n                        <Page>\n                            <List\n                                dataSource={this.splitterSideItems}\n                                renderRow={(row, idx) =>\n                                    <ListItem key={\"splitter-side-item-\" + idx} tappable onClick={()=>{\n                                        this.setState({\n                                            ...this.state,\n                                            notificationCategory: this.splitterSideItems[idx]\n                                        });\n                                    }}>\n                                        {this.splitterSideItems[idx]}\n                                    </ListItem>\n                                }\n                            />\n                        </Page>\n                    </SplitterSide>\n                    <SplitterContent onClick={this.closeSplitterSide.bind(this)}>\n                        <Page>\n                            <List\n                                dataSource={this.getNotificationsByCategory(this.state.notificationCategory)}\n                                renderRow={(row, idx) =>\n                                    <ListItem key={\"splitter-content-item-\" + idx} tappable >\n                                        <div key={\"splitter-content-item-\" + idx + \"-div\"} className=\"center list-item__center\"> {this.getNotificationsByCategory(this.state.notificationCategory)[idx]}</div>\n                                    </ListItem>\n                                }\n                            />\n                        </Page>\n                    </SplitterContent>\n                </Splitter>\n            </Page>\n            )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    const wallets = getWallets(state).wallets;\n    return {\n        wallets\n    }\n};\n\nexport default connect(\n  mapStateToProps,\n  null\n)(AddressBook);\n\n","import { combineReducers } from 'redux';\n\nimport {\n    LOG_IN_CURRENT_USER\n} from '../actionTypes'\n\nexport const signOutCurrentUser = () => (dispatch, getState) => {\n    dispatch({\n        type: 'LOG_IN_CURRENT_USER',\n        payload: {\n            loggedIn: false\n        }\n    });\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n    Page,\n    Navigator,\n    ListItem,\n    List,\n} from 'react-onsenui';\nimport ProfileHead from '../components/ProfileHead';\nimport NotificationList from './NotificationList';\nimport AddressBook from './AddressBook';\nimport './styles/Profile.css';\n// import { withCookies, Cookies } from 'react-cookie';\n// import {signOutCurrentUser} from '../actions/actionCreators/signOutCurrentUser';\n\nimport {signOutCurrentUser} from '../actions/actionCreators/signOutCurrentUser';\nimport { withCookies, Cookies } from 'react-cookie';\n\nclass ProfilePage extends React.Component {\n    constructor(props) {\n        super(props);\n        //TODO: mock stub here. to connect to the backend when ready\n        this.currentUser = {\n            username: 'toeinriver',\n            avatarUrl: 'https://via.placeholder.com/150/'\n        };\n        this.pageItems = [\"Notifications\", \"Wallet\", \"Settings\", \"Feedback\"];\n        this.pageItemsIcons = [\"ion-ios-notifications\", \"ion-ios-wallet\", \"ion-ios-settings\", \"ion-ios-happy\"];\n    }\n\n    // static propTypes = {\n    //     cookies: instanceOf(Cookies).isRequired\n    // };\n\n    gotoComponent(component, propsObj) {\n        if (typeof component !== 'undefined') {\n            this.props.navigator.pushPage({comp: component, props: { ...propsObj }});\n        }\n    }\n\n    static _getViewArray() {\n        return [NotificationList, AddressBook];\n    }\n\n    onLogOut() {\n        const { cookies } = this.props;\n        cookies.remove('loggedIn');\n        this.props.signOutCurrentUser();\n    }\n\n    render() {\n        return (\n            <Page>\n                <ProfileHead user={this.currentUser}/>\n                <List\n                    dataSource={this.pageItems}\n                    renderRow={(row , idx) =>\n                        <ListItem key={\"prifile-item-\" + idx} tappable modifier=\"chevron\">\n                            <div className=\"left\">\n                                <ons-icon icon={this.pageItemsIcons[idx]} class=\"list-item__icon\"/>\n                            </div>\n                            <div className=\"center\">\n                                <span className=\"list-item__title\" onClick={()=>{this.gotoComponent(ProfilePage._getViewArray()[idx], {navigator: this.props.navigator})}}>{this.pageItems[idx]||\"\"}</span>\n                            </div>\n                        </ListItem>\n                    }\n                />\n                <div className=\"splitter\"/>\n                <List>\n                    <ListItem onClick={this.onLogOut.bind(this)} key={Math.random()*100}>\n                        <div className=\"left\">\n                            <ons-icon icon=\"ion-ios-log-out\" class=\"list-item__icon\"/>\n                        </div>\n                        <div className=\"center\">\n                            Sign out\n                        </div>\n                    </ListItem>\n                </List>\n            </Page>\n        )\n    }\n}\n\nclass Profile extends React.Component {\n\n\n  static renderPage(route, navigator) {\n    route.props = route.props || {};\n    route.props.navigator = navigator;\n    return React.createElement(route.comp, route.props);\n  }\n\n  render() {\n    return (\n        <Navigator\n            initialRoute={{comp: connect(\n                    null,\n                    { signOutCurrentUser }\n                )(withCookies(ProfilePage)), props: { key: 'profile-page'}}}\n            renderPage={Profile.renderPage}\n        />\n    );\n  }\n}\n\n\nexport default Profile;\n","import React from 'react';\nimport { connect } from 'react-redux';\n// import { facebookLogin } from '../actions';\n// import { statusChangeCallback } from '../utils/facebookAuth';\n// import { getIsLoggingInWithFB } from '../store/rootReducer';\nimport {Button} from 'react-onsenui';\nimport './FacebookLoginButton.css';\n\nexport default class FacebookLoginButton extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    handleClick() {\n\n    }\n\n    render() {\n        return (\n            <div className=\"FacebookLoginButton__root\">\n                <Button modifier=\"quiet\"\n                    className=\"FacebookLoginButton__button\"\n                    onClick={this.handleClick}>\n                    {this.props.isLoggingWithFB ?\n                        (<i className=\"fa fa-spinner fa-pulse fa-3x fa-fw FacebookLoginButton__spinner\"/>) :\n                        (<div><i className=\"fa fa-facebook-official FacebookLoginButton__icon\"/> Log in with Facebook</div>)}\n                </Button>\n            </div>\n        );\n    }\n\n\n}\n","import React from 'react';\nimport {Page} from 'react-onsenui';\nimport './FormDivider.css';\n\n\nconst FormDivider = (props) => {\n  return (\n    <div className=\"FormDivider__root\">\n      <div className=\"FormDivider__line\" />\n      <div className=\"FormDivider__text\">OR</div>\n      <div className=\"FormDivider__line\"/>\n    </div>\n  );\n}\n\nexport default FormDivider;\n","import Hasher from './hasher.util';\nimport {ETHWallet} from './ETHWallet';\n\nasync function logInUser(info) {\n    const {phone, password} = info;\n    let pwdHash = await Hasher.hash(password);\n    return new Promise((resolve, reject)=>{\n        ETHWallet.store.find({\n            phone,\n            pwdHash\n        }).then(wallets=>{\n            if (wallets.length > 0) {\n                resolve(wallets);\n            }\n            else {\n                reject(\"user not exist or password wrong\");\n            }\n        }, (e)=>{\n            console.log(\"error when fetching user name and password: \", e);\n        });\n    });\n}\n\nexport default logInUser;\n\n","import {\n    LOG_IN_CURRENT_USER\n} from '../actionTypes';\n\nexport const logInCurrentUser = () => (dispatch, getState) => {\n    dispatch({\n        type: 'LOG_IN_CURRENT_USER',\n        payload: {\n            loggedIn: true\n        }\n    });\n};","import {\n    CREATE_NEW_WALLET\n} from '../actionTypes';\n\nexport const createNewWallet = (wallet) => (dispatch, getState) => {\n    dispatch({\n        type: CREATE_NEW_WALLET,\n        payload: {\n            wallet\n        }\n    });\n};","import React, { Component } from 'react';\nimport {Page, Input, Icon, ToolbarButton} from 'react-onsenui';\nimport FacebookLoginButton from '../FacebookLoginButton';\nimport FormDivider from '../FormDivider';\nimport './LoginForm.css'\nimport { instanceOf } from 'prop-types';\nimport { withCookies, Cookies } from 'react-cookie';\nimport logInUser from '../../services/logInUser';\nimport {ETHWallet} from '../../services/ETHWallet';\nimport { connect } from 'react-redux';\nimport {logInCurrentUser} from \"../../actions/actionCreators/logInCurrentUser\";\nimport {createNewWallet} from \"../../actions/actionCreators/createNewWallet\";\n\nclass LoginForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            phone: '',\n            password: ''\n        };\n        //TODO: remove in production\n        window.Wallet = ETHWallet;\n    }\n\n    static propTypes = {\n        cookies: instanceOf(Cookies).isRequired\n    };\n    \n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.phone !== this.props.phone) {\n            this.setState({\n                phone: nextProps.phone\n            })\n        }\n    }\n    \n    onSubmit() {\n        let {phone, password} = this.state;\n        logInUser({\n            phone,\n            password\n        }).then((wallets)=>{\n            console.log({wallets});\n            const wallet = wallets[0];\n            this.props.logInCurrentUser();\n            //TODO: should be a separate action like useExisitngWallets(wallets)\n            this.props.createNewWallet(wallet);\n            const { cookies } = this.props;\n            cookies.set('pwdHash', wallet.pwdHash, { path: '/' });\n            cookies.set('phone', phone, { path: '/' });\n        }, (error)=>{\n            console.log(\"signed up error\", error);\n        });\n    }\n    \n    componentDidMount() {\n        const { cookies } = this.props;\n        if (cookies.get('phone') !== 'undefined') {\n            this.phoneInputEl.value = cookies.get('phone');\n        }\n    }\n    \n    render() {\n        return (\n            <ons-page>\n                <ons-toolbar>\n                    <div className=\"center\">Log In</div>\n                    <div className=\"right\">\n                        <ToolbarButton modifier=\"quiet\" onClick={()=>this.props.toggleSplitterSide()}>\n                            <Icon icon=\"md-more\" />\n                        </ToolbarButton>\n                    </div>\n                </ons-toolbar>\n                <div className=\"login-form\">\n                    <input type=\"phone\" className=\"text-input--underbar\" placeholder=\"Phone\" ref={el=>this.phoneInputEl = el} onChange={(ev)=>this.setState({\n                            phone: ev.target.value\n                        })}/>\n                    <input type=\"password\" className=\"text-input--underbar\" placeholder=\"Password\" onChange={(ev)=>this.setState({\n                            password: ev.target.value\n                        })}/>\n                    <br/><br/>\n                    <ons-button modifier=\"large\" className=\"login-button\" onClick={this.onSubmit.bind(this)}>Log In</ons-button>\n                    <br/><br/>\n                    <ons-button modifier=\"quiet\" className=\"forgot-password\">Forgot password?</ons-button>\n                </div>\n                <FormDivider />\n                <FacebookLoginButton />\n            </ons-page>\n        );\n    }\n}\n\nexport default connect(null, {logInCurrentUser, createNewWallet})(withCookies(LoginForm));","import Hasher from './hasher.util';\nimport {ETHWallet} from './ETHWallet';\nimport {once} from 'lodash';\n\nfunction signUpUser(usr) {\n    const {fname, lname, phone, password} = usr;\n    return new Promise(function(resolve, reject) {\n        Hasher.hash(password).then((hash) => {\n            let pwdHash = hash;\n            const {mnemonic, privateKey, publicKey, address} = ETHWallet.generate();\n            const wallet = ETHWallet.create(phone,fname + '.' + lname, mnemonic, privateKey, publicKey, address, pwdHash).encrypt(pwdHash);\n            console.log(\"saving wallet\");\n            wallet.save().then(() => {\n                console.log(\"wallet saved. please keep mnemonic in somewhere safe: \", mnemonic);\n                resolve(wallet);\n            }, (e) => {\n                console.log(\"database saved error: \", e);\n                reject(e);\n            });\n        }, (e) => {\n            reject(e)\n        });\n    });\n}\n\nexport default signUpUser;","import React, { Component } from 'react';\nimport {Page, Input, Icon, ToolbarButton} from 'react-onsenui';\nimport { connect } from 'react-redux';\nimport FacebookLoginButton from '../FacebookLoginButton';\nimport FormDivider from '../FormDivider';\nimport './SignUpForm.css'\nimport signUpUser from '../../services/signUpUser';\nimport { withCookies, Cookies } from 'react-cookie';\nimport {logInCurrentUser} from '../../actions/actionCreators/logInCurrentUser';\nimport {createNewWallet} from '../../actions/actionCreators/createNewWallet';\nimport {ETHWallet} from '../../services/ETHWallet';\n\nclass SignUpForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            fname: \"\",\n            lname: \"\",\n            phone: \"\",\n            password: \"\"\n        };\n        //TODO: remove in production\n        window.Wallet = ETHWallet;\n    }\n\n    onSubmit() {\n        let {fname, lname, phone, password} = this.state;\n        signUpUser({\n            fname, lname, phone, password\n        }).then((wallet)=>{\n            this.props.logInCurrentUser();\n            this.props.createNewWallet(wallet);\n            const { cookies } = this.props;\n            cookies.set('phone', wallet.phone, { path: '/' });\n        }, (error)=>{\n            console.log(\"signed up error\", error);\n        });\n    }\n\n    render() {\n        return (\n            <ons-page>\n                <ons-toolbar>\n                    <div className=\"right\">\n                        <ToolbarButton onClick={()=>this.props.toggleSplitterSide()} modifier=\"quiet\">\n                            <Icon icon=\"md-more\" />\n                        </ToolbarButton>\n                    </div>\n                    <div className=\"center\">Sign up</div>\n                </ons-toolbar>\n\n                <div className=\"formarea\">\n                    <div className=\"form-row\">\n                        <input type=\"text\" className=\"text-input--underbar width-half\" placeholder=\"First\" onChange={(ev)=>this.setState({\n                            ...this.state,\n                            fname: ev.target.value\n                        })}/>\n                        <input type=\"text\" className=\"text-input--underbar width-half\" placeholder=\"Last\" style={{'borderWidthLeft': '1px'}} onChange={(ev)=>this.setState({\n                            ...this.state,\n                            lname: ev.target.value\n                        })}/>\n                    </div>\n\n                    <div className=\"form-row\">\n                        <input type=\"text\" className=\"text-input--underbar width-full\" placeholder=\"Phone\" onChange={(ev)=>this.setState({\n                            ...this.state,\n                            phone: ev.target.value\n                        })}/>\n                    </div>\n\n                    <div className=\"form-row\">\n                        <input type=\"password\" className=\"text-input--underbar width-full\" placeholder=\"Password\" onChange={(ev)=>this.setState({\n                            ...this.state,\n                            password: ev.target.value\n                        })}/>\n                    </div>\n\n                    <div className=\"lucent\">\n                        <p className=\"note\">Password - 6 characters or more</p>\n                    </div>\n\n                    <div className=\"vspc form-row\">\n                        <ons-button modifier=\"large\" onClick={this.onSubmit.bind(this)}>Sign up</ons-button>\n                    </div>\n                </div>\n\n                <FormDivider />\n                <FacebookLoginButton />\n            </ons-page>\n        );\n    }\n}\n\n\n\nexport default connect(null, {logInCurrentUser, createNewWallet})(withCookies(SignUpForm));","import React, {Component} from 'react';\nimport Flipcard from '@kennethormandy/react-flipcard'\nimport '@kennethormandy/react-flipcard/dist/Flipcard.css'\nimport LoginForm from '../components/LoginForm';\nimport SignUpForm from '../components/SignUpForm';\nimport {getCook} from '../utils/cookie';\nimport './styles/UserAuth.css'\n\nexport default class UserAuth extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isFlipped: false\n        };\n        this.handleClick = this.handleClick.bind(this);\n    }\n    \n    componentDidMount() {\n      if (getCook('phone') || getCook('pwdHash') || getCook('loggedIn')) {\n        this.setState({\n          isFlipped: true,\n          loginFormPhoneField: getCook('phone') || \"\"\n        })\n      }\n    }\n  \n  handleClick(e) {\n        this.setState(prevState => ({ isFlipped: !prevState.isFlipped }));\n    }\n\n    render() {\n        return (\n            <div>\n                <Flipcard flipped={this.state.isFlipped} type=\"revolving-door\">\n                        <SignUpForm key=\"sign-up-form\" toggleSplitterSide={this.handleClick.bind(this)}/>\n                        <LoginForm phone={this.state.loginFormPhoneField} key=\"log-in-form\" toggleSplitterSide={this.handleClick.bind(this)}/>\n                </Flipcard>\n            </div>\n        )\n    }\n}","import {\n    LOG_IN_CURRENT_USER\n} from '../actions/actionTypes';\n\nconst initialState = {\n    loggedIn: false\n};\n\nexport const logInCurrentUser = (state = initialState, action) => {\n  switch (action.type) {\n      case LOG_IN_CURRENT_USER:\n        return {\n            ...state,\n            loggedIn: action.payload.loggedIn\n        };\n    default:\n      return state;\n  }\n};\n\nexport default ({\n    logInCurrentUser\n});\n\n//selectors\nexport const getLoggedInStatus = (state) => {\n    return {\n        loggedIn: state.logInCurrentUser.loggedIn,\n    };\n};","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport * as Ons from 'react-onsenui';\nimport './App.css';\nimport 'onsenui/css/onsenui.css';\nimport 'onsenui/css/onsen-css-components.css';\nimport Pokemon from './Pokemon';\nimport DappStore from \"./components/DappStore\";\nimport \"ionicons/dist/css/ionicons.css\";\nimport PhotoGallery from \"./containers/PhotoGallery\";\nimport Profile from './containers/Profile';\nimport UserAuth from './containers/UserAuth';\nimport { instanceOf } from 'prop-types';\nimport { withCookies, Cookies } from 'react-cookie';\nimport {getLoggedInStatus} from \"./reducers/logInCurrentUser\";\n\nclass App extends Component {\n\n    static propTypes = {\n        cookies: instanceOf(Cookies).isRequired\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            index: 0,\n            loggedIn: this.props.loggedIn\n        };\n        document.ontouchmove = function(event){\n            event.preventDefault();\n        }\n    }\n\n    componentDidMount() {\n        const { cookies } = this.props;\n        // let name = 'josh';\n        // cookies.set('name', name, { path: '/' });\n        // if  (cookies.get('userId')) {\n        // }\n        // let loggedIn = cookies.get('loggedIn');\n        // if (loggedIn) {\n        //     this.setState({\n        //         loggedIn: true\n        //     })\n        // }\n    }\n    \n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        if (nextProps.loggedIn !== this.props.loggedIn || nextProps.loggedIn !== this.state.loggedIn || nextProps.loggedIn !== nextState.loggedIn) {\n            return true;\n        }\n        else if (nextProps !== this.props || nextState !== this.state) {\n            return true;\n        }\n        return false;\n    }\n    \n    \n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.loggedIn !== this.props.loggedIn) {\n            const { cookies } = this.props;\n            this.setState({\n                loggedIn: this.props.loggedIn\n            });\n            cookies.set('loggedIn', this.props.loggedIn, { path: '/' });\n        }\n    }\n    \n    render() {\n        return (\n            <Ons.Page>\n            <div className=\"App\">\n                {(()=>{\n                    return (\n\n                        (()=>{\n                            if(this.state.loggedIn) {\n                                return (\n                                    <Ons.Page>\n                                        <Ons.Tabbar key={\"tabbar-logged-in-\" + this.state.loggedIn}\n                                            renderTabs={() => [\n                                                {\n                                                    content: <Pokemon key=\"pokemon\"/>,\n                                                    tab: <Ons.Tab label=\"Pokemon\" icon=\"md-home\" key=\"pokemon\" />\n                                                },\n                                                {\n                                                    content: <DappStore key=\"dapp-store\" />,\n                                                    tab: <Ons.Tab label=\"DappStore\" icon=\"md-apps\" key=\"dapp-store\"/>\n                                                },\n                                                {\n                                                    content: <PhotoGallery key=\"photo-gallery\"/>,\n                                                    tab: <Ons.Tab label=\"Wall\" icon=\"ion-logo-instagram\" key=\"photo-gallery\" />\n                                                },\n                                                {\n                                                    content: <Profile key=\"profile\"/>,\n                                                    tab: <Ons.Tab label=\"Profile\" icon=\"ion-ios-person\" key=\"profile\" />\n                                                }\n                                            ]\n                                            }\n                                        />\n                                    </Ons.Page>\n                                )\n                            }\n                            else {\n                                return (\n                                    <Ons.Page>\n                                        <UserAuth key={\"user-auth-logged-in-\" + this.state.loggedIn}/>\n                                    </Ons.Page>\n                                )}})())})()}\n            </div>\n            </Ons.Page>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n  loggedIn: getLoggedInStatus(state).loggedIn,\n});\n\nexport default connect(\n  mapStateToProps,\n  {  }\n)(withCookies(App));","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport {goToConversation} from '../reducers/goToConversation';\nimport {sendCryptos} from '../reducers/sendCrypto';\nimport {selectEmoji} from '../reducers/selectEmoji';\nimport {searchMessageText} from '../reducers/searchMessageText';\nimport {logInCurrentUser} from '../reducers/logInCurrentUser';\nimport {goToGroupChat} from '../reducers/goToGroupChat';\nimport {sendLocation} from '../reducers/sendLocation';\nimport {sendText} from '../reducers/sendText';\nimport {sendCryptoToHub} from '../reducers/sendCryptoToHub';\nimport {createNewWallet} from '../reducers/createNewWallet';\n\nconst appReducer = combineReducers({\n  goToConversation,\n  sendCryptos,\n  selectEmoji,\n  searchMessageText,\n  logInCurrentUser,\n  goToGroupChat,\n  sendLocation,\n  sendText,\n  sendCryptoToHub,\n  createNewWallet\n});\n\nconst rootReducer = (state, action) => {\n  let reducedResult = appReducer(state, action);\n  return reducedResult;\n}\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport configureStore from './stores/configureStore';\nimport {Provider} from 'react-redux';\nimport { CookiesProvider } from 'react-cookie';\n// import './vendor/Skeleton-2.0.4/css/normalize.css';\n// import './vendor/Skeleton-2.0.4/css/skeleton.css';\n\nconst store = configureStore();\n\nconst startApp = () => {\n  ReactDOM.render(\n    <CookiesProvider>\n      <Provider store={store}>\n        <App/>\n      </Provider>\n    </CookiesProvider>,\n    document.getElementById('root'));\n}\n// If you   want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nif (window.cordova) {\n  document.addEventListener('deviceready', startApp, false);\n} else {\n  startApp();\n};\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n// import throttle from 'lodash/throttle';\nimport rootReducer from './rootReducer';\nimport { loadState, saveState } from './localStorage';\n\nconst configureStore = (initialState = {}) => {\n  let middleware = applyMiddleware(thunk);\n\n  // if (process.env.NODE_ENV !== 'production' && window.devToolsExtension) {\n  //   const devtools = window.devToolsExtension();\n  //   middleware = compose(middleware, devtools);\n  // }\n\n  const persistedState = loadState();\n\n  const store = createStore(rootReducer, { ...persistedState, ...initialState }, middleware);\n\n  /* ==============================================================\n  Every time store is updated, persist the state to local storage.\n  Wrapping with throttle to make sure it doesn't get called more\n  than once every 1000ms\n  ============================================================== */\n  // store.subscribe(throttle(() => {\n  //   const state = store.getState();\n  //   const stateToPersist = {\n  //     currentUser: state.currentUser,\n  //   };\n  //   saveState(stateToPersist);\n  // }, 1000));\n\n  return store;\n};\n\nexport default configureStore;\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('hackafy');\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    console.log('Error occurred while loading state from Local Storage');\n    return undefined;\n  }\n}\n\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('hackafy', serializedState);\n  } catch (err) {\n    console.log('Error occurred while persisting state to Local Storage');\n  }\n}\n","import crypto from 'crypto';\n\nclass Hasher {\n\n    static hash(password) {\n\n        return new Promise((resolve, reject) => {\n\n            if (!password) reject('No value provided');\n\n            crypto.pbkdf2(password, Hasher.Salt, 2048, 48, Hasher.Algorithm, (err, data) => {\n                if (err) reject(err);\n\n                const hex = data.toString('hex');\n                resolve(hex);\n\n            });\n        });\n    }\n\n    static encrypt(key, password) {\n        const cipher = crypto.createCipher(Hasher.Encryption, password);\n        return cipher.update(key, Hasher.Encoding.In, Hasher.Encoding.Out) + cipher.final(Hasher.Encoding.Out);\n    }\n\n    static decrypt(key, password) {\n        const cipher = crypto.createDecipher(Hasher.Encryption, password);\n        return cipher.update(key, Hasher.Encoding.Out, Hasher.Encoding.In) + cipher.final(Hasher.Encoding.In);\n    }\n}\n\nHasher.Salt = 'jswallet';\nHasher.Algorithm = 'sha512';\nHasher.Encryption = 'aes-256-cbc';\nHasher.Encoding = {\n    In: 'utf8',\n    Out: 'hex'\n};\nexport default Hasher;\n","import {orderBy, uniq, head, find, filter} from 'lodash';\n\nArray.prototype.uniq = function() {\n  return uniq(this);\n};\nArray.prototype.orderBy = function (...cond) {\n  return orderBy(this, ...cond);\n};\nArray.prototype.head = function () {\n  return head(this);\n};\nArray.prototype.find = function (...args) {\n  return find(this, ...args);\n};\nArray.prototype.filter = function (pred) {\n  return filter(this, pred);\n};"],"sourceRoot":""}